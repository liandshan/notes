function changeSelect(t,e){var n=$(e);n.empty(),n.append("<option>\u8bf7\u9009\u62e9\u5206\u7c7b.</option>"),$.ajax({url:"/categories.json?parent_id="+t,success:function(t){$.each(t,function(t,e){n.append("<option value="+e.id+">"+e.title+"</option>")})}})}function clearSelect(t){var e=$(t);e.empty(),e.append("<option>\u8bf7\u9009\u62e9\u5206\u7c7b.</option>")}function initEditer(t,e){new Simditor({textarea:$(t),toolbar:["title","bold","italic","underline","strikethrough","fontScale","color","ol","ul","blockquote","code","table","link","image","hr","indent","outdent","alignment"],upload:{url:"",params:e,fileKey:"upload_file"}})}function initUploadImage(t,e,n,r){document.getElementById(t).addEventListener("change",function(t){var i=t.target.files[0];new OSS.Wrapper(n).multipartUpload(e,i).then(function(t){r(t)})["catch"](function(t){console.log(t)})})}!function(t,e){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){"use strict";function n(t,e,n){var r,i=(e=e||st).createElement("script");if(i.text=t,n)for(r in _t)n[r]&&(i[r]=n[r]);e.head.appendChild(i).parentNode.removeChild(i)}function r(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?dt[ht.call(t)]||"object":typeof t}function i(t){var e=!!t&&"length"in t&&t.length,n=r(t);return!vt(t)&&!bt(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}function o(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}function s(t,e,n){return vt(e)?wt.grep(t,function(t,r){return!!e.call(t,r,t)!==n}):e.nodeType?wt.grep(t,function(t){return t===e!==n}):"string"!=typeof e?wt.grep(t,function(t){return pt.call(e,t)>-1!==n}):wt.filter(e,t,n)}function a(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function u(t){var e={};return wt.each(t.match(Lt)||[],function(t,n){e[n]=!0}),e}function l(t){return t}function c(t){throw t}function p(t,e,n,r){var i;try{t&&vt(i=t.promise)?i.call(t).done(e).fail(n):t&&vt(i=t.then)?i.call(t,e,n):e.apply(void 0,[t].slice(r))}catch(t){n.apply(void 0,[t])}}function d(){st.removeEventListener("DOMContentLoaded",d),t.removeEventListener("load",d),wt.ready()}function h(t,e){return e.toUpperCase()}function f(t){return t.replace(Mt,"ms-").replace(jt,h)}function m(){this.expando=wt.expando+m.uid++}function g(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:Ft.test(t)?JSON.parse(t):t)}function y(t,e,n){var r;if(void 0===n&&1===t.nodeType)if(r="data-"+e.replace(Ht,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(r))){try{n=g(n)}catch(t){}Ut.set(t,e,n)}else n=void 0;return n}function v(t,e,n,r){var i,o,s=20,a=r?function(){return r.cur()}:function(){return wt.css(t,e,"")},u=a(),l=n&&n[3]||(wt.cssNumber[e]?"":"px"),c=(wt.cssNumber[e]||"px"!==l&&+u)&&Wt.exec(wt.css(t,e));if(c&&c[3]!==l){for(u/=2,l=l||c[3],c=+u||1;s--;)wt.style(t,e,c+l),(1-o)*(1-(o=a()/u||.5))<=0&&(s=0),c/=o;c*=2,wt.style(t,e,c+l),n=n||[]}return n&&(c=+c||+u||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=i)),i}function b(t){var e,n=t.ownerDocument,r=t.nodeName,i=Xt[r];return i||(e=n.body.appendChild(n.createElement(r)),i=wt.css(e,"display"),e.parentNode.removeChild(e),"none"===i&&(i="block"),Xt[r]=i,i)}function _(t,e){for(var n,r,i=[],o=0,s=t.length;o<s;o++)(r=t[o]).style&&(n=r.style.display,e?("none"===n&&(i[o]=qt.get(r,"display")||null,i[o]||(r.style.display="")),""===r.style.display&&zt(r)&&(i[o]=b(r))):"none"!==n&&(i[o]="none",qt.set(r,"display",n)));for(o=0;o<s;o++)null!=i[o]&&(t[o].style.display=i[o]);return t}function w(t,e){var n;return n="undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e||"*"):"undefined"!=typeof t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&o(t,e)?wt.merge([t],n):n}function E(t,e){for(var n=0,r=t.length;n<r;n++)qt.set(t[n],"globalEval",!e||qt.get(e[n],"globalEval"))}function T(t,e,n,i,o){for(var s,a,u,l,c,p,d=e.createDocumentFragment(),h=[],f=0,m=t.length;f<m;f++)if((s=t[f])||0===s)if("object"===r(s))wt.merge(h,s.nodeType?[s]:s);else if(Zt.test(s)){for(a=a||d.appendChild(e.createElement("div")),u=(Qt.exec(s)||["",""])[1].toLowerCase(),l=Jt[u]||Jt._default,a.innerHTML=l[1]+wt.htmlPrefilter(s)+l[2],p=l[0];p--;)a=a.lastChild;wt.merge(h,a.childNodes),(a=d.firstChild).textContent=""}else h.push(e.createTextNode(s));for(d.textContent="",f=0;s=h[f++];)if(i&&wt.inArray(s,i)>-1)o&&o.push(s);else if(c=wt.contains(s.ownerDocument,s),a=w(d.appendChild(s),"script"),c&&E(a),n)for(p=0;s=a[p++];)$t.test(s.type||"")&&n.push(s);return d}function x(){return!0}function S(){return!1}function C(){try{return st.activeElement}catch(t){}}function A(t,e,n,r,i,o){var s,a;if("object"==typeof e){"string"!=typeof n&&(r=r||n,n=void 0);for(a in e)A(t,a,n,r,e[a],o);return t}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=S;else if(!i)return t;return 1===o&&(s=i,(i=function(t){return wt().off(t),s.apply(this,arguments)}).guid=s.guid||(s.guid=wt.guid++)),t.each(function(){wt.event.add(this,e,i,r,n)})}function k(t,e){return o(t,"table")&&o(11!==e.nodeType?e:e.firstChild,"tr")?wt(t).children("tbody")[0]||t:t}function I(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function D(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function R(t,e){var n,r,i,o,s,a,u,l;if(1===e.nodeType){if(qt.hasData(t)&&(o=qt.access(t),s=qt.set(e,o),l=o.events)){delete s.handle,s.events={};for(i in l)for(n=0,r=l[i].length;n<r;n++)wt.event.add(e,i,l[i][n])}Ut.hasData(t)&&(a=Ut.access(t),u=wt.extend({},a),Ut.set(e,u))}}function L(t,e){var n=e.nodeName.toLowerCase();"input"===n&&Yt.test(t.type)?e.checked=t.checked:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}function N(t,e,r,i){e=lt.apply([],e);var o,s,a,u,l,c,p=0,d=t.length,h=d-1,f=e[0],m=vt(f);if(m||d>1&&"string"==typeof f&&!yt.checkClone&&se.test(f))return t.each(function(n){var o=t.eq(n);m&&(e[0]=f.call(this,n,o.html())),N(o,e,r,i)});if(d&&(o=T(e,t[0].ownerDocument,!1,t,i),s=o.firstChild,1===o.childNodes.length&&(o=s),s||i)){for(u=(a=wt.map(w(o,"script"),I)).length;p<d;p++)l=o,p!==h&&(l=wt.clone(l,!0,!0),u&&wt.merge(a,w(l,"script"))),r.call(t[p],l,p);if(u)for(c=a[a.length-1].ownerDocument,wt.map(a,D),p=0;p<u;p++)l=a[p],$t.test(l.type||"")&&!qt.access(l,"globalEval")&&wt.contains(c,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?wt._evalUrl&&wt._evalUrl(l.src):n(l.textContent.replace(ae,""),c,l))}return t}function P(t,e,n){for(var r,i=e?wt.filter(e,t):t,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||wt.cleanData(w(r)),r.parentNode&&(n&&wt.contains(r.ownerDocument,r)&&E(w(r,"script")),r.parentNode.removeChild(r));return t}function O(t,e,n){var r,i,o,s,a=t.style;return(n=n||le(t))&&(""!==(s=n.getPropertyValue(e)||n[e])||wt.contains(t.ownerDocument,t)||(s=wt.style(t,e)),!yt.pixelBoxStyles()&&ue.test(s)&&ce.test(e)&&(r=a.width,i=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=r,a.minWidth=i,a.maxWidth=o)),void 0!==s?s+"":s}function M(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}function j(t){if(t in ge)return t;for(var e=t[0].toUpperCase()+t.slice(1),n=me.length;n--;)if((t=me[n]+e)in ge)return t}function B(t){var e=wt.cssProps[t];return e||(e=wt.cssProps[t]=j(t)||t),e}function q(t,e,n){var r=Wt.exec(e);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):e}function U(t,e,n,r,i,o){var s="width"===e?1:0,a=0,u=0;if(n===(r?"border":"content"))return 0;for(;s<4;s+=2)"margin"===n&&(u+=wt.css(t,n+Kt[s],!0,i)),r?("content"===n&&(u-=wt.css(t,"padding"+Kt[s],!0,i)),"margin"!==n&&(u-=wt.css(t,"border"+Kt[s]+"Width",!0,i))):(u+=wt.css(t,"padding"+Kt[s],!0,i),"padding"!==n?u+=wt.css(t,"border"+Kt[s]+"Width",!0,i):a+=wt.css(t,"border"+Kt[s]+"Width",!0,i));return!r&&o>=0&&(u+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-o-u-a-.5))),u}function F(t,e,n){var r=le(t),i=O(t,e,r),o="border-box"===wt.css(t,"boxSizing",!1,r),s=o;if(ue.test(i)){if(!n)return i;i="auto"}return s=s&&(yt.boxSizingReliable()||i===t.style[e]),("auto"===i||!parseFloat(i)&&"inline"===wt.css(t,"display",!1,r))&&(i=t["offset"+e[0].toUpperCase()+e.slice(1)],s=!0),(i=parseFloat(i)||0)+U(t,e,n||(o?"border":"content"),s,r,i)+"px"}function H(t,e,n,r,i){return new H.prototype.init(t,e,n,r,i)}function V(){ve&&(!1===st.hidden&&t.requestAnimationFrame?t.requestAnimationFrame(V):t.setTimeout(V,wt.fx.interval),wt.fx.tick())}function W(){return t.setTimeout(function(){ye=void 0}),ye=Date.now()}function K(t,e){var n,r=0,i={height:t};for(e=e?1:0;r<4;r+=2-e)i["margin"+(n=Kt[r])]=i["padding"+n]=t;return e&&(i.opacity=i.width=t),i}function z(t,e,n){for(var r,i=(Y.tweeners[e]||[]).concat(Y.tweeners["*"]),o=0,s=i.length;o<s;o++)if(r=i[o].call(n,e,t))return r}function G(t,e,n){var r,i,o,s,a,u,l,c,p="width"in e||"height"in e,d=this,h={},f=t.style,m=t.nodeType&&zt(t),g=qt.get(t,"fxshow");n.queue||(null==(s=wt._queueHooks(t,"fx")).unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,d.always(function(){d.always(function(){s.unqueued--,wt.queue(t,"fx").length||s.empty.fire()})}));for(r in e)if(i=e[r],be.test(i)){if(delete e[r],o=o||"toggle"===i,i===(m?"hide":"show")){if("show"!==i||!g||void 0===g[r])continue;m=!0}h[r]=g&&g[r]||wt.style(t,r)}if((u=!wt.isEmptyObject(e))||!wt.isEmptyObject(h)){p&&1===t.nodeType&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],null==(l=g&&g.display)&&(l=qt.get(t,"display")),"none"===(c=wt.css(t,"display"))&&(l?c=l:(_([t],!0),l=t.style.display||l,c=wt.css(t,"display"),_([t]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===wt.css(t,"float")&&(u||(d.done(function(){f.display=l}),null==l&&(c=f.display,l="none"===c?"":c)),f.display="inline-block")),n.overflow&&(f.overflow="hidden",d.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]})),u=!1;for(r in h)u||(g?"hidden"in g&&(m=g.hidden):g=qt.access(t,"fxshow",{display:l}),o&&(g.hidden=!m),m&&_([t],!0),d.done(function(){m||_([t]),qt.remove(t,"fxshow");for(r in h)wt.style(t,r,h[r])})),u=z(m?g[r]:0,r,d),r in g||(g[r]=u.start,m&&(u.end=u.start,u.start=0))}}function X(t,e){var n,r,i,o,s;for(n in t)if(r=f(n),i=e[r],o=t[n],Array.isArray(o)&&(i=o[1],o=t[n]=o[0]),n!==r&&(t[r]=o,delete t[n]),(s=wt.cssHooks[r])&&"expand"in s){o=s.expand(o),delete t[r];for(n in o)n in t||(t[n]=o[n],e[n]=i)}else e[r]=i}function Y(t,e,n){var r,i,o=0,s=Y.prefilters.length,a=wt.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var e=ye||W(),n=Math.max(0,l.startTime+l.duration-e),r=1-(n/l.duration||0),o=0,s=l.tweens.length;o<s;o++)l.tweens[o].run(r);return a.notifyWith(t,[l,r,n]),r<1&&s?n:(s||a.notifyWith(t,[l,1,0]),a.resolveWith(t,[l]),!1)},l=a.promise({elem:t,props:wt.extend({},e),opts:wt.extend(!0,{specialEasing:{},easing:wt.easing._default},n),originalProperties:e,originalOptions:n,startTime:ye||W(),duration:n.duration,tweens:[],createTween:function(e,n){var r=wt.Tween(t,l.opts,e,n,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(r),r},stop:function(e){var n=0,r=e?l.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)l.tweens[n].run(1);return e?(a.notifyWith(t,[l,1,0]),a.resolveWith(t,[l,e])):a.rejectWith(t,[l,e]),this}}),c=l.props;for(X(c,l.opts.specialEasing);o<s;o++)if(r=Y.prefilters[o].call(l,t,c,l.opts))return vt(r.stop)&&(wt._queueHooks(l.elem,l.opts.queue).stop=r.stop.bind(r)),r;return wt.map(c,z,l),vt(l.opts.start)&&l.opts.start.call(t,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),wt.fx.timer(wt.extend(u,{elem:t,anim:l,queue:l.opts.queue})),l}function Q(t){return(t.match(Lt)||[]).join(" ")}function $(t){return t.getAttribute&&t.getAttribute("class")||""}function J(t){return Array.isArray(t)?t:"string"==typeof t?t.match(Lt)||[]:[]}function Z(t,e,n,i){var o;if(Array.isArray(e))wt.each(e,function(e,r){n||Re.test(t)?i(t,r):Z(t+"["+("object"==typeof r&&null!=r?e:"")+"]",r,n,i)});else if(n||"object"!==r(e))i(t,e);else for(o in e)Z(t+"["+o+"]",e[o],n,i)}function tt(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var r,i=0,o=e.toLowerCase().match(Lt)||[];if(vt(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(t[r]=t[r]||[]).unshift(n)):(t[r]=t[r]||[]).push(n)}}function et(t,e,n,r){function i(a){var u;return o[a]=!0,wt.each(t[a]||[],function(t,a){var l=a(e,n,r);return"string"!=typeof l||s||o[l]?s?!(u=l):void 0:(e.dataTypes.unshift(l),i(l),!1)}),u}var o={},s=t===Ve;return i(e.dataTypes[0])||!o["*"]&&i("*")}function nt(t,e){var n,r,i=wt.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((i[n]?t:r||(r={}))[n]=e[n]);return r&&wt.extend(!0,t,r),t}function rt(t,e,n){for(var r,i,o,s,a=t.contents,u=t.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=t.mimeType||e.getResponseHeader("Content-Type"));if(r)for(i in a)if(a[i]&&a[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||t.converters[i+" "+u[0]]){o=i;break}s||(s=i)}o=o||s}if(o)return o!==u[0]&&u.unshift(o),n[o]}function it(t,e,n,r){var i,o,s,a,u,l={},c=t.dataTypes.slice();if(c[1])for(s in t.converters)l[s.toLowerCase()]=t.converters[s];for(o=c.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!u&&r&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(s=l[u+" "+o]||l["* "+o]))for(i in l)if((a=i.split(" "))[1]===o&&(s=l[u+" "+a[0]]||l["* "+a[0]])){!0===s?s=l[i]:!0!==l[i]&&(o=a[0],c.unshift(a[1]));break}if(!0!==s)if(s&&t["throws"])e=s(e);else try{e=s(e)}catch(t){return{state:"parsererror",error:s?t:"No conversion from "+u+" to "+o}}}return{state:"success",data:e}}var ot=[],st=t.document,at=Object.getPrototypeOf,ut=ot.slice,lt=ot.concat,ct=ot.push,pt=ot.indexOf,dt={},ht=dt.toString,ft=dt.hasOwnProperty,mt=ft.toString,gt=mt.call(Object),yt={},vt=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType},bt=function(t){return null!=t&&t===t.window},_t={type:!0,src:!0,noModule:!0},wt=function(t,e){return new wt.fn.init(t,e)},Et=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;wt.fn=wt.prototype={jquery:"3.3.1",constructor:wt,length:0,toArray:function(){return ut.call(this)},get:function(t){return null==t?ut.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=wt.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return wt.each(this,t)},map:function(t){return this.pushStack(wt.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(ut.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:ct,sort:ot.sort,splice:ot.splice},wt.extend=wt.fn.extend=function(){var t,e,n,r,i,o,s=arguments[0]||{},a=1,u=arguments.length,l=!1;for("boolean"==typeof s&&(l=s,s=arguments[a]||{},a++),"object"==typeof s||vt(s)||(s={}),a===u&&(s=this,a--);a<u;a++)if(null!=(t=arguments[a]))for(e in t)n=s[e],s!==(r=t[e])&&(l&&r&&(wt.isPlainObject(r)||(i=Array.isArray(r)))?(i?(i=!1,o=n&&Array.isArray(n)?n:[]):o=n&&wt.isPlainObject(n)?n:{},s[e]=wt.extend(l,o,r)):void 0!==r&&(s[e]=r));return s},wt.extend({expando:"jQuery"+("3.3.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==ht.call(t)||(e=at(t))&&("function"!=typeof(n=ft.call(e,"constructor")&&e.constructor)||mt.call(n)!==gt))},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t){n(t)},each:function(t,e){var n,r=0;if(i(t))for(n=t.length;r<n&&!1!==e.call(t[r],r,t[r]);r++);else for(r in t)if(!1===e.call(t[r],r,t[r]))break;return t},trim:function(t){return null==t?"":(t+"").replace(Et,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(i(Object(t))?wt.merge(n,"string"==typeof t?[t]:t):ct.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:pt.call(e,t,n)},merge:function(t,e){for(var n=+e.length,r=0,i=t.length;r<n;r++)t[i++]=e[r];return t.length=i,t},grep:function(t,e,n){for(var r=[],i=0,o=t.length,s=!n;i<o;i++)!e(t[i],i)!==s&&r.push(t[i]);return r},map:function(t,e,n){var r,o,s=0,a=[];if(i(t))for(r=t.length;s<r;s++)null!=(o=e(t[s],s,n))&&a.push(o);else for(s in t)null!=(o=e(t[s],s,n))&&a.push(o);return lt.apply([],a)},guid:1,support:yt}),"function"==typeof Symbol&&(wt.fn[Symbol.iterator]=ot[Symbol.iterator]),wt.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){dt["[object "+e+"]"]=e.toLowerCase()});var Tt=function(t){function e(t,e,n,r){var i,o,s,a,u,l,c,d=e&&e.ownerDocument,f=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==f&&9!==f&&11!==f)return n;if(!r&&((e?e.ownerDocument||e:F)!==N&&L(e),e=e||N,O)){if(11!==f&&(u=yt.exec(t)))if(i=u[1]){if(9===f){if(!(s=e.getElementById(i)))return n;if(s.id===i)return n.push(s),n}else if(d&&(s=d.getElementById(i))&&q(e,s)&&s.id===i)return n.push(s),n}else{if(u[2])return J.apply(n,e.getElementsByTagName(t)),n;if((i=u[3])&&E.getElementsByClassName&&e.getElementsByClassName)return J.apply(n,e.getElementsByClassName(i)),n}if(E.qsa&&!z[t+" "]&&(!M||!M.test(t))){if(1!==f)d=e,c=t;else if("object"!==e.nodeName.toLowerCase()){for((a=e.getAttribute("id"))?a=a.replace(wt,Et):e.setAttribute("id",a=U),o=(l=C(t)).length;o--;)l[o]="#"+a+" "+h(l[o]);c=l.join(","),d=vt.test(t)&&p(e.parentNode)||e}if(c)try{return J.apply(n,d.querySelectorAll(c)),n}catch(t){}finally{a===U&&e.removeAttribute("id")}}}return k(t.replace(at,"$1"),e,n,r)}function n(){function t(n,r){return e.push(n+" ")>T.cacheLength&&delete t[e.shift()],t[n+" "]=r}var e=[];return t}function r(t){return t[U]=!0,t}function i(t){var e=N.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function o(t,e){for(var n=t.split("|"),r=n.length;r--;)T.attrHandle[n[r]]=e}function s(t,e){var n=e&&t,r=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function a(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function u(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function l(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&xt(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function c(t){return r(function(e){return e=+e,r(function(n,r){for(var i,o=t([],n.length,e),s=o.length;s--;)n[i=o[s]]&&(n[i]=!(r[i]=n[i]))})})}function p(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function d(){}function h(t){for(var e=0,n=t.length,r="";e<n;e++)r+=t[e].value;return r}function f(t,e,n){var r=e.dir,i=e.next,o=i||r,s=n&&"parentNode"===o,a=V++;return e.first?function(e,n,i){for(;e=e[r];)if(1===e.nodeType||s)return t(e,n,i);return!1}:function(e,n,u){var l,c,p,d=[H,a];if(u){for(;e=e[r];)if((1===e.nodeType||s)&&t(e,n,u))return!0}else for(;e=e[r];)if(1===e.nodeType||s)if(p=e[U]||(e[U]={}),c=p[e.uniqueID]||(p[e.uniqueID]={}),i&&i===e.nodeName.toLowerCase())e=e[r]||e;else{if((l=c[o])&&l[0]===H&&l[1]===a)return d[2]=l[2];if(c[o]=d,d[2]=t(e,n,u))return!0}return!1}}function m(t){return t.length>1?function(e,n,r){for(var i=t.length;i--;)if(!t[i](e,n,r))return!1;return!0}:t[0]}function g(t,n,r){for(var i=0,o=n.length;i<o;i++)e(t,n[i],r);return r}function y(t,e,n,r,i){for(var o,s=[],a=0,u=t.length,l=null!=e;a<u;a++)(o=t[a])&&(n&&!n(o,r,i)||(s.push(o),l&&e.push(a)));return s}function v(t,e,n,i,o,s){return i&&!i[U]&&(i=v(i)),o&&!o[U]&&(o=v(o,s)),r(function(r,s,a,u){var l,c,p,d=[],h=[],f=s.length,m=r||g(e||"*",a.nodeType?[a]:a,[]),v=!t||!r&&e?m:y(m,d,t,a,u),b=n?o||(r?t:f||i)?[]:s:v;if(n&&n(v,b,a,u),i)for(l=y(b,h),i(l,[],a,u),c=l.length;c--;)(p=l[c])&&(b[h[c]]=!(v[h[c]]=p));if(r){if(o||t){if(o){for(l=[],c=b.length;c--;)(p=b[c])&&l.push(v[c]=p);o(null,b=[],l,u)}for(c=b.length;c--;)(p=b[c])&&(l=o?tt(r,p):d[c])>-1&&(r[l]=!(s[l]=p))}}else b=y(b===s?b.splice(f,b.length):b),o?o(null,s,b,u):J.apply(s,b)})}function b(t){for(var e,n,r,i=t.length,o=T.relative[t[0].type],s=o||T.relative[" "],a=o?1:0,u=f(function(t){return t===e},s,!0),l=f(function(t){return tt(e,t)>-1},s,!0),c=[function(t,n,r){var i=!o&&(r||n!==I)||((e=n).nodeType?u(t,n,r):l(t,n,r));return e=null,i}];a<i;a++)if(n=T.relative[t[a].type])c=[f(m(c),n)];else{if((n=T.filter[t[a].type].apply(null,t[a].matches))[U]){for(r=++a;r<i&&!T.relative[t[r].type];r++);return v(a>1&&m(c),a>1&&h(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(at,"$1"),n,a<r&&b(t.slice(a,r)),r<i&&b(t=t.slice(r)),r<i&&h(t))}c.push(n)}return m(c)}function _(t,n){var i=n.length>0,o=t.length>0,s=function(r,s,a,u,l){var c,p,d,h=0,f="0",m=r&&[],g=[],v=I,b=r||o&&T.find.TAG("*",l),_=H+=null==v?1:Math.random()||.1,w=b.length;for(l&&(I=s===N||s||l);f!==w&&null!=(c=b[f]);f++){if(o&&c){for(p=0,s||c.ownerDocument===N||(L(c),a=!O);d=t[p++];)if(d(c,s||N,a)){u.push(c);break}l&&(H=_)}i&&((c=!d&&c)&&h--,r&&m.push(c))}if(h+=f,i&&f!==h){for(p=0;d=n[p++];)d(m,g,s,a);if(r){if(h>0)for(;f--;)m[f]||g[f]||(g[f]=Q.call(u));g=y(g)}J.apply(u,g),l&&!r&&g.length>0&&h+n.length>1&&e.uniqueSort(u)}return l&&(H=_,I=v),m};return i?r(s):s}var w,E,T,x,S,C,A,k,I,D,R,L,N,P,O,M,j,B,q,U="sizzle"+1*new Date,F=t.document,H=0,V=0,W=n(),K=n(),z=n(),G=function(t,e){return t===e&&(R=!0),0},X={}.hasOwnProperty,Y=[],Q=Y.pop,$=Y.push,J=Y.push,Z=Y.slice,tt=function(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1},et="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nt="[\\x20\\t\\r\\n\\f]",rt="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",it="\\["+nt+"*("+rt+")(?:"+nt+"*([*^$|!~]?=)"+nt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+rt+"))|)"+nt+"*\\]",ot=":("+rt+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+it+")*)|.*)\\)|)",st=new RegExp(nt+"+","g"),at=new RegExp("^"+nt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nt+"+$","g"),ut=new RegExp("^"+nt+"*,"+nt+"*"),lt=new RegExp("^"+nt+"*([>+~]|"+nt+")"+nt+"*"),ct=new RegExp("="+nt+"*([^\\]'\"]*?)"+nt+"*\\]","g"),pt=new RegExp(ot),dt=new RegExp("^"+rt+"$"),ht={ID:new RegExp("^#("+rt+")"),CLASS:new RegExp("^\\.("+rt+")"),TAG:new RegExp("^("+rt+"|[*])"),ATTR:new RegExp("^"+it),PSEUDO:new RegExp("^"+ot),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nt+"*(even|odd|(([+-]|)(\\d*)n|)"+nt+"*(?:([+-]|)"+nt+"*(\\d+)|))"+nt+"*\\)|)","i"),bool:new RegExp("^(?:"+et+")$","i"),needsContext:new RegExp("^"+nt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nt+"*((?:-\\d)?\\d*)"+nt+"*\\)|)(?=[^-]|$)","i")},ft=/^(?:input|select|textarea|button)$/i,mt=/^h\d$/i,gt=/^[^{]+\{\s*\[native \w/,yt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,vt=/[+~]/,bt=new RegExp("\\\\([\\da-f]{1,6}"+nt+"?|("+nt+")|.)","ig"),_t=function(t,e,n){var r="0x"+e-65536;return r!==r||n?e:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},wt=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,Et=function(t,e){return e?"\0"===t?"\ufffd":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},Tt=function(){L()},xt=f(function(t){return!0===t.disabled&&("form"in t||"label"in t)},{dir:"parentNode",next:"legend"});try{J.apply(Y=Z.call(F.childNodes),F.childNodes),Y[F.childNodes.length].nodeType}catch(t){J={apply:Y.length?function(t,e){$.apply(t,Z.call(e))}:function(t,e){for(var n=t.length,r=0;t[n++]=e[r++];);t.length=n-1}}}E=e.support={},S=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},L=e.setDocument=function(t){var e,n,r=t?t.ownerDocument||t:F;return r!==N&&9===r.nodeType&&r.documentElement?(N=r,P=N.documentElement,O=!S(N),F!==N&&(n=N.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",Tt,!1):n.attachEvent&&n.attachEvent("onunload",Tt)),E.attributes=i(function(t){return t.className="i",!t.getAttribute("className")}),E.getElementsByTagName=i(function(t){return t.appendChild(N.createComment("")),!t.getElementsByTagName("*").length}),E.getElementsByClassName=gt.test(N.getElementsByClassName),E.getById=i(function(t){return P.appendChild(t).id=U,!N.getElementsByName||!N.getElementsByName(U).length}),E.getById?(T.filter.ID=function(t){var e=t.replace(bt,_t);return function(t){return t.getAttribute("id")===e}},T.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&O){var n=e.getElementById(t);return n?[n]:[]}}):(T.filter.ID=function(t){var e=t.replace(bt,_t);return function(t){var n="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}},T.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&O){var n,r,i,o=e.getElementById(t);if(o){if((n=o.getAttributeNode("id"))&&n.value===t)return[o];for(i=e.getElementsByName(t),r=0;o=i[r++];)if((n=o.getAttributeNode("id"))&&n.value===t)return[o]}return[]}}),T.find.TAG=E.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):E.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,r=[],i=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},T.find.CLASS=E.getElementsByClassName&&function(t,e){if("undefined"!=typeof e.getElementsByClassName&&O)return e.getElementsByClassName(t)},j=[],M=[],(E.qsa=gt.test(N.querySelectorAll))&&(i(function(t){P.appendChild(t).innerHTML="<a id='"+U+"'></a><select id='"+U+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&M.push("[*^$]="+nt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||M.push("\\["+nt+"*(?:value|"+et+")"),t.querySelectorAll("[id~="+U+"-]").length||M.push("~="),t.querySelectorAll(":checked").length||M.push(":checked"),t.querySelectorAll("a#"+U+"+*").length||M.push(".#.+[+~]")}),i(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=N.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&M.push("name"+nt+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&M.push(":enabled",":disabled"),P.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&M.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),M.push(",.*:")})),(E.matchesSelector=gt.test(B=P.matches||P.webkitMatchesSelector||P.mozMatchesSelector||P.oMatchesSelector||P.msMatchesSelector))&&i(function(t){E.disconnectedMatch=B.call(t,"*"),B.call(t,"[s!='']:x"),j.push("!=",ot)}),M=M.length&&new RegExp(M.join("|")),j=j.length&&new RegExp(j.join("|")),e=gt.test(P.compareDocumentPosition),q=e||gt.test(P.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,r=e&&e.parentNode;return t===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):t.compareDocumentPosition&&16&t.compareDocumentPosition(r)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},G=e?function(t,e){if(t===e)return R=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n||(1&(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!E.sortDetached&&e.compareDocumentPosition(t)===n?t===N||t.ownerDocument===F&&q(F,t)?-1:e===N||e.ownerDocument===F&&q(F,e)?1:D?tt(D,t)-tt(D,e):0:4&n?-1:1)}:function(t,e){if(t===e)return R=!0,0;var n,r=0,i=t.parentNode,o=e.parentNode,a=[t],u=[e];if(!i||!o)return t===N?-1:e===N?1:i?-1:o?1:D?tt(D,t)-tt(D,e):0;if(i===o)return s(t,e);for(n=t;n=n.parentNode;)a.unshift(n);for(n=e;n=n.parentNode;)u.unshift(n);for(;a[r]===u[r];)r++;return r?s(a[r],u[r]):a[r]===F?-1:u[r]===F?1:0},N):N},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==N&&L(t),n=n.replace(ct,"='$1']"),E.matchesSelector&&O&&!z[n+" "]&&(!j||!j.test(n))&&(!M||!M.test(n)))try{var r=B.call(t,n);if(r||E.disconnectedMatch||t.document&&11!==t.document.nodeType)return r}catch(t){}return e(n,N,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==N&&L(t),q(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==N&&L(t);var n=T.attrHandle[e.toLowerCase()],r=n&&X.call(T.attrHandle,e.toLowerCase())?n(t,e,!O):void 0;return void 0!==r?r:E.attributes||!O?t.getAttribute(e):(r=t.getAttributeNode(e))&&r.specified?r.value:null},e.escape=function(t){return(t+"").replace(wt,Et)},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],r=0,i=0;if(R=!E.detectDuplicates,D=!E.sortStable&&t.slice(0),t.sort(G),R){for(;e=t[i++];)e===t[i]&&(r=n.push(i));for(;r--;)t.splice(n[r],1)}return D=null,t},x=e.getText=function(t){var e,n="",r=0,i=t.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=x(t)}else if(3===i||4===i)return t.nodeValue}else for(;e=t[r++];)n+=x(e);return n},(T=e.selectors={cacheLength:50,createPseudo:r,match:ht,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(bt,_t),t[3]=(t[3]||t[4]||t[5]||"").replace(bt,_t),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return ht.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&pt.test(n)&&(e=C(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(bt,_t).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=W[t+" "];return e||(e=new RegExp("(^|"+nt+")"+t+"("+nt+"|$)"))&&W(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,n,r){return function(i){var o=e.attr(i,t);return null==o?"!="===n:!n||(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o.replace(st," ")+" ").indexOf(r)>-1:"|="===n&&(o===r||o.slice(0,r.length+1)===r+"-"))}},CHILD:function(t,e,n,r,i){var o="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===r&&0===i?function(t){return!!t.parentNode}:function(e,n,u){var l,c,p,d,h,f,m=o!==s?"nextSibling":"previousSibling",g=e.parentNode,y=a&&e.nodeName.toLowerCase(),v=!u&&!a,b=!1;if(g){if(o){for(;m;){for(d=e;d=d[m];)if(a?d.nodeName.toLowerCase()===y:1===d.nodeType)return!1;f=m="only"===t&&!f&&"nextSibling"}return!0}if(f=[s?g.firstChild:g.lastChild],s&&v){for(b=(h=(l=(c=(p=(d=g)[U]||(d[U]={}))[d.uniqueID]||(p[d.uniqueID]={}))[t]||[])[0]===H&&l[1])&&l[2],d=h&&g.childNodes[h];d=++h&&d&&d[m]||(b=h=0)||f.pop();)if(1===d.nodeType&&++b&&d===e){c[t]=[H,h,b];break}}else if(v&&(b=h=(l=(c=(p=(d=e)[U]||(d[U]={}))[d.uniqueID]||(p[d.uniqueID]={}))[t]||[])[0]===H&&l[1]),!1===b)for(;(d=++h&&d&&d[m]||(b=h=0)||f.pop())&&((a?d.nodeName.toLowerCase()!==y:1!==d.nodeType)||!++b||(v&&((c=(p=d[U]||(d[U]={}))[d.uniqueID]||(p[d.uniqueID]={}))[t]=[H,b]),d!==e)););return(b-=i)===r||b%r==0&&b/r>=0}}},PSEUDO:function(t,n){var i,o=T.pseudos[t]||T.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[U]?o(n):o.length>1?(i=[t,t,"",n],T.setFilters.hasOwnProperty(t.toLowerCase())?r(function(t,e){for(var r,i=o(t,n),s=i.length;s--;)t[r=tt(t,i[s])]=!(e[r]=i[s])}):function(t){return o(t,0,i)}):o}},pseudos:{not:r(function(t){var e=[],n=[],i=A(t.replace(at,"$1"));return i[U]?r(function(t,e,n,r){for(var o,s=i(t,null,r,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))}):function(t,r,o){return e[0]=t,i(e,null,o,n),e[0]=null,!n.pop()}}),has:r(function(t){return function(n){return e(t,n).length>0}}),contains:r(function(t){return t=t.replace(bt,_t),function(e){return(e.textContent||e.innerText||x(e)).indexOf(t)>-1}}),lang:r(function(t){return dt.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(bt,_t).toLowerCase(),function(e){var n;do{if(n=O?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash
;return n&&n.slice(1)===e.id},root:function(t){return t===P},focus:function(t){return t===N.activeElement&&(!N.hasFocus||N.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:l(!1),disabled:l(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!T.pseudos.empty(t)},header:function(t){return mt.test(t.nodeName)},input:function(t){return ft.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:c(function(){return[0]}),last:c(function(t,e){return[e-1]}),eq:c(function(t,e,n){return[n<0?n+e:n]}),even:c(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:c(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:c(function(t,e,n){for(var r=n<0?n+e:n;--r>=0;)t.push(r);return t}),gt:c(function(t,e,n){for(var r=n<0?n+e:n;++r<e;)t.push(r);return t})}}).pseudos.nth=T.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})T.pseudos[w]=a(w);for(w in{submit:!0,reset:!0})T.pseudos[w]=u(w);return d.prototype=T.filters=T.pseudos,T.setFilters=new d,C=e.tokenize=function(t,n){var r,i,o,s,a,u,l,c=K[t+" "];if(c)return n?0:c.slice(0);for(a=t,u=[],l=T.preFilter;a;){r&&!(i=ut.exec(a))||(i&&(a=a.slice(i[0].length)||a),u.push(o=[])),r=!1,(i=lt.exec(a))&&(r=i.shift(),o.push({value:r,type:i[0].replace(at," ")}),a=a.slice(r.length));for(s in T.filter)!(i=ht[s].exec(a))||l[s]&&!(i=l[s](i))||(r=i.shift(),o.push({value:r,type:s,matches:i}),a=a.slice(r.length));if(!r)break}return n?a.length:a?e.error(t):K(t,u).slice(0)},A=e.compile=function(t,e){var n,r=[],i=[],o=z[t+" "];if(!o){for(e||(e=C(t)),n=e.length;n--;)(o=b(e[n]))[U]?r.push(o):i.push(o);(o=z(t,_(i,r))).selector=t}return o},k=e.select=function(t,e,n,r){var i,o,s,a,u,l="function"==typeof t&&t,c=!r&&C(t=l.selector||t);if(n=n||[],1===c.length){if((o=c[0]=c[0].slice(0)).length>2&&"ID"===(s=o[0]).type&&9===e.nodeType&&O&&T.relative[o[1].type]){if(!(e=(T.find.ID(s.matches[0].replace(bt,_t),e)||[])[0]))return n;l&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(i=ht.needsContext.test(t)?0:o.length;i--&&(s=o[i],!T.relative[a=s.type]);)if((u=T.find[a])&&(r=u(s.matches[0].replace(bt,_t),vt.test(o[0].type)&&p(e.parentNode)||e))){if(o.splice(i,1),!(t=r.length&&h(o)))return J.apply(n,r),n;break}}return(l||A(t,c))(r,e,!O,n,!e||vt.test(t)&&p(e.parentNode)||e),n},E.sortStable=U.split("").sort(G).join("")===U,E.detectDuplicates=!!R,L(),E.sortDetached=i(function(t){return 1&t.compareDocumentPosition(N.createElement("fieldset"))}),i(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||o("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),E.attributes&&i(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||o("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),i(function(t){return null==t.getAttribute("disabled")})||o(et,function(t,e,n){var r;if(!n)return!0===t[e]?e.toLowerCase():(r=t.getAttributeNode(e))&&r.specified?r.value:null}),e}(t);wt.find=Tt,wt.expr=Tt.selectors,wt.expr[":"]=wt.expr.pseudos,wt.uniqueSort=wt.unique=Tt.uniqueSort,wt.text=Tt.getText,wt.isXMLDoc=Tt.isXML,wt.contains=Tt.contains,wt.escapeSelector=Tt.escape;var xt=function(t,e,n){for(var r=[],i=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(i&&wt(t).is(n))break;r.push(t)}return r},St=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},Ct=wt.expr.match.needsContext,At=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;wt.filter=function(t,e,n){var r=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===r.nodeType?wt.find.matchesSelector(r,t)?[r]:[]:wt.find.matches(t,wt.grep(e,function(t){return 1===t.nodeType}))},wt.fn.extend({find:function(t){var e,n,r=this.length,i=this;if("string"!=typeof t)return this.pushStack(wt(t).filter(function(){for(e=0;e<r;e++)if(wt.contains(i[e],this))return!0}));for(n=this.pushStack([]),e=0;e<r;e++)wt.find(t,i[e],n);return r>1?wt.uniqueSort(n):n},filter:function(t){return this.pushStack(s(this,t||[],!1))},not:function(t){return this.pushStack(s(this,t||[],!0))},is:function(t){return!!s(this,"string"==typeof t&&Ct.test(t)?wt(t):t||[],!1).length}});var kt,It=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(wt.fn.init=function(t,e,n){var r,i;if(!t)return this;if(n=n||kt,"string"==typeof t){if(!(r="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:It.exec(t))||!r[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(r[1]){if(e=e instanceof wt?e[0]:e,wt.merge(this,wt.parseHTML(r[1],e&&e.nodeType?e.ownerDocument||e:st,!0)),At.test(r[1])&&wt.isPlainObject(e))for(r in e)vt(this[r])?this[r](e[r]):this.attr(r,e[r]);return this}return(i=st.getElementById(r[2]))&&(this[0]=i,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):vt(t)?void 0!==n.ready?n.ready(t):t(wt):wt.makeArray(t,this)}).prototype=wt.fn,kt=wt(st);var Dt=/^(?:parents|prev(?:Until|All))/,Rt={children:!0,contents:!0,next:!0,prev:!0};wt.fn.extend({has:function(t){var e=wt(t,this),n=e.length;return this.filter(function(){for(var t=0;t<n;t++)if(wt.contains(this,e[t]))return!0})},closest:function(t,e){var n,r=0,i=this.length,o=[],s="string"!=typeof t&&wt(t);if(!Ct.test(t))for(;r<i;r++)for(n=this[r];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&wt.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?wt.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?pt.call(wt(t),this[0]):pt.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(wt.uniqueSort(wt.merge(this.get(),wt(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),wt.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return xt(t,"parentNode")},parentsUntil:function(t,e,n){return xt(t,"parentNode",n)},next:function(t){return a(t,"nextSibling")},prev:function(t){return a(t,"previousSibling")},nextAll:function(t){return xt(t,"nextSibling")},prevAll:function(t){return xt(t,"previousSibling")},nextUntil:function(t,e,n){return xt(t,"nextSibling",n)},prevUntil:function(t,e,n){return xt(t,"previousSibling",n)},siblings:function(t){return St((t.parentNode||{}).firstChild,t)},children:function(t){return St(t.firstChild)},contents:function(t){return o(t,"iframe")?t.contentDocument:(o(t,"template")&&(t=t.content||t),wt.merge([],t.childNodes))}},function(t,e){wt.fn[t]=function(n,r){var i=wt.map(this,e,n);return"Until"!==t.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=wt.filter(r,i)),this.length>1&&(Rt[t]||wt.uniqueSort(i),Dt.test(t)&&i.reverse()),this.pushStack(i)}});var Lt=/[^\x20\t\r\n\f]+/g;wt.Callbacks=function(t){t="string"==typeof t?u(t):wt.extend({},t);var e,n,i,o,s=[],a=[],l=-1,c=function(){for(o=o||t.once,i=e=!0;a.length;l=-1)for(n=a.shift();++l<s.length;)!1===s[l].apply(n[0],n[1])&&t.stopOnFalse&&(l=s.length,n=!1);t.memory||(n=!1),e=!1,o&&(s=n?[]:"")},p={add:function(){return s&&(n&&!e&&(l=s.length-1,a.push(n)),function e(n){wt.each(n,function(n,i){vt(i)?t.unique&&p.has(i)||s.push(i):i&&i.length&&"string"!==r(i)&&e(i)})}(arguments),n&&!e&&c()),this},remove:function(){return wt.each(arguments,function(t,e){for(var n;(n=wt.inArray(e,s,n))>-1;)s.splice(n,1),n<=l&&l--}),this},has:function(t){return t?wt.inArray(t,s)>-1:s.length>0},empty:function(){return s&&(s=[]),this},disable:function(){return o=a=[],s=n="",this},disabled:function(){return!s},lock:function(){return o=a=[],n||e||(s=n=""),this},locked:function(){return!!o},fireWith:function(t,n){return o||(n=[t,(n=n||[]).slice?n.slice():n],a.push(n),e||c()),this},fire:function(){return p.fireWith(this,arguments),this},fired:function(){return!!i}};return p},wt.extend({Deferred:function(e){var n=[["notify","progress",wt.Callbacks("memory"),wt.Callbacks("memory"),2],["resolve","done",wt.Callbacks("once memory"),wt.Callbacks("once memory"),0,"resolved"],["reject","fail",wt.Callbacks("once memory"),wt.Callbacks("once memory"),1,"rejected"]],r="pending",i={state:function(){return r},always:function(){return o.done(arguments).fail(arguments),this},"catch":function(t){return i.then(null,t)},pipe:function(){var t=arguments;return wt.Deferred(function(e){wt.each(n,function(n,r){var i=vt(t[r[4]])&&t[r[4]];o[r[1]](function(){var t=i&&i.apply(this,arguments);t&&vt(t.promise)?t.promise().progress(e.notify).done(e.resolve).fail(e.reject):e[r[0]+"With"](this,i?[t]:arguments)})}),t=null}).promise()},then:function(e,r,i){function o(e,n,r,i){return function(){var a=this,u=arguments,p=function(){var t,p;if(!(e<s)){if((t=r.apply(a,u))===n.promise())throw new TypeError("Thenable self-resolution");p=t&&("object"==typeof t||"function"==typeof t)&&t.then,vt(p)?i?p.call(t,o(s,n,l,i),o(s,n,c,i)):(s++,p.call(t,o(s,n,l,i),o(s,n,c,i),o(s,n,l,n.notifyWith))):(r!==l&&(a=void 0,u=[t]),(i||n.resolveWith)(a,u))}},d=i?p:function(){try{p()}catch(t){wt.Deferred.exceptionHook&&wt.Deferred.exceptionHook(t,d.stackTrace),e+1>=s&&(r!==c&&(a=void 0,u=[t]),n.rejectWith(a,u))}};e?d():(wt.Deferred.getStackHook&&(d.stackTrace=wt.Deferred.getStackHook()),t.setTimeout(d))}}var s=0;return wt.Deferred(function(t){n[0][3].add(o(0,t,vt(i)?i:l,t.notifyWith)),n[1][3].add(o(0,t,vt(e)?e:l)),n[2][3].add(o(0,t,vt(r)?r:c))}).promise()},promise:function(t){return null!=t?wt.extend(t,i):i}},o={};return wt.each(n,function(t,e){var s=e[2],a=e[5];i[e[1]]=s.add,a&&s.add(function(){r=a},n[3-t][2].disable,n[3-t][3].disable,n[0][2].lock,n[0][3].lock),s.add(e[3].fire),o[e[0]]=function(){return o[e[0]+"With"](this===o?void 0:this,arguments),this},o[e[0]+"With"]=s.fireWith}),i.promise(o),e&&e.call(o,o),o},when:function(t){var e=arguments.length,n=e,r=Array(n),i=ut.call(arguments),o=wt.Deferred(),s=function(t){return function(n){r[t]=this,i[t]=arguments.length>1?ut.call(arguments):n,--e||o.resolveWith(r,i)}};if(e<=1&&(p(t,o.done(s(n)).resolve,o.reject,!e),"pending"===o.state()||vt(i[n]&&i[n].then)))return o.then();for(;n--;)p(i[n],s(n),o.reject);return o.promise()}});var Nt=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;wt.Deferred.exceptionHook=function(e,n){t.console&&t.console.warn&&e&&Nt.test(e.name)&&t.console.warn("jQuery.Deferred exception: "+e.message,e.stack,n)},wt.readyException=function(e){t.setTimeout(function(){throw e})};var Pt=wt.Deferred();wt.fn.ready=function(t){return Pt.then(t)["catch"](function(t){wt.readyException(t)}),this},wt.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--wt.readyWait:wt.isReady)||(wt.isReady=!0,!0!==t&&--wt.readyWait>0||Pt.resolveWith(st,[wt]))}}),wt.ready.then=Pt.then,"complete"===st.readyState||"loading"!==st.readyState&&!st.documentElement.doScroll?t.setTimeout(wt.ready):(st.addEventListener("DOMContentLoaded",d),t.addEventListener("load",d));var Ot=function(t,e,n,i,o,s,a){var u=0,l=t.length,c=null==n;if("object"===r(n)){o=!0;for(u in n)Ot(t,e,u,n[u],!0,s,a)}else if(void 0!==i&&(o=!0,vt(i)||(a=!0),c&&(a?(e.call(t,i),e=null):(c=e,e=function(t,e,n){return c.call(wt(t),n)})),e))for(;u<l;u++)e(t[u],n,a?i:i.call(t[u],u,e(t[u],n)));return o?t:c?e.call(t):l?e(t[0],n):s},Mt=/^-ms-/,jt=/-([a-z])/g,Bt=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};m.uid=1,m.prototype={cache:function(t){var e=t[this.expando];return e||(e={},Bt(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var r,i=this.cache(t);if("string"==typeof e)i[f(e)]=n;else for(r in e)i[f(r)]=e[r];return i},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][f(e)]},access:function(t,e,n){return void 0===e||e&&"string"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,r=t[this.expando];if(void 0!==r){if(void 0!==e){n=(e=Array.isArray(e)?e.map(f):(e=f(e))in r?[e]:e.match(Lt)||[]).length;for(;n--;)delete r[e[n]]}(void 0===e||wt.isEmptyObject(r))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!wt.isEmptyObject(e)}};var qt=new m,Ut=new m,Ft=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ht=/[A-Z]/g;wt.extend({hasData:function(t){return Ut.hasData(t)||qt.hasData(t)},data:function(t,e,n){return Ut.access(t,e,n)},removeData:function(t,e){Ut.remove(t,e)},_data:function(t,e,n){return qt.access(t,e,n)},_removeData:function(t,e){qt.remove(t,e)}}),wt.fn.extend({data:function(t,e){var n,r,i,o=this[0],s=o&&o.attributes;if(void 0===t){if(this.length&&(i=Ut.get(o),1===o.nodeType&&!qt.get(o,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&0===(r=s[n].name).indexOf("data-")&&(r=f(r.slice(5)),y(o,r,i[r]));qt.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof t?this.each(function(){Ut.set(this,t)}):Ot(this,function(e){var n;if(o&&void 0===e){if(void 0!==(n=Ut.get(o,t)))return n;if(void 0!==(n=y(o,t)))return n}else this.each(function(){Ut.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){Ut.remove(this,t)})}}),wt.extend({queue:function(t,e,n){var r;if(t)return e=(e||"fx")+"queue",r=qt.get(t,e),n&&(!r||Array.isArray(n)?r=qt.access(t,e,wt.makeArray(n)):r.push(n)),r||[]},dequeue:function(t,e){e=e||"fx";var n=wt.queue(t,e),r=n.length,i=n.shift(),o=wt._queueHooks(t,e),s=function(){wt.dequeue(t,e)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===e&&n.unshift("inprogress"),delete o.stop,i.call(t,s,o)),!r&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return qt.get(t,n)||qt.access(t,n,{empty:wt.Callbacks("once memory").add(function(){qt.remove(t,[e+"queue",n])})})}}),wt.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?wt.queue(this[0],t):void 0===e?this:this.each(function(){var n=wt.queue(this,t,e);wt._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&wt.dequeue(this,t)})},dequeue:function(t){return this.each(function(){wt.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,r=1,i=wt.Deferred(),o=this,s=this.length,a=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)(n=qt.get(o[s],t+"queueHooks"))&&n.empty&&(r++,n.empty.add(a));return a(),i.promise(e)}});var Vt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Wt=new RegExp("^(?:([+-])=|)("+Vt+")([a-z%]*)$","i"),Kt=["Top","Right","Bottom","Left"],zt=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&wt.contains(t.ownerDocument,t)&&"none"===wt.css(t,"display")},Gt=function(t,e,n,r){var i,o,s={};for(o in e)s[o]=t.style[o],t.style[o]=e[o];i=n.apply(t,r||[]);for(o in e)t.style[o]=s[o];return i},Xt={};wt.fn.extend({show:function(){return _(this,!0)},hide:function(){return _(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){zt(this)?wt(this).show():wt(this).hide()})}});var Yt=/^(?:checkbox|radio)$/i,Qt=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,$t=/^$|^module$|\/(?:java|ecma)script/i,Jt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Jt.optgroup=Jt.option,Jt.tbody=Jt.tfoot=Jt.colgroup=Jt.caption=Jt.thead,Jt.th=Jt.td;var Zt=/<|&#?\w+;/;!function(){var t=st.createDocumentFragment().appendChild(st.createElement("div")),e=st.createElement("input");e.setAttribute("type","radio"),e.setAttribute("checked","checked"),e.setAttribute("name","t"),t.appendChild(e),yt.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",yt.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var te=st.documentElement,ee=/^key/,ne=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,re=/^([^.]*)(?:\.(.+)|)/;wt.event={global:{},add:function(t,e,n,r,i){var o,s,a,u,l,c,p,d,h,f,m,g=qt.get(t);if(g)for(n.handler&&(n=(o=n).handler,i=o.selector),i&&wt.find.matchesSelector(te,i),n.guid||(n.guid=wt.guid++),(u=g.events)||(u=g.events={}),(s=g.handle)||(s=g.handle=function(e){return void 0!==wt&&wt.event.triggered!==e.type?wt.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||"").match(Lt)||[""]).length;l--;)h=m=(a=re.exec(e[l])||[])[1],f=(a[2]||"").split(".").sort(),h&&(p=wt.event.special[h]||{},h=(i?p.delegateType:p.bindType)||h,p=wt.event.special[h]||{},c=wt.extend({type:h,origType:m,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&wt.expr.match.needsContext.test(i),namespace:f.join(".")},o),(d=u[h])||((d=u[h]=[]).delegateCount=0,p.setup&&!1!==p.setup.call(t,r,f,s)||t.addEventListener&&t.addEventListener(h,s)),p.add&&(p.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),i?d.splice(d.delegateCount++,0,c):d.push(c),wt.event.global[h]=!0)},remove:function(t,e,n,r,i){var o,s,a,u,l,c,p,d,h,f,m,g=qt.hasData(t)&&qt.get(t);if(g&&(u=g.events)){for(l=(e=(e||"").match(Lt)||[""]).length;l--;)if(a=re.exec(e[l])||[],h=m=a[1],f=(a[2]||"").split(".").sort(),h){for(p=wt.event.special[h]||{},d=u[h=(r?p.delegateType:p.bindType)||h]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=d.length;o--;)c=d[o],!i&&m!==c.origType||n&&n.guid!==c.guid||a&&!a.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(d.splice(o,1),c.selector&&d.delegateCount--,p.remove&&p.remove.call(t,c));s&&!d.length&&(p.teardown&&!1!==p.teardown.call(t,f,g.handle)||wt.removeEvent(t,h,g.handle),delete u[h])}else for(h in u)wt.event.remove(t,h+e[l],n,r,!0);wt.isEmptyObject(u)&&qt.remove(t,"handle events")}},dispatch:function(t){var e,n,r,i,o,s,a=wt.event.fix(t),u=new Array(arguments.length),l=(qt.get(this,"events")||{})[a.type]||[],c=wt.event.special[a.type]||{};for(u[0]=a,e=1;e<arguments.length;e++)u[e]=arguments[e];if(a.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,a)){for(s=wt.event.handlers.call(this,a,l),e=0;(i=s[e++])&&!a.isPropagationStopped();)for(a.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!a.rnamespace.test(o.namespace)||(a.handleObj=o,a.data=o.data,void 0!==(r=((wt.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,u))&&!1===(a.result=r)&&(a.preventDefault(),a.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,a),a.result}},handlers:function(t,e){var n,r,i,o,s,a=[],u=e.delegateCount,l=t.target;if(u&&l.nodeType&&!("click"===t.type&&t.button>=1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==t.type||!0!==l.disabled)){for(o=[],s={},n=0;n<u;n++)void 0===s[i=(r=e[n]).selector+" "]&&(s[i]=r.needsContext?wt(i,this).index(l)>-1:wt.find(i,this,null,[l]).length),s[i]&&o.push(r);o.length&&a.push({elem:l,handlers:o})}return l=this,u<e.length&&a.push({elem:l,handlers:e.slice(u)}),a},addProp:function(t,e){Object.defineProperty(wt.Event.prototype,t,{enumerable:!0,configurable:!0,get:vt(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[wt.expando]?t:new wt.Event(t)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==C()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===C()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&o(this,"input"))return this.click(),!1},_default:function(t){return o(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},wt.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},wt.Event=function(t,e){if(!(this instanceof wt.Event))return new wt.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?x:S,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&wt.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[wt.expando]=!0},wt.Event.prototype={constructor:wt.Event,isDefaultPrevented:S,isPropagationStopped:S,isImmediatePropagationStopped:S,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=x,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=x,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=x,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},wt.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&ee.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&ne.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},wt.event.addProp),wt.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){wt.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,r=this,i=t.relatedTarget,o=t.handleObj;return i&&(i===r||wt.contains(r,i))||(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}}),wt.fn.extend({on:function(t,e,n,r){return A(this,t,e,n,r)},one:function(t,e,n,r){return A(this,t,e,n,r,1)},off:function(t,e,n){var r,i;if(t&&t.preventDefault&&t.handleObj)return r=t.handleObj,wt(t.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof t){for(i in t)this.off(i,e,t[i]);return this}return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=S),this.each(function(){wt.event.remove(this,t,n,e)})}});var ie=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,oe=/<script|<style|<link/i,se=/checked\s*(?:[^=]|=\s*.checked.)/i,ae=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;wt.extend({htmlPrefilter:function(t){return t.replace(ie,"<$1></$2>")},clone:function(t,e,n){var r,i,o,s,a=t.cloneNode(!0),u=wt.contains(t.ownerDocument,t);if(!(yt.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||wt.isXMLDoc(t)))for(s=w(a),r=0,i=(o=w(t)).length;r<i;r++)L(o[r],s[r]);if(e)if(n)for(o=o||w(t),s=s||w(a),r=0,i=o.length;r<i;r++)R(o[r],s[r]);else R(t,a);return(s=w(a,"script")).length>0&&E(s,!u&&w(t,"script")),a},cleanData:function(t){for(var e,n,r,i=wt.event.special,o=0;void 0!==(n=t[o]);o++)if(Bt(n)){if(e=n[qt.expando]){if(e.events)for(r in e.events)i[r]?wt.event.remove(n,r):wt.removeEvent(n,r,e.handle);n[qt.expando]=void 0}n[Ut.expando]&&(n[Ut.expando]=void 0)}}}),wt.fn.extend({detach:function(t){return P(this,t,!0)},remove:function(t){return P(this,t)},text:function(t){return Ot(this,function(t){return void 0===t?wt.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return N(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||k(this,t).appendChild(t)})},prepend:function(){return N(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=k(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return N(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return N(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(wt.cleanData(w(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return wt.clone(this,t,e)})},html:function(t){return Ot(this,function(t){var e=this[0]||{},n=0,r=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!oe.test(t)&&!Jt[(Qt.exec(t)||["",""])[1].toLowerCase()]){t=wt.htmlPrefilter(t);try{for(;n<r;n++)1===(e=this[n]||{}).nodeType&&(wt.cleanData(w(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return N(this,arguments,function(e){var n=this.parentNode;wt.inArray(this,t)<0&&(wt.cleanData(w(this)),n&&n.replaceChild(e,this))},t)}}),wt.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){wt.fn[t]=function(t){for(var n,r=[],i=wt(t),o=i.length-1,s=0;s<=o;s++)n=s===o?this:this.clone(!0),wt(i[s])[e](n),ct.apply(r,n.get());return this.pushStack(r)}});var ue=new RegExp("^("+Vt+")(?!px)[a-z%]+$","i"),le=function(e){var n=e.ownerDocument.defaultView;return n&&n.opener||(n=t),n.getComputedStyle(e)},ce=new RegExp(Kt.join("|"),"i");!function(){function e(){if(l){u.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",l.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",te.appendChild(u).appendChild(l);var e=t.getComputedStyle(l);r="1%"!==e.top,a=12===n(e.marginLeft),l.style.right="60%",s=36===n(e.right),i=36===n(e.width),l.style.position="absolute",o=36===l.offsetWidth||"absolute",te.removeChild(u),l=null}}function n(t){return Math.round(parseFloat(t))}var r,i,o,s,a,u=st.createElement("div"),l=st.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",yt.clearCloneStyle="content-box"===l.style.backgroundClip,wt.extend(yt,{boxSizingReliable:function(){return e(),i},pixelBoxStyles:function(){return e(),s},pixelPosition:function(){return e(),r},reliableMarginLeft:function(){return e(),a},scrollboxSize:function(){return e(),o}}))}();var pe=/^(none|table(?!-c[ea]).+)/,de=/^--/,he={position:"absolute",visibility:"hidden",display:"block"},fe={letterSpacing:"0",fontWeight:"400"},me=["Webkit","Moz","ms"],ge=st.createElement("div").style;wt.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=O(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,n,r){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var i,o,s,a=f(e),u=de.test(e),l=t.style;if(u||(e=B(a)),s=wt.cssHooks[e]||wt.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(i=s.get(t,!1,r))?i:l[e];"string"==(o=typeof n)&&(i=Wt.exec(n))&&i[1]&&(n=v(t,e,i),o="number"),null!=n&&n===n&&("number"===o&&(n+=i&&i[3]||(wt.cssNumber[a]?"":"px")),yt.clearCloneStyle||""!==n||0!==e.indexOf("background")||(l[e]="inherit"),s&&"set"in s&&void 0===(n=s.set(t,n,r))||(u?l.setProperty(e,n):l[e]=n))}},css:function(t,e,n,r){var i,o,s,a=f(e);return de.test(e)||(e=B(a)),(s=wt.cssHooks[e]||wt.cssHooks[a])&&"get"in s&&(i=s.get(t,!0,n)),void 0===i&&(i=O(t,e,r)),"normal"===i&&e in fe&&(i=fe[e]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),wt.each(["height","width"],function(t,e){wt.cssHooks[e]={get:function(t,n,r){if(n)return!pe.test(wt.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?F(t,e,r):Gt(t,he,function(){return F(t,e,r)})},set:function(t,n,r){var i,o=le(t),s="border-box"===wt.css(t,"boxSizing",!1,o),a=r&&U(t,e,r,s,o);return s&&yt.scrollboxSize()===o.position&&(a-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(o[e])-U(t,e,"border",!1,o)-.5)),a&&(i=Wt.exec(n))&&"px"!==(i[3]||"px")&&(t.style[e]=n,n=wt.css(t,e)),q(t,n,a)}}}),wt.cssHooks.marginLeft=M(yt.reliableMarginLeft,function(t,e){if(e)return(parseFloat(O(t,"marginLeft"))||t.getBoundingClientRect().left-Gt(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),wt.each({margin:"",padding:"",border:"Width"},function(t,e){wt.cssHooks[t+e]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[t+Kt[r]+e]=o[r]||o[r-2]||o[0];return i}},"margin"!==t&&(wt.cssHooks[t+e].set=q)}),wt.fn.extend({css:function(t,e){return Ot(this,function(t,e,n){var r,i,o={},s=0;if(Array.isArray(e)){for(r=le(t),i=e.length;s<i;s++)o[e[s]]=wt.css(t,e[s],!1,r);return o}return void 0!==n?wt.style(t,e,n):wt.css(t,e)},t,e,arguments.length>1)}}),wt.Tween=H,H.prototype={constructor:H,init:function(t,e,n,r,i,o){this.elem=t,this.prop=n,this.easing=i||wt.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=r,this.unit=o||(wt.cssNumber[n]?"":"px")},cur:function(){var t=H.propHooks[this.prop];return t&&t.get?t.get(this):H.propHooks._default.get(this)},run:function(t){var e,n=H.propHooks[this.prop];return this.options.duration?this.pos=e=wt.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):H.propHooks._default.set(this),this}},H.prototype.init.prototype=H.prototype,H.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=wt.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){wt.fx.step[t.prop]?wt.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[wt.cssProps[t.prop]]&&!wt.cssHooks[t.prop]?t.elem[t.prop]=t.now:wt.style(t.elem,t.prop,t.now+t.unit)}}},H.propHooks.scrollTop=H.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},wt.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},wt.fx=H.prototype.init,wt.fx.step={};var ye,ve,be=/^(?:toggle|show|hide)$/,_e=/queueHooks$/;wt.Animation=wt.extend(Y,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return v(n.elem,t,Wt.exec(e),n),n}]},tweener:function(t,e){vt(t)?(e=t,t=["*"]):t=t.match(Lt);for(var n,r=0,i=t.length;r<i;r++)n=t[r],Y.tweeners[n]=Y.tweeners[n]||[],Y.tweeners[n].unshift(e)},prefilters:[G],prefilter:function(t,e){e?Y.prefilters.unshift(t):Y.prefilters.push(t)}}),wt.speed=function(t,e,n){var r=t&&"object"==typeof t?wt.extend({},t):{complete:n||!n&&e||vt(t)&&t,duration:t,easing:n&&e||e&&!vt(e)&&e};return wt.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in wt.fx.speeds?r.duration=wt.fx.speeds[r.duration]:r.duration=wt.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){vt(r.old)&&r.old.call(this),r.queue&&wt.dequeue(this,r.queue)},r},wt.fn.extend({fadeTo:function(t,e,n,r){return this.filter(zt).css("opacity",0).show().end().animate({opacity:e},t,n,r)},animate:function(t,e,n,r){var i=wt.isEmptyObject(t),o=wt.speed(e,n,r),s=function(){var e=Y(this,wt.extend({},t),o);(i||qt.get(this,"finish"))&&e.stop(!0)};return s.finish=s,i||!1===o.queue?this.each(s):this.queue(o.queue,s)},stop:function(t,e,n){var r=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&!1!==t&&this.queue(t||"fx",[]),this.each(function(){var e=!0,i=null!=t&&t+"queueHooks",o=wt.timers,s=qt.get(this);if(i)s[i]&&s[i].stop&&r(s[i]);else for(i in s)s[i]&&s[i].stop&&_e.test(i)&&r(s[i]);for(i=o.length;i--;)o[i].elem!==this||null!=t&&o[i].queue!==t||(o[i].anim.stop(n),e=!1,o.splice(i,1));!e&&n||wt.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var e,n=qt.get(this),r=n[t+"queue"],i=n[t+"queueHooks"],o=wt.timers,s=r?r.length:0;for(n.finish=!0,wt.queue(this,t,[]),i&&i.stop&&i.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<s;e++)r[e]&&r[e].finish&&r[e].finish.call(this);delete n.finish})}}),wt.each(["toggle","show","hide"],function(t,e){var n=wt.fn[e];wt.fn[e]=function(t,r,i){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(K(e,!0),t,r,i)}}),wt.each({slideDown:K("show"),slideUp:K("hide"),slideToggle:K("toggle"),fadeIn:{opacity:"show"},
fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){wt.fn[t]=function(t,n,r){return this.animate(e,t,n,r)}}),wt.timers=[],wt.fx.tick=function(){var t,e=0,n=wt.timers;for(ye=Date.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||wt.fx.stop(),ye=void 0},wt.fx.timer=function(t){wt.timers.push(t),wt.fx.start()},wt.fx.interval=13,wt.fx.start=function(){ve||(ve=!0,V())},wt.fx.stop=function(){ve=null},wt.fx.speeds={slow:600,fast:200,_default:400},wt.fn.delay=function(e,n){return e=wt.fx?wt.fx.speeds[e]||e:e,n=n||"fx",this.queue(n,function(n,r){var i=t.setTimeout(n,e);r.stop=function(){t.clearTimeout(i)}})},function(){var t=st.createElement("input"),e=st.createElement("select").appendChild(st.createElement("option"));t.type="checkbox",yt.checkOn=""!==t.value,yt.optSelected=e.selected,(t=st.createElement("input")).value="t",t.type="radio",yt.radioValue="t"===t.value}();var we,Ee=wt.expr.attrHandle;wt.fn.extend({attr:function(t,e){return Ot(this,wt.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){wt.removeAttr(this,t)})}}),wt.extend({attr:function(t,e,n){var r,i,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof t.getAttribute?wt.prop(t,e,n):(1===o&&wt.isXMLDoc(t)||(i=wt.attrHooks[e.toLowerCase()]||(wt.expr.match.bool.test(e)?we:void 0)),void 0!==n?null===n?void wt.removeAttr(t,e):i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:(t.setAttribute(e,n+""),n):i&&"get"in i&&null!==(r=i.get(t,e))?r:null==(r=wt.find.attr(t,e))?void 0:r)},attrHooks:{type:{set:function(t,e){if(!yt.radioValue&&"radio"===e&&o(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,r=0,i=e&&e.match(Lt);if(i&&1===t.nodeType)for(;n=i[r++];)t.removeAttribute(n)}}),we={set:function(t,e,n){return!1===e?wt.removeAttr(t,n):t.setAttribute(n,n),n}},wt.each(wt.expr.match.bool.source.match(/\w+/g),function(t,e){var n=Ee[e]||wt.find.attr;Ee[e]=function(t,e,r){var i,o,s=e.toLowerCase();return r||(o=Ee[s],Ee[s]=i,i=null!=n(t,e,r)?s:null,Ee[s]=o),i}});var Te=/^(?:input|select|textarea|button)$/i,xe=/^(?:a|area)$/i;wt.fn.extend({prop:function(t,e){return Ot(this,wt.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[wt.propFix[t]||t]})}}),wt.extend({prop:function(t,e,n){var r,i,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&wt.isXMLDoc(t)||(e=wt.propFix[e]||e,i=wt.propHooks[e]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:t[e]=n:i&&"get"in i&&null!==(r=i.get(t,e))?r:t[e]},propHooks:{tabIndex:{get:function(t){var e=wt.find.attr(t,"tabindex");return e?parseInt(e,10):Te.test(t.nodeName)||xe.test(t.nodeName)&&t.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),yt.optSelected||(wt.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),wt.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){wt.propFix[this.toLowerCase()]=this}),wt.fn.extend({addClass:function(t){var e,n,r,i,o,s,a,u=0;if(vt(t))return this.each(function(e){wt(this).addClass(t.call(this,e,$(this)))});if((e=J(t)).length)for(;n=this[u++];)if(i=$(n),r=1===n.nodeType&&" "+Q(i)+" "){for(s=0;o=e[s++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");i!==(a=Q(r))&&n.setAttribute("class",a)}return this},removeClass:function(t){var e,n,r,i,o,s,a,u=0;if(vt(t))return this.each(function(e){wt(this).removeClass(t.call(this,e,$(this)))});if(!arguments.length)return this.attr("class","");if((e=J(t)).length)for(;n=this[u++];)if(i=$(n),r=1===n.nodeType&&" "+Q(i)+" "){for(s=0;o=e[s++];)for(;r.indexOf(" "+o+" ")>-1;)r=r.replace(" "+o+" "," ");i!==(a=Q(r))&&n.setAttribute("class",a)}return this},toggleClass:function(t,e){var n=typeof t,r="string"===n||Array.isArray(t);return"boolean"==typeof e&&r?e?this.addClass(t):this.removeClass(t):vt(t)?this.each(function(n){wt(this).toggleClass(t.call(this,n,$(this),e),e)}):this.each(function(){var e,i,o,s;if(r)for(i=0,o=wt(this),s=J(t);e=s[i++];)o.hasClass(e)?o.removeClass(e):o.addClass(e);else void 0!==t&&"boolean"!==n||((e=$(this))&&qt.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":qt.get(this,"__className__")||""))})},hasClass:function(t){var e,n,r=0;for(e=" "+t+" ";n=this[r++];)if(1===n.nodeType&&(" "+Q($(n))+" ").indexOf(e)>-1)return!0;return!1}});var Se=/\r/g;wt.fn.extend({val:function(t){var e,n,r,i=this[0];return arguments.length?(r=vt(t),this.each(function(n){var i;1===this.nodeType&&(null==(i=r?t.call(this,n,wt(this).val()):t)?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=wt.map(i,function(t){return null==t?"":t+""})),(e=wt.valHooks[this.type]||wt.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,i,"value")||(this.value=i))})):i?(e=wt.valHooks[i.type]||wt.valHooks[i.nodeName.toLowerCase()])&&"get"in e&&void 0!==(n=e.get(i,"value"))?n:"string"==typeof(n=i.value)?n.replace(Se,""):null==n?"":n:void 0}}),wt.extend({valHooks:{option:{get:function(t){var e=wt.find.attr(t,"value");return null!=e?e:Q(wt.text(t))}},select:{get:function(t){var e,n,r,i=t.options,s=t.selectedIndex,a="select-one"===t.type,u=a?null:[],l=a?s+1:i.length;for(r=s<0?l:a?s:0;r<l;r++)if(((n=i[r]).selected||r===s)&&!n.disabled&&(!n.parentNode.disabled||!o(n.parentNode,"optgroup"))){if(e=wt(n).val(),a)return e;u.push(e)}return u},set:function(t,e){for(var n,r,i=t.options,o=wt.makeArray(e),s=i.length;s--;)((r=i[s]).selected=wt.inArray(wt.valHooks.option.get(r),o)>-1)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),wt.each(["radio","checkbox"],function(){wt.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=wt.inArray(wt(t).val(),e)>-1}},yt.checkOn||(wt.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),yt.focusin="onfocusin"in t;var Ce=/^(?:focusinfocus|focusoutblur)$/,Ae=function(t){t.stopPropagation()};wt.extend(wt.event,{trigger:function(e,n,r,i){var o,s,a,u,l,c,p,d,h=[r||st],f=ft.call(e,"type")?e.type:e,m=ft.call(e,"namespace")?e.namespace.split("."):[];if(s=d=a=r=r||st,3!==r.nodeType&&8!==r.nodeType&&!Ce.test(f+wt.event.triggered)&&(f.indexOf(".")>-1&&(f=(m=f.split(".")).shift(),m.sort()),l=f.indexOf(":")<0&&"on"+f,e=e[wt.expando]?e:new wt.Event(f,"object"==typeof e&&e),e.isTrigger=i?2:3,e.namespace=m.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=r),n=null==n?[e]:wt.makeArray(n,[e]),p=wt.event.special[f]||{},i||!p.trigger||!1!==p.trigger.apply(r,n))){if(!i&&!p.noBubble&&!bt(r)){for(u=p.delegateType||f,Ce.test(u+f)||(s=s.parentNode);s;s=s.parentNode)h.push(s),a=s;a===(r.ownerDocument||st)&&h.push(a.defaultView||a.parentWindow||t)}for(o=0;(s=h[o++])&&!e.isPropagationStopped();)d=s,e.type=o>1?u:p.bindType||f,(c=(qt.get(s,"events")||{})[e.type]&&qt.get(s,"handle"))&&c.apply(s,n),(c=l&&s[l])&&c.apply&&Bt(s)&&(e.result=c.apply(s,n),!1===e.result&&e.preventDefault());return e.type=f,i||e.isDefaultPrevented()||p._default&&!1!==p._default.apply(h.pop(),n)||!Bt(r)||l&&vt(r[f])&&!bt(r)&&((a=r[l])&&(r[l]=null),wt.event.triggered=f,e.isPropagationStopped()&&d.addEventListener(f,Ae),r[f](),e.isPropagationStopped()&&d.removeEventListener(f,Ae),wt.event.triggered=void 0,a&&(r[l]=a)),e.result}},simulate:function(t,e,n){var r=wt.extend(new wt.Event,n,{type:t,isSimulated:!0});wt.event.trigger(r,null,e)}}),wt.fn.extend({trigger:function(t,e){return this.each(function(){wt.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return wt.event.trigger(t,e,n,!0)}}),yt.focusin||wt.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){wt.event.simulate(e,t.target,wt.event.fix(t))};wt.event.special[e]={setup:function(){var r=this.ownerDocument||this,i=qt.access(r,e);i||r.addEventListener(t,n,!0),qt.access(r,e,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=qt.access(r,e)-1;i?qt.access(r,e,i):(r.removeEventListener(t,n,!0),qt.remove(r,e))}}});var ke=t.location,Ie=Date.now(),De=/\?/;wt.parseXML=function(e){var n;if(!e||"string"!=typeof e)return null;try{n=(new t.DOMParser).parseFromString(e,"text/xml")}catch(t){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||wt.error("Invalid XML: "+e),n};var Re=/\[\]$/,Le=/\r?\n/g,Ne=/^(?:submit|button|image|reset|file)$/i,Pe=/^(?:input|select|textarea|keygen)/i;wt.param=function(t,e){var n,r=[],i=function(t,e){var n=vt(e)?e():e;r[r.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(t)||t.jquery&&!wt.isPlainObject(t))wt.each(t,function(){i(this.name,this.value)});else for(n in t)Z(n,t[n],e,i);return r.join("&")},wt.fn.extend({serialize:function(){return wt.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=wt.prop(this,"elements");return t?wt.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!wt(this).is(":disabled")&&Pe.test(this.nodeName)&&!Ne.test(t)&&(this.checked||!Yt.test(t))}).map(function(t,e){var n=wt(this).val();return null==n?null:Array.isArray(n)?wt.map(n,function(t){return{name:e.name,value:t.replace(Le,"\r\n")}}):{name:e.name,value:n.replace(Le,"\r\n")}}).get()}});var Oe=/%20/g,Me=/#.*$/,je=/([?&])_=[^&]*/,Be=/^(.*?):[ \t]*([^\r\n]*)$/gm,qe=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ue=/^(?:GET|HEAD)$/,Fe=/^\/\//,He={},Ve={},We="*/".concat("*"),Ke=st.createElement("a");Ke.href=ke.href,wt.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ke.href,type:"GET",isLocal:qe.test(ke.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":We,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":wt.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?nt(nt(t,wt.ajaxSettings),e):nt(wt.ajaxSettings,t)},ajaxPrefilter:tt(He),ajaxTransport:tt(Ve),ajax:function(e,n){function r(e,n,r,a){var l,d,h,_,w,E=n;c||(c=!0,u&&t.clearTimeout(u),i=void 0,s=a||"",T.readyState=e>0?4:0,l=e>=200&&e<300||304===e,r&&(_=rt(f,T,r)),_=it(f,_,T,l),l?(f.ifModified&&((w=T.getResponseHeader("Last-Modified"))&&(wt.lastModified[o]=w),(w=T.getResponseHeader("etag"))&&(wt.etag[o]=w)),204===e||"HEAD"===f.type?E="nocontent":304===e?E="notmodified":(E=_.state,d=_.data,l=!(h=_.error))):(h=E,!e&&E||(E="error",e<0&&(e=0))),T.status=e,T.statusText=(n||E)+"",l?y.resolveWith(m,[d,E,T]):y.rejectWith(m,[T,E,h]),T.statusCode(b),b=void 0,p&&g.trigger(l?"ajaxSuccess":"ajaxError",[T,f,l?d:h]),v.fireWith(m,[T,E]),p&&(g.trigger("ajaxComplete",[T,f]),--wt.active||wt.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=void 0),n=n||{};var i,o,s,a,u,l,c,p,d,h,f=wt.ajaxSetup({},n),m=f.context||f,g=f.context&&(m.nodeType||m.jquery)?wt(m):wt.event,y=wt.Deferred(),v=wt.Callbacks("once memory"),b=f.statusCode||{},_={},w={},E="canceled",T={readyState:0,getResponseHeader:function(t){var e;if(c){if(!a)for(a={};e=Be.exec(s);)a[e[1].toLowerCase()]=e[2];e=a[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return c?s:null},setRequestHeader:function(t,e){return null==c&&(t=w[t.toLowerCase()]=w[t.toLowerCase()]||t,_[t]=e),this},overrideMimeType:function(t){return null==c&&(f.mimeType=t),this},statusCode:function(t){var e;if(t)if(c)T.always(t[T.status]);else for(e in t)b[e]=[b[e],t[e]];return this},abort:function(t){var e=t||E;return i&&i.abort(e),r(0,e),this}};if(y.promise(T),f.url=((e||f.url||ke.href)+"").replace(Fe,ke.protocol+"//"),f.type=n.method||n.type||f.method||f.type,f.dataTypes=(f.dataType||"*").toLowerCase().match(Lt)||[""],null==f.crossDomain){l=st.createElement("a");try{l.href=f.url,l.href=l.href,f.crossDomain=Ke.protocol+"//"+Ke.host!=l.protocol+"//"+l.host}catch(t){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=wt.param(f.data,f.traditional)),et(He,f,n,T),c)return T;(p=wt.event&&f.global)&&0==wt.active++&&wt.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!Ue.test(f.type),o=f.url.replace(Me,""),f.hasContent?f.data&&f.processData&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&(f.data=f.data.replace(Oe,"+")):(h=f.url.slice(o.length),f.data&&(f.processData||"string"==typeof f.data)&&(o+=(De.test(o)?"&":"?")+f.data,delete f.data),!1===f.cache&&(o=o.replace(je,"$1"),h=(De.test(o)?"&":"?")+"_="+Ie+++h),f.url=o+h),f.ifModified&&(wt.lastModified[o]&&T.setRequestHeader("If-Modified-Since",wt.lastModified[o]),wt.etag[o]&&T.setRequestHeader("If-None-Match",wt.etag[o])),(f.data&&f.hasContent&&!1!==f.contentType||n.contentType)&&T.setRequestHeader("Content-Type",f.contentType),T.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+We+"; q=0.01":""):f.accepts["*"]);for(d in f.headers)T.setRequestHeader(d,f.headers[d]);if(f.beforeSend&&(!1===f.beforeSend.call(m,T,f)||c))return T.abort();if(E="abort",v.add(f.complete),T.done(f.success),T.fail(f.error),i=et(Ve,f,n,T)){if(T.readyState=1,p&&g.trigger("ajaxSend",[T,f]),c)return T;f.async&&f.timeout>0&&(u=t.setTimeout(function(){T.abort("timeout")},f.timeout));try{c=!1,i.send(_,r)}catch(t){if(c)throw t;r(-1,t)}}else r(-1,"No Transport");return T},getJSON:function(t,e,n){return wt.get(t,e,n,"json")},getScript:function(t,e){return wt.get(t,void 0,e,"script")}}),wt.each(["get","post"],function(t,e){wt[e]=function(t,n,r,i){return vt(n)&&(i=i||r,r=n,n=void 0),wt.ajax(wt.extend({url:t,type:e,dataType:i,data:n,success:r},wt.isPlainObject(t)&&t))}}),wt._evalUrl=function(t){return wt.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})},wt.fn.extend({wrapAll:function(t){var e;return this[0]&&(vt(t)&&(t=t.call(this[0])),e=wt(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(t){return vt(t)?this.each(function(e){wt(this).wrapInner(t.call(this,e))}):this.each(function(){var e=wt(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=vt(t);return this.each(function(n){wt(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){wt(this).replaceWith(this.childNodes)}),this}}),wt.expr.pseudos.hidden=function(t){return!wt.expr.pseudos.visible(t)},wt.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},wt.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch(t){}};var ze={0:200,1223:204},Ge=wt.ajaxSettings.xhr();yt.cors=!!Ge&&"withCredentials"in Ge,yt.ajax=Ge=!!Ge,wt.ajaxTransport(function(e){var n,r;if(yt.cors||Ge&&!e.crossDomain)return{send:function(i,o){var s,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(s in e.xhrFields)a[s]=e.xhrFields[s];e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(s in i)a.setRequestHeader(s,i[s]);n=function(t){return function(){n&&(n=r=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===t?a.abort():"error"===t?"number"!=typeof a.status?o(0,"error"):o(a.status,a.statusText):o(ze[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=n(),r=a.onerror=a.ontimeout=n("error"),void 0!==a.onabort?a.onabort=r:a.onreadystatechange=function(){4===a.readyState&&t.setTimeout(function(){n&&r()})},n=n("abort");try{a.send(e.hasContent&&e.data||null)}catch(t){if(n)throw t}},abort:function(){n&&n()}}}),wt.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),wt.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return wt.globalEval(t),t}}}),wt.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),wt.ajaxTransport("script",function(t){if(t.crossDomain){var e,n;return{send:function(r,i){e=wt("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&i("error"===t.type?404:200,t.type)}),st.head.appendChild(e[0])},abort:function(){n&&n()}}}});var Xe=[],Ye=/(=)\?(?=&|$)|\?\?/;wt.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Xe.pop()||wt.expando+"_"+Ie++;return this[t]=!0,t}}),wt.ajaxPrefilter("json jsonp",function(e,n,r){var i,o,s,a=!1!==e.jsonp&&(Ye.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ye.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return i=e.jsonpCallback=vt(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Ye,"$1"+i):!1!==e.jsonp&&(e.url+=(De.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return s||wt.error(i+" was not called"),s[0]},e.dataTypes[0]="json",o=t[i],t[i]=function(){s=arguments},r.always(function(){void 0===o?wt(t).removeProp(i):t[i]=o,e[i]&&(e.jsonpCallback=n.jsonpCallback,Xe.push(i)),s&&vt(o)&&o(s[0]),s=o=void 0}),"script"}),yt.createHTMLDocument=function(){var t=st.implementation.createHTMLDocument("").body;return t.innerHTML="<form></form><form></form>",2===t.childNodes.length}(),wt.parseHTML=function(t,e,n){if("string"!=typeof t)return[];"boolean"==typeof e&&(n=e,e=!1);var r,i,o;return e||(yt.createHTMLDocument?((r=(e=st.implementation.createHTMLDocument("")).createElement("base")).href=st.location.href,e.head.appendChild(r)):e=st),i=At.exec(t),o=!n&&[],i?[e.createElement(i[1])]:(i=T([t],e,o),o&&o.length&&wt(o).remove(),wt.merge([],i.childNodes))},wt.fn.load=function(t,e,n){var r,i,o,s=this,a=t.indexOf(" ");return a>-1&&(r=Q(t.slice(a)),t=t.slice(0,a)),vt(e)?(n=e,e=void 0):e&&"object"==typeof e&&(i="POST"),s.length>0&&wt.ajax({url:t,type:i||"GET",dataType:"html",data:e}).done(function(t){o=arguments,s.html(r?wt("<div>").append(wt.parseHTML(t)).find(r):t)}).always(n&&function(t,e){s.each(function(){n.apply(this,o||[t.responseText,e,t])})}),this},wt.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){wt.fn[e]=function(t){return this.on(e,t)}}),wt.expr.pseudos.animated=function(t){return wt.grep(wt.timers,function(e){return t===e.elem}).length},wt.offset={setOffset:function(t,e,n){var r,i,o,s,a,u,l=wt.css(t,"position"),c=wt(t),p={};"static"===l&&(t.style.position="relative"),a=c.offset(),o=wt.css(t,"top"),u=wt.css(t,"left"),("absolute"===l||"fixed"===l)&&(o+u).indexOf("auto")>-1?(s=(r=c.position()).top,i=r.left):(s=parseFloat(o)||0,i=parseFloat(u)||0),vt(e)&&(e=e.call(t,n,wt.extend({},a))),null!=e.top&&(p.top=e.top-a.top+s),null!=e.left&&(p.left=e.left-a.left+i),"using"in e?e.using.call(t,p):c.css(p)}},wt.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){wt.offset.setOffset(this,t,e)});var e,n,r=this[0];return r?r.getClientRects().length?(e=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,n,r=this[0],i={top:0,left:0};if("fixed"===wt.css(r,"position"))e=r.getBoundingClientRect();else{for(e=this.offset(),n=r.ownerDocument,t=r.offsetParent||n.documentElement;t&&(t===n.body||t===n.documentElement)&&"static"===wt.css(t,"position");)t=t.parentNode;t&&t!==r&&1===t.nodeType&&((i=wt(t).offset()).top+=wt.css(t,"borderTopWidth",!0),i.left+=wt.css(t,"borderLeftWidth",!0))}return{top:e.top-i.top-wt.css(r,"marginTop",!0),left:e.left-i.left-wt.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===wt.css(t,"position");)t=t.offsetParent;return t||te})}}),wt.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n="pageYOffset"===e;wt.fn[t]=function(r){return Ot(this,function(t,r,i){var o;if(bt(t)?o=t:9===t.nodeType&&(o=t.defaultView),void 0===i)return o?o[e]:t[r];o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):t[r]=i},t,r,arguments.length)}}),wt.each(["top","left"],function(t,e){wt.cssHooks[e]=M(yt.pixelPosition,function(t,n){if(n)return n=O(t,e),ue.test(n)?wt(t).position()[e]+"px":n})}),wt.each({Height:"height",Width:"width"},function(t,e){wt.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,r){wt.fn[r]=function(i,o){var s=arguments.length&&(n||"boolean"!=typeof i),a=n||(!0===i||!0===o?"margin":"border");return Ot(this,function(e,n,i){var o;return bt(e)?0===r.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===i?wt.css(e,n,a):wt.style(e,n,i,a)},e,s?i:void 0,s)}})}),wt.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,e){wt.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),wt.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),wt.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,r){return this.on(e,t,n,r)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}}),wt.proxy=function(t,e){var n,r,i;if("string"==typeof e&&(n=t[e],e=t,t=n),vt(t))return r=ut.call(arguments,2),i=function(){return t.apply(e||this,r.concat(ut.call(arguments)))},i.guid=t.guid=t.guid||wt.guid++,i},wt.holdReady=function(t){t?wt.readyWait++:wt.ready(!0)},wt.isArray=Array.isArray,wt.parseJSON=JSON.parse,wt.nodeName=o,wt.isFunction=vt,wt.isWindow=bt,wt.camelCase=f,wt.type=r,wt.now=Date.now,wt.isNumeric=function(t){var e=wt.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},"function"==typeof define&&define.amd&&define("jquery",[],function(){return wt});var Qe=t.jQuery,$e=t.$;return wt.noConflict=function(e){return t.$===wt&&(t.$=$e),e&&t.jQuery===wt&&(t.jQuery=Qe),wt},e||(t.jQuery=t.$=wt),wt}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("jquery")):"function"==typeof define&&define.amd?define(["exports","jquery"],e):e(t.bootstrap={},t.jQuery)}(this,function(t,e){"use strict";function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function r(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}function i(){return(i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function o(t){return t&&"[object Function]"==={}.toString.call(t)}function s(t,e){if(1!==t.nodeType)return[];var n=getComputedStyle(t,null);return e?n[e]:n}function a(t){return"HTML"===t.nodeName?t:t.parentNode||t.host}function u(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}var e=s(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/(auto|scroll)/.test(n+i+r)?t:u(a(t))}function l(t){var e=t&&t.offsetParent,n=e&&e.nodeName;return n&&"BODY"!==n&&"HTML"!==n?-1!==["TD","TABLE"].indexOf(e.nodeName)&&"static"===s(e,"position")?l(e):e:t?t.ownerDocument.documentElement:document.documentElement}function c(t){return null!==t.parentNode?c(t.parentNode):t}function p(t,e){if(!(t&&t.nodeType&&e&&e.nodeType))return document.documentElement;var n=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?t:e,i=n?e:t,o=document.createRange();o.setStart(r,0),o.setEnd(i,0);var s,a,u=o.commonAncestorContainer;if(t!==u&&e!==u||r.contains(i))return"BODY"===(a=(s=u).nodeName)||"HTML"!==a&&l(s.firstElementChild)!==s?l(u):u;var d=c(t);return d.host?p(d.host,e):p(t,c(e).host)}function d(t){var e="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",n=t.nodeName;if("BODY"===n||"HTML"===n){var r=t.ownerDocument.documentElement;return(t.ownerDocument.scrollingElement||r)[e]}return t[e]}function h(t,e){var n="x"===e?"Left":"Top",r="Left"===n?"Right":"Bottom";return parseFloat(t["border"+n+"Width"],10)+parseFloat(t["border"+r+"Width"],10)}function f(t,e,n,r){return Math.max(e["offset"+t],e["scroll"+t],n["client"+t],n["offset"+t],n["scroll"+t],_t()?n["offset"+t]+r["margin"+("Height"===t?"Top":"Left")]+r["margin"+("Height"===t?"Bottom":"Right")]:0)}function m(){var t=document.body,e=document.documentElement,n=_t()&&getComputedStyle(e);return{height:f("Height",t,e,n),width:f("Width",t,e,n)}}function g(t){return xt({},t,{right:t.left+t.width,bottom:t.top+t.height})}function y(t){var e={};if(_t())try{e=t.getBoundingClientRect();var n=d(t,"top"),r=d(t,"left");e.top+=n,e.left+=r,e.bottom+=n,e.right+=r}catch(t){}else e=t.getBoundingClientRect();var i={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},o="HTML"===t.nodeName?m():{},a=o.width||t.clientWidth||i.right-i.left,u=o.height||t.clientHeight||i.bottom-i.top,l=t.offsetWidth-a,c=t.offsetHeight-u;if(l||c){var p=s(t);l-=h(p,"x"),c-=h(p,"y"),i.width-=l,i.height-=c}return g(i)}function v(t,e){var n=_t(),r="HTML"===e.nodeName,i=y(t),o=y(e),a=u(t),l=s(e),c=parseFloat(l.borderTopWidth,10),p=parseFloat(l.borderLeftWidth,10),h=g({top:i.top-o.top-c,left:i.left-o.left-p,width:i.width,height:i.height});if(h.marginTop=0,h.marginLeft=0,!n&&r){var f=parseFloat(l.marginTop,10),m=parseFloat(l.marginLeft,10);h.top-=c-f,h.bottom-=c-f,h.left-=p-m,h.right-=p-m,h.marginTop=f,h.marginLeft=m}return(n?e.contains(a):e===a&&"BODY"!==a.nodeName)&&(h=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=d(e,"top"),i=d(e,"left"),o=n?-1:1;return t.top+=r*o,t.bottom+=r*o,t.left+=i*o,t.right+=i*o,t}(h,e)),h}function b(t,e,n,r){var i,o,l,c,h,f,y,b={top:0,left:0},_=p(t,e);if("viewport"===r)o=(i=_).ownerDocument.documentElement,l=v(i,o),c=Math.max(o.clientWidth,window.innerWidth||0),h=Math.max(o.clientHeight,window.innerHeight||0),f=d(o),y=d(o,"left"),b=g({top:f-l.top+l.marginTop,left:y-l.left+l.marginLeft,width:c,height:h});else{var w=void 0;"scrollParent"===r?"BODY"===(w=u(a(e))).nodeName&&(w=t.ownerDocument.documentElement):w="window"===r?t.ownerDocument.documentElement:r;var E=v(w,_);if("HTML"!==w.nodeName||function t(e){var n=e.nodeName;return"BODY"!==n&&"HTML"!==n&&("fixed"===s(e,"position")||t(a(e)))}(_))b=E;else{var T=m(),x=T.height,S=T.width;b.top+=E.top-E.marginTop,b.bottom=x+E.top,b.left+=E.left-E.marginLeft,b.right=S+E.left}}return b.left+=n,b.top+=n,b.right-=n,b.bottom-=n,b}function _(t,e,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===t.indexOf("auto"))return t;var s=b(n,r,o,i),a={top:{width:s.width,height:e.top-s.top},right:{width:s.right-e.right,height:s.height},bottom:{width:s.width,height:s.bottom-e.bottom},left:{width:e.left-s.left,height:s.height}},u=Object.keys(a).map(function(t){return xt({key:t},a[t],{area:(e=a[t],e.width*e.height)});var e}).sort(function(t,e){return e.area-t.area}),l=u.filter(function(t){var e=t.width,r=t.height;return e>=n.clientWidth&&r>=n.clientHeight}),c=l.length>0?l[0].key:u[0].key,p=t.split("-")[1];return c+(p?"-"+p:"")}function w(t,e,n){return v(n,p(e,n))}function E(t){var e=getComputedStyle(t),n=parseFloat(e.marginTop)+parseFloat(e.marginBottom),r=parseFloat(e.marginLeft)+parseFloat(e.marginRight);return{width:t.offsetWidth+r,height:t.offsetHeight+n}}function T(t){var e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,function(t){return e[t]})}function x(t,e,n){n=n.split("-")[0];var r=E(t),i={width:r.width,height:r.height},o=-1!==["right","left"].indexOf(n),s=o?"top":"left",a=o?"left":"top",u=o?"height":"width",l=o?"width":"height";return i[s]=e[s]+e[u]/2-r[u]/2,i[a]=n===a?e[a]-r[l]:e[T(a)],i}function S(t,e){return Array.prototype.find?t.find(e):t.filter(e)[0]}function C(t,e,n){return(void 0===n?t:t.slice(0,function(t,e,n){if(Array.prototype.findIndex)return t.findIndex(function(t){return t[e]===n});var r=S(t,function(t){return t[e]===n});return t.indexOf(r)}(t,"name",n))).forEach(function(t){t["function"]&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=t["function"]||t.fn;t.enabled&&o(n)&&(e.offsets.popper=g(e.offsets.popper),e.offsets.reference=g(e.offsets.reference),e=n(e,t))}),e}function A(t,e){return t.some(function(t){var n=t.name;return t.enabled&&n===e})}function k(t){for(var e=[!1,"ms","Webkit","Moz","O"],n=t.charAt(0).toUpperCase()+t.slice(1),r=0;r<e.length-1;r++){var i=e[r],o=i?""+i+n:t;if("undefined"!=typeof document.body.style[o])return o}return null}function I(t){var e=t.ownerDocument;return e?e.defaultView:window}function D(t,e,n,r){n.updateBound=r,I(t).addEventListener("resize",n.updateBound,{passive:!0});var i=u(t);return function t(e,n,r,i){var o="BODY"===e.nodeName,s=o?e.ownerDocument.defaultView:e;s.addEventListener(n,r,{passive:!0}),o||t(u(s.parentNode),n,r,i),i.push(s)}(i,"scroll",n.updateBound,n.scrollParents),n.scrollElement=i,n.eventsEnabled=!0,n}function R(){var t,e;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(t=this.reference,e=this.state,I(t).removeEventListener("resize",e.updateBound),e.scrollParents.forEach(function(t){t.removeEventListener("scroll",e.updateBound)}),e.updateBound=null,e.scrollParents=[],e.scrollElement=null,e.eventsEnabled=!1,e))}function L(t){return""!==t&&!isNaN(parseFloat(t))&&isFinite(t)}function N(t,e){Object.keys(e).forEach(function(n){var r="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&L(e[n])&&(r="px"),t.style[n]=e[n]+r})}function P(t,e,n){var r=S(t,function(t){return t.name===e}),i=!!r&&t.some(function(t){return t.name===n&&t.enabled&&t.order<r.order});if(!i){var o="`"+e+"`",s="`"+n+"`";console.warn(s+" modifier is required by "+o+" modifier in order to work, be sure to include it before "+o+"!")}return i}function O(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Ct.indexOf(t),r=Ct.slice(n+1).concat(Ct.slice(0,n));return e?r.reverse():r}function M(t,e,n,r){var i=[0,0],o=-1!==["right","left"].indexOf(r),s=t.split(/(\+|\-)/).map(function(t){return t.trim()}),a=s.indexOf(S(s,function(t){return-1!==t.search(/,|\s/)}));s[a]&&-1===s[a].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var u=/\s*,\s*|\s+/,l=-1!==a?[s.slice(0,a).concat([s[a].split(u)[0]]),[s[a].split(u)[1]].concat(s.slice(a+1))]:[s];return(l=l.map(function(t,r){var i=(1===r?!o:o)?"height":"width",s=!1;return t.reduce(function(t,e){return""===t[t.length-1]&&-1!==["+","-"].indexOf(e)?(t[t.length-1]=e,s=!0,t):s?(t[t.length-1]+=e,s=!1,t):t.concat(e)},[]).map(function(t){return function(t,e,n,r){var i=t.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),o=+i[1],s=i[2];if(!o)return t;if(0===s.indexOf("%")){var a=void 0;switch(s){case"%p":a=n;break;case"%":case"%r":default:a=r}return g(a)[e]/100*o}return"vh"===s||"vw"===s?("vh"===s?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*o:o}(t,i,e,n)})})).forEach(function(t,e){t.forEach(function(n,r){L(n)&&(i[e]+=n*("-"===t[r-1]?-1:1))})}),i}for(var j,B,q,U,F,H,V,W,K,z,G,X,Y,Q,$,J,Z,tt,et,nt,rt,it,ot,st,at,ut,lt=function(t){function e(e){var n=this,i=!1;return t(this).one(r.TRANSITION_END,function(){i=!0}),setTimeout(function(){i||r.triggerTransitionEnd(n)},e),this}var n=!1,r={TRANSITION_END:"bsTransitionEnd",getUID:function(t){do{t+=~~(1e6*Math.random())}while(document.getElementById(t));return t},getSelectorFromElement:function(e){var n,r=e.getAttribute("data-target");r&&"#"!==r||(r=e.getAttribute("href")||""),"#"===r.charAt(0)&&(n=r,r=n="function"==typeof t.escapeSelector?t.escapeSelector(n).substr(1):n.replace(/(:|\.|\[|\]|,|=|@)/g,"\\$1"));try{return t(document).find(r).length>0?r:null}catch(t){return null}},reflow:function(t){return t.offsetHeight},triggerTransitionEnd:function(e){t(e).trigger(n.end)},supportsTransitionEnd:function(){return Boolean(n)},isElement:function(t){
return(t[0]||t).nodeType},typeCheckConfig:function(t,e,n){for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){var o=n[i],s=e[i],a=s&&r.isElement(s)?"element":(u=s,{}.toString.call(u).match(/\s([a-zA-Z]+)/)[1].toLowerCase());if(!new RegExp(o).test(a))throw new Error(t.toUpperCase()+': Option "'+i+'" provided type "'+a+'" but expected type "'+o+'".')}var u}};return n=("undefined"==typeof window||!window.QUnit)&&{end:"transitionend"},t.fn.emulateTransitionEnd=e,r.supportsTransitionEnd()&&(t.event.special[r.TRANSITION_END]={bindType:n.end,delegateType:n.end,handle:function(e){if(t(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}}),r}(e=e&&e.hasOwnProperty("default")?e["default"]:e),ct=(B="alert",U="."+(q="bs.alert"),F=(j=e).fn[B],H={CLOSE:"close"+U,CLOSED:"closed"+U,CLICK_DATA_API:"click"+U+".data-api"},V="alert",W="fade",K="show",z=function(){function t(t){this._element=t}var e=t.prototype;return e.close=function(t){t=t||this._element;var e=this._getRootElement(t);this._triggerCloseEvent(e).isDefaultPrevented()||this._removeElement(e)},e.dispose=function(){j.removeData(this._element,q),this._element=null},e._getRootElement=function(t){var e=lt.getSelectorFromElement(t),n=!1;return e&&(n=j(e)[0]),n||(n=j(t).closest("."+V)[0]),n},e._triggerCloseEvent=function(t){var e=j.Event(H.CLOSE);return j(t).trigger(e),e},e._removeElement=function(t){var e=this;j(t).removeClass(K),lt.supportsTransitionEnd()&&j(t).hasClass(W)?j(t).one(lt.TRANSITION_END,function(n){return e._destroyElement(t,n)}).emulateTransitionEnd(150):this._destroyElement(t)},e._destroyElement=function(t){j(t).detach().trigger(H.CLOSED).remove()},t._jQueryInterface=function(e){return this.each(function(){var n=j(this),r=n.data(q);r||(r=new t(this),n.data(q,r)),"close"===e&&r[e](this)})},t._handleDismiss=function(t){return function(e){e&&e.preventDefault(),t.close(this)}},r(t,null,[{key:"VERSION",get:function(){return"4.0.0"}}]),t}(),j(document).on(H.CLICK_DATA_API,'[data-dismiss="alert"]',z._handleDismiss(new z)),j.fn[B]=z._jQueryInterface,j.fn[B].Constructor=z,j.fn[B].noConflict=function(){return j.fn[B]=F,z._jQueryInterface},z),pt=(X="button",Q="."+(Y="bs.button"),$=".data-api",J=(G=e).fn[X],Z="active",tt="btn",et="focus",nt='[data-toggle^="button"]',rt='[data-toggle="buttons"]',it="input",ot=".active",st=".btn",at={CLICK_DATA_API:"click"+Q+$,FOCUS_BLUR_DATA_API:"focus"+Q+$+" blur"+Q+$},ut=function(){function t(t){this._element=t}var e=t.prototype;return e.toggle=function(){var t=!0,e=!0,n=G(this._element).closest(rt)[0];if(n){var r=G(this._element).find(it)[0];if(r){if("radio"===r.type)if(r.checked&&G(this._element).hasClass(Z))t=!1;else{var i=G(n).find(ot)[0];i&&G(i).removeClass(Z)}if(t){if(r.hasAttribute("disabled")||n.hasAttribute("disabled")||r.classList.contains("disabled")||n.classList.contains("disabled"))return;r.checked=!G(this._element).hasClass(Z),G(r).trigger("change")}r.focus(),e=!1}}e&&this._element.setAttribute("aria-pressed",!G(this._element).hasClass(Z)),t&&G(this._element).toggleClass(Z)},e.dispose=function(){G.removeData(this._element,Y),this._element=null},t._jQueryInterface=function(e){return this.each(function(){var n=G(this).data(Y);n||(n=new t(this),G(this).data(Y,n)),"toggle"===e&&n[e]()})},r(t,null,[{key:"VERSION",get:function(){return"4.0.0"}}]),t}(),G(document).on(at.CLICK_DATA_API,nt,function(t){t.preventDefault();var e=t.target;G(e).hasClass(tt)||(e=G(e).closest(st)),ut._jQueryInterface.call(G(e),"toggle")}).on(at.FOCUS_BLUR_DATA_API,nt,function(t){var e=G(t.target).closest(st)[0];G(e).toggleClass(et,/^focus(in)?$/.test(t.type))}),G.fn[X]=ut._jQueryInterface,G.fn[X].Constructor=ut,G.fn[X].noConflict=function(){return G.fn[X]=J,ut._jQueryInterface},ut),dt=(function(t){var e="carousel",n="bs.carousel",o="."+n,s=t.fn[e],a={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0},u={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean"},l="next",c="prev",p="left",d="right",h={SLIDE:"slide"+o,SLID:"slid"+o,KEYDOWN:"keydown"+o,MOUSEENTER:"mouseenter"+o,MOUSELEAVE:"mouseleave"+o,TOUCHEND:"touchend"+o,LOAD_DATA_API:"load"+o+".data-api",CLICK_DATA_API:"click"+o+".data-api"},f="carousel",m="active",g="slide",y="carousel-item-right",v="carousel-item-left",b="carousel-item-next",_="carousel-item-prev",w={ACTIVE:".active",ACTIVE_ITEM:".active.carousel-item",ITEM:".carousel-item",NEXT_PREV:".carousel-item-next, .carousel-item-prev",INDICATORS:".carousel-indicators",DATA_SLIDE:"[data-slide], [data-slide-to]",DATA_RIDE:'[data-ride="carousel"]'},E=function(){function s(e,n){this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this._config=this._getConfig(n),this._element=t(e)[0],this._indicatorsElement=t(this._element).find(w.INDICATORS)[0],this._addEventListeners()}var E=s.prototype;return E.next=function(){this._isSliding||this._slide(l)},E.nextWhenVisible=function(){!document.hidden&&t(this._element).is(":visible")&&"hidden"!==t(this._element).css("visibility")&&this.next()},E.prev=function(){this._isSliding||this._slide(c)},E.pause=function(e){e||(this._isPaused=!0),t(this._element).find(w.NEXT_PREV)[0]&&lt.supportsTransitionEnd()&&(lt.triggerTransitionEnd(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null},E.cycle=function(t){t||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config.interval&&!this._isPaused&&(this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))},E.to=function(e){var n=this;this._activeElement=t(this._element).find(w.ACTIVE_ITEM)[0];var r=this._getItemIndex(this._activeElement);if(!(e>this._items.length-1||e<0))if(this._isSliding)t(this._element).one(h.SLID,function(){return n.to(e)});else{if(r===e)return this.pause(),void this.cycle();var i=e>r?l:c;this._slide(i,this._items[e])}},E.dispose=function(){t(this._element).off(o),t.removeData(this._element,n),this._items=null,this._config=null,this._element=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null},E._getConfig=function(t){return t=i({},a,t),lt.typeCheckConfig(e,t,u),t},E._addEventListeners=function(){var e=this;this._config.keyboard&&t(this._element).on(h.KEYDOWN,function(t){return e._keydown(t)}),"hover"===this._config.pause&&(t(this._element).on(h.MOUSEENTER,function(t){return e.pause(t)}).on(h.MOUSELEAVE,function(t){return e.cycle(t)}),"ontouchstart"in document.documentElement&&t(this._element).on(h.TOUCHEND,function(){e.pause(),e.touchTimeout&&clearTimeout(e.touchTimeout),e.touchTimeout=setTimeout(function(t){return e.cycle(t)},500+e._config.interval)}))},E._keydown=function(t){if(!/input|textarea/i.test(t.target.tagName))switch(t.which){case 37:t.preventDefault(),this.prev();break;case 39:t.preventDefault(),this.next()}},E._getItemIndex=function(e){return this._items=t.makeArray(t(e).parent().find(w.ITEM)),this._items.indexOf(e)},E._getItemByDirection=function(t,e){var n=t===l,r=t===c,i=this._getItemIndex(e),o=this._items.length-1;if((r&&0===i||n&&i===o)&&!this._config.wrap)return e;var s=(i+(t===c?-1:1))%this._items.length;return-1===s?this._items[this._items.length-1]:this._items[s]},E._triggerSlideEvent=function(e,n){var r=this._getItemIndex(e),i=this._getItemIndex(t(this._element).find(w.ACTIVE_ITEM)[0]),o=t.Event(h.SLIDE,{relatedTarget:e,direction:n,from:i,to:r});return t(this._element).trigger(o),o},E._setActiveIndicatorElement=function(e){if(this._indicatorsElement){t(this._indicatorsElement).find(w.ACTIVE).removeClass(m);var n=this._indicatorsElement.children[this._getItemIndex(e)];n&&t(n).addClass(m)}},E._slide=function(e,n){var r,i,o,s=this,a=t(this._element).find(w.ACTIVE_ITEM)[0],u=this._getItemIndex(a),c=n||a&&this._getItemByDirection(e,a),f=this._getItemIndex(c),E=Boolean(this._interval);if(e===l?(r=v,i=b,o=p):(r=y,i=_,o=d),c&&t(c).hasClass(m))this._isSliding=!1;else if(!this._triggerSlideEvent(c,o).isDefaultPrevented()&&a&&c){this._isSliding=!0,E&&this.pause(),this._setActiveIndicatorElement(c);var T=t.Event(h.SLID,{relatedTarget:c,direction:o,from:u,to:f});lt.supportsTransitionEnd()&&t(this._element).hasClass(g)?(t(c).addClass(i),lt.reflow(c),t(a).addClass(r),t(c).addClass(r),t(a).one(lt.TRANSITION_END,function(){t(c).removeClass(r+" "+i).addClass(m),t(a).removeClass(m+" "+i+" "+r),s._isSliding=!1,setTimeout(function(){return t(s._element).trigger(T)},0)}).emulateTransitionEnd(600)):(t(a).removeClass(m),t(c).addClass(m),this._isSliding=!1,t(this._element).trigger(T)),E&&this.cycle()}},s._jQueryInterface=function(e){return this.each(function(){var r=t(this).data(n),o=i({},a,t(this).data());"object"==typeof e&&(o=i({},o,e));var u="string"==typeof e?e:o.slide;if(r||(r=new s(this,o),t(this).data(n,r)),"number"==typeof e)r.to(e);else if("string"==typeof u){if("undefined"==typeof r[u])throw new TypeError('No method named "'+u+'"');r[u]()}else o.interval&&(r.pause(),r.cycle())})},s._dataApiClickHandler=function(e){var r=lt.getSelectorFromElement(this);if(r){var o=t(r)[0];if(o&&t(o).hasClass(f)){var a=i({},t(o).data(),t(this).data()),u=this.getAttribute("data-slide-to");u&&(a.interval=!1),s._jQueryInterface.call(t(o),a),u&&t(o).data(n).to(u),e.preventDefault()}}},r(s,null,[{key:"VERSION",get:function(){return"4.0.0"}},{key:"Default",get:function(){return a}}]),s}();return t(document).on(h.CLICK_DATA_API,w.DATA_SLIDE,E._dataApiClickHandler),t(window).on(h.LOAD_DATA_API,function(){t(w.DATA_RIDE).each(function(){var e=t(this);E._jQueryInterface.call(e,e.data())})}),t.fn[e]=E._jQueryInterface,t.fn[e].Constructor=E,t.fn[e].noConflict=function(){return t.fn[e]=s,E._jQueryInterface},E}(e)),ht=function(t){var e="collapse",n="bs.collapse",o="."+n,s=t.fn[e],a={toggle:!0,parent:""},u={toggle:"boolean",parent:"(string|element)"},l={SHOW:"show"+o,SHOWN:"shown"+o,HIDE:"hide"+o,HIDDEN:"hidden"+o,CLICK_DATA_API:"click"+o+".data-api"},c="show",p="collapse",d="collapsing",h="collapsed",f="width",m="height",g={ACTIVES:".show, .collapsing",DATA_TOGGLE:'[data-toggle="collapse"]'},y=function(){function o(e,n){this._isTransitioning=!1,this._element=e,this._config=this._getConfig(n),this._triggerArray=t.makeArray(t('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'));for(var r=t(g.DATA_TOGGLE),i=0;i<r.length;i++){var o=r[i],s=lt.getSelectorFromElement(o);null!==s&&t(s).filter(e).length>0&&(this._selector=s,this._triggerArray.push(o))}this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}var s=o.prototype;return s.toggle=function(){t(this._element).hasClass(c)?this.hide():this.show()},s.show=function(){var e,r,i=this;if(!(this._isTransitioning||t(this._element).hasClass(c)||(this._parent&&0===(e=t.makeArray(t(this._parent).find(g.ACTIVES).filter('[data-parent="'+this._config.parent+'"]'))).length&&(e=null),e&&(r=t(e).not(this._selector).data(n))&&r._isTransitioning))){var s=t.Event(l.SHOW);if(t(this._element).trigger(s),!s.isDefaultPrevented()){e&&(o._jQueryInterface.call(t(e).not(this._selector),"hide"),r||t(e).data(n,null));var a=this._getDimension();t(this._element).removeClass(p).addClass(d),this._element.style[a]=0,this._triggerArray.length>0&&t(this._triggerArray).removeClass(h).attr("aria-expanded",!0),this.setTransitioning(!0);var u=function(){t(i._element).removeClass(d).addClass(p).addClass(c),i._element.style[a]="",i.setTransitioning(!1),t(i._element).trigger(l.SHOWN)};if(lt.supportsTransitionEnd()){var f="scroll"+(a[0].toUpperCase()+a.slice(1));t(this._element).one(lt.TRANSITION_END,u).emulateTransitionEnd(600),this._element.style[a]=this._element[f]+"px"}else u()}}},s.hide=function(){var e=this;if(!this._isTransitioning&&t(this._element).hasClass(c)){var n=t.Event(l.HIDE);if(t(this._element).trigger(n),!n.isDefaultPrevented()){var r=this._getDimension();if(this._element.style[r]=this._element.getBoundingClientRect()[r]+"px",lt.reflow(this._element),t(this._element).addClass(d).removeClass(p).removeClass(c),this._triggerArray.length>0)for(var i=0;i<this._triggerArray.length;i++){var o=this._triggerArray[i],s=lt.getSelectorFromElement(o);null!==s&&(t(s).hasClass(c)||t(o).addClass(h).attr("aria-expanded",!1))}this.setTransitioning(!0);var a=function(){e.setTransitioning(!1),t(e._element).removeClass(d).addClass(p).trigger(l.HIDDEN)};this._element.style[r]="",lt.supportsTransitionEnd()?t(this._element).one(lt.TRANSITION_END,a).emulateTransitionEnd(600):a()}}},s.setTransitioning=function(t){this._isTransitioning=t},s.dispose=function(){t.removeData(this._element,n),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null},s._getConfig=function(t){return(t=i({},a,t)).toggle=Boolean(t.toggle),lt.typeCheckConfig(e,t,u),t},s._getDimension=function(){return t(this._element).hasClass(f)?f:m},s._getParent=function(){var e=this,n=null;lt.isElement(this._config.parent)?(n=this._config.parent,"undefined"!=typeof this._config.parent.jquery&&(n=this._config.parent[0])):n=t(this._config.parent)[0];var r='[data-toggle="collapse"][data-parent="'+this._config.parent+'"]';return t(n).find(r).each(function(t,n){e._addAriaAndCollapsedClass(o._getTargetFromElement(n),[n])}),n},s._addAriaAndCollapsedClass=function(e,n){if(e){var r=t(e).hasClass(c);n.length>0&&t(n).toggleClass(h,!r).attr("aria-expanded",r)}},o._getTargetFromElement=function(e){var n=lt.getSelectorFromElement(e);return n?t(n)[0]:null},o._jQueryInterface=function(e){return this.each(function(){var r=t(this),s=r.data(n),u=i({},a,r.data(),"object"==typeof e&&e);if(!s&&u.toggle&&/show|hide/.test(e)&&(u.toggle=!1),s||(s=new o(this,u),r.data(n,s)),"string"==typeof e){if("undefined"==typeof s[e])throw new TypeError('No method named "'+e+'"');s[e]()}})},r(o,null,[{key:"VERSION",get:function(){return"4.0.0"}},{key:"Default",get:function(){return a}}]),o}();return t(document).on(l.CLICK_DATA_API,g.DATA_TOGGLE,function(e){"A"===e.currentTarget.tagName&&e.preventDefault();var r=t(this),i=lt.getSelectorFromElement(this);t(i).each(function(){var e=t(this),i=e.data(n)?"toggle":r.data();y._jQueryInterface.call(e,i)})}),t.fn[e]=y._jQueryInterface,t.fn[e].Constructor=y,t.fn[e].noConflict=function(){return t.fn[e]=s,y._jQueryInterface},y}(e),ft="undefined"!=typeof window&&"undefined"!=typeof document,mt=["Edge","Trident","Firefox"],gt=0,yt=0;yt<mt.length;yt+=1)if(ft&&navigator.userAgent.indexOf(mt[yt])>=0){gt=1;break}var vt=ft&&window.Promise?function(t){var e=!1;return function(){e||(e=!0,window.Promise.resolve().then(function(){e=!1,t()}))}}:function(t){var e=!1;return function(){e||(e=!0,setTimeout(function(){e=!1,t()},gt))}},bt=void 0,_t=function(){return void 0===bt&&(bt=-1!==navigator.appVersion.indexOf("MSIE 10")),bt},wt=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},Et=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Tt=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},xt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},St=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],Ct=St.slice(3),At={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"},kt={placement:"bottom",eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(t){var e=t.placement,n=e.split("-")[0],r=e.split("-")[1];if(r){var i=t.offsets,o=i.reference,s=i.popper,a=-1!==["bottom","top"].indexOf(n),u=a?"left":"top",l=a?"width":"height",c={start:Tt({},u,o[u]),end:Tt({},u,o[u]+o[l]-s[l])};t.offsets.popper=xt({},s,c[r])}return t}},offset:{order:200,enabled:!0,fn:function(t,e){var n=e.offset,r=t.placement,i=t.offsets,o=i.popper,s=i.reference,a=r.split("-")[0],u=void 0;return u=L(+n)?[+n,0]:M(n,o,s,a),"left"===a?(o.top+=u[0],o.left-=u[1]):"right"===a?(o.top+=u[0],o.left+=u[1]):"top"===a?(o.left+=u[0],o.top-=u[1]):"bottom"===a&&(o.left+=u[0],o.top+=u[1]),t.popper=o,t},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(t,e){var n=e.boundariesElement||l(t.instance.popper);t.instance.reference===n&&(n=l(n));var r=b(t.instance.popper,t.instance.reference,e.padding,n);e.boundaries=r;var i=e.priority,o=t.offsets.popper,s={primary:function(t){var n=o[t];return o[t]<r[t]&&!e.escapeWithReference&&(n=Math.max(o[t],r[t])),Tt({},t,n)},secondary:function(t){var n="right"===t?"left":"top",i=o[n];return o[t]>r[t]&&!e.escapeWithReference&&(i=Math.min(o[n],r[t]-("right"===t?o.width:o.height))),Tt({},n,i)}};return i.forEach(function(t){var e=-1!==["left","top"].indexOf(t)?"primary":"secondary";o=xt({},o,s[e](t))}),t.offsets.popper=o,t},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(t){var e=t.offsets,n=e.popper,r=e.reference,i=t.placement.split("-")[0],o=Math.floor,s=-1!==["top","bottom"].indexOf(i),a=s?"right":"bottom",u=s?"left":"top",l=s?"width":"height";return n[a]<o(r[u])&&(t.offsets.popper[u]=o(r[u])-n[l]),n[u]>o(r[a])&&(t.offsets.popper[u]=o(r[a])),t}},arrow:{order:500,enabled:!0,fn:function(t,e){var n;if(!P(t.instance.modifiers,"arrow","keepTogether"))return t;var r=e.element;if("string"==typeof r){if(!(r=t.instance.popper.querySelector(r)))return t}else if(!t.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),t;var i=t.placement.split("-")[0],o=t.offsets,a=o.popper,u=o.reference,l=-1!==["left","right"].indexOf(i),c=l?"height":"width",p=l?"Top":"Left",d=p.toLowerCase(),h=l?"left":"top",f=l?"bottom":"right",m=E(r)[c];u[f]-m<a[d]&&(t.offsets.popper[d]-=a[d]-(u[f]-m)),u[d]+m>a[f]&&(t.offsets.popper[d]+=u[d]+m-a[f]),t.offsets.popper=g(t.offsets.popper);var y=u[d]+u[c]/2-m/2,v=s(t.instance.popper),b=parseFloat(v["margin"+p],10),_=parseFloat(v["border"+p+"Width"],10),w=y-t.offsets.popper[d]-b-_;return w=Math.max(Math.min(a[c]-m,w),0),t.arrowElement=r,t.offsets.arrow=(Tt(n={},d,Math.round(w)),Tt(n,h,""),n),t},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(t,e){if(A(t.instance.modifiers,"inner"))return t;if(t.flipped&&t.placement===t.originalPlacement)return t;var n=b(t.instance.popper,t.instance.reference,e.padding,e.boundariesElement),r=t.placement.split("-")[0],i=T(r),o=t.placement.split("-")[1]||"",s=[];switch(e.behavior){case At.FLIP:s=[r,i];break;case At.CLOCKWISE:s=O(r);break;case At.COUNTERCLOCKWISE:s=O(r,!0);break;default:s=e.behavior}return s.forEach(function(a,u){if(r!==a||s.length===u+1)return t;r=t.placement.split("-")[0],i=T(r);var l,c=t.offsets.popper,p=t.offsets.reference,d=Math.floor,h="left"===r&&d(c.right)>d(p.left)||"right"===r&&d(c.left)<d(p.right)||"top"===r&&d(c.bottom)>d(p.top)||"bottom"===r&&d(c.top)<d(p.bottom),f=d(c.left)<d(n.left),m=d(c.right)>d(n.right),g=d(c.top)<d(n.top),y=d(c.bottom)>d(n.bottom),v="left"===r&&f||"right"===r&&m||"top"===r&&g||"bottom"===r&&y,b=-1!==["top","bottom"].indexOf(r),_=!!e.flipVariations&&(b&&"start"===o&&f||b&&"end"===o&&m||!b&&"start"===o&&g||!b&&"end"===o&&y);(h||v||_)&&(t.flipped=!0,(h||v)&&(r=s[u+1]),_&&(o="end"===(l=o)?"start":"start"===l?"end":l),t.placement=r+(o?"-"+o:""),t.offsets.popper=xt({},t.offsets.popper,x(t.instance.popper,t.offsets.reference,t.placement)),t=C(t.instance.modifiers,t,"flip"))}),t},behavior:"flip",padding:5,boundariesElement:"viewport"},inner:{order:700,enabled:!1,fn:function(t){var e=t.placement,n=e.split("-")[0],r=t.offsets,i=r.popper,o=r.reference,s=-1!==["left","right"].indexOf(n),a=-1===["top","left"].indexOf(n);return i[s?"left":"top"]=o[n]-(a?i[s?"width":"height"]:0),t.placement=T(e),t.offsets.popper=g(i),t}},hide:{order:800,enabled:!0,fn:function(t){if(!P(t.instance.modifiers,"hide","preventOverflow"))return t;var e=t.offsets.reference,n=S(t.instance.modifiers,function(t){return"preventOverflow"===t.name}).boundaries;if(e.bottom<n.top||e.left>n.right||e.top>n.bottom||e.right<n.left){if(!0===t.hide)return t;t.hide=!0,t.attributes["x-out-of-boundaries"]=""}else{if(!1===t.hide)return t;t.hide=!1,t.attributes["x-out-of-boundaries"]=!1}return t}},computeStyle:{order:850,enabled:!0,fn:function(t,e){var n=e.x,r=e.y,i=t.offsets.popper,o=S(t.instance.modifiers,function(t){return"applyStyle"===t.name}).gpuAcceleration;void 0!==o&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var s=void 0!==o?o:e.gpuAcceleration,a=y(l(t.instance.popper)),u={position:i.position},c={left:Math.floor(i.left),top:Math.floor(i.top),bottom:Math.floor(i.bottom),right:Math.floor(i.right)},p="bottom"===n?"top":"bottom",d="right"===r?"left":"right",h=k("transform"),f=void 0,m=void 0;if(m="bottom"===p?-a.height+c.bottom:c.top,f="right"===d?-a.width+c.right:c.left,s&&h)u[h]="translate3d("+f+"px, "+m+"px, 0)",u[p]=0,u[d]=0,u.willChange="transform";else{var g="bottom"===p?-1:1,v="right"===d?-1:1;u[p]=m*g,u[d]=f*v,u.willChange=p+", "+d}var b={"x-placement":t.placement};return t.attributes=xt({},b,t.attributes),t.styles=xt({},u,t.styles),t.arrowStyles=xt({},t.offsets.arrow,t.arrowStyles),t},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(t){var e,n;return N(t.instance.popper,t.styles),e=t.instance.popper,n=t.attributes,Object.keys(n).forEach(function(t){!1!==n[t]?e.setAttribute(t,n[t]):e.removeAttribute(t)}),t.arrowElement&&Object.keys(t.arrowStyles).length&&N(t.arrowElement,t.arrowStyles),t},onLoad:function(t,e,n){var r=w(0,e,t),i=_(n.placement,r,e,t,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return e.setAttribute("x-placement",i),N(e,{position:"absolute"}),n},gpuAcceleration:void 0}}},It=function(){function t(e,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};wt(this,t),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=vt(this.update.bind(this)),this.options=xt({},t.Defaults,i),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=e&&e.jquery?e[0]:e,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(xt({},t.Defaults.modifiers,i.modifiers)).forEach(function(e){r.options.modifiers[e]=xt({},t.Defaults.modifiers[e]||{},i.modifiers?i.modifiers[e]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(t){return xt({name:t},r.options.modifiers[t])}).sort(function(t,e){return t.order-e.order}),this.modifiers.forEach(function(t){t.enabled&&o(t.onLoad)&&t.onLoad(r.reference,r.popper,r.options,t,r.state)}),this.update();var s=this.options.eventsEnabled;s&&this.enableEventListeners(),this.state.eventsEnabled=s}return Et(t,[{key:"update",value:function(){return function(){if(!this.state.isDestroyed){var t={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};t.offsets.reference=w(this.state,this.popper,this.reference),t.placement=_(this.options.placement,t.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),t.originalPlacement=t.placement,t.offsets.popper=x(this.popper,t.offsets.reference,t.placement),t.offsets.popper.position="absolute",t=C(this.modifiers,t),this.state.isCreated?this.options.onUpdate(t):(this.state.isCreated=!0,this.options.onCreate(t))}}.call(this)}},{key:"destroy",value:function(){return function(){return this.state.isDestroyed=!0,A(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.left="",this.popper.style.position="",this.popper.style.top="",this.popper.style[k("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}.call(this)}},{key:"enableEventListeners",value:function(){return function(){this.state.eventsEnabled||(this.state=D(this.reference,this.options,this.state,this.scheduleUpdate))}.call(this)}},{key:"disableEventListeners",value:function(){return R.call(this)}}]),t}();It.Utils=("undefined"!=typeof window?window:global).PopperUtils,It.placements=St,It.Defaults=kt;var Dt=function(t){var e="dropdown",n="bs.dropdown",o="."+n,s=t.fn[e],a=new RegExp("38|40|27"),u={HIDE:"hide"+o,HIDDEN:"hidden"+o,SHOW:"show"+o,SHOWN:"shown"+o,CLICK:"click"+o,CLICK_DATA_API:"click"+o+".data-api",KEYDOWN_DATA_API:"keydown"+o+".data-api",KEYUP_DATA_API:"keyup"+o+".data-api"},l="disabled",c="show",p="dropup",d="dropright",h="dropleft",f="dropdown-menu-right",m="dropdown-menu-left",g="position-static",y='[data-toggle="dropdown"]',v=".dropdown-menu",b=".navbar-nav",_=".dropdown-menu .dropdown-item:not(.disabled)",w="top-start",E="top-end",T="bottom-start",x="bottom-end",S="right-start",C="left-start",A={offset:0,flip:!0,boundary:"scrollParent"},k={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)"},I=function(){function s(t,e){this._element=t,this._popper=null,this._config=this._getConfig(e),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners()}var I=s.prototype;return I.toggle=function(){if(!this._element.disabled&&!t(this._element).hasClass(l)){var e=s._getParentFromElement(this._element),n=t(this._menu).hasClass(c);if(s._clearMenus(),!n){var r={relatedTarget:this._element},i=t.Event(u.SHOW,r);if(t(e).trigger(i),!i.isDefaultPrevented()){if(!this._inNavbar){if(void 0===It)throw new TypeError("Bootstrap dropdown require Popper.js (https://popper.js.org)");var o=this._element;t(e).hasClass(p)&&(t(this._menu).hasClass(m)||t(this._menu).hasClass(f))&&(o=e),"scrollParent"!==this._config.boundary&&t(e).addClass(g),this._popper=new It(o,this._menu,this._getPopperConfig())}"ontouchstart"in document.documentElement&&0===t(e).closest(b).length&&t("body").children().on("mouseover",null,t.noop),this._element.focus(),this._element.setAttribute("aria-expanded",!0),t(this._menu).toggleClass(c),t(e).toggleClass(c).trigger(t.Event(u.SHOWN,r))}}}},I.dispose=function(){t.removeData(this._element,n),t(this._element).off(o),this._element=null,this._menu=null,null!==this._popper&&(this._popper.destroy(),this._popper=null)},I.update=function(){this._inNavbar=this._detectNavbar(),null!==this._popper&&this._popper.scheduleUpdate()},I._addEventListeners=function(){var e=this;t(this._element).on(u.CLICK,function(t){t.preventDefault(),t.stopPropagation(),e.toggle()})},I._getConfig=function(n){return n=i({},this.constructor.Default,t(this._element).data(),n),lt.typeCheckConfig(e,n,this.constructor.DefaultType),n},I._getMenuElement=function(){if(!this._menu){var e=s._getParentFromElement(this._element);this._menu=t(e).find(v)[0]}return this._menu},I._getPlacement=function(){var e=t(this._element).parent(),n=T;return e.hasClass(p)?(n=w,t(this._menu).hasClass(f)&&(n=E)):e.hasClass(d)?n=S:e.hasClass(h)?n=C:t(this._menu).hasClass(f)&&(n=x),n},I._detectNavbar=function(){return t(this._element).closest(".navbar").length>0},I._getPopperConfig=function(){var t=this,e={};return"function"==typeof this._config.offset?e.fn=function(e){return e.offsets=i({},e.offsets,t._config.offset(e.offsets)||{}),e}:e.offset=this._config.offset,{placement:this._getPlacement(),modifiers:{offset:e,flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}}},s._jQueryInterface=function(e){return this.each(function(){var r=t(this).data(n);if(r||(r=new s(this,"object"==typeof e?e:null),t(this).data(n,r)),"string"==typeof e){if("undefined"==typeof r[e])throw new TypeError('No method named "'+e+'"');r[e]()}})},s._clearMenus=function(e){if(!e||3!==e.which&&("keyup"!==e.type||9===e.which))for(var r=t.makeArray(t(y)),i=0;i<r.length;i++){var o=s._getParentFromElement(r[i]),a=t(r[i]).data(n),l={relatedTarget:r[i]};if(a){var p=a._menu;if(t(o).hasClass(c)&&!(e&&("click"===e.type&&/input|textarea/i.test(e.target.tagName)||"keyup"===e.type&&9===e.which)&&t.contains(o,e.target))){var d=t.Event(u.HIDE,l);t(o).trigger(d),d.isDefaultPrevented()||("ontouchstart"in document.documentElement&&t("body").children().off("mouseover",null,t.noop),r[i].setAttribute("aria-expanded","false"),t(p).removeClass(c),t(o).removeClass(c).trigger(t.Event(u.HIDDEN,l)))}}}},s._getParentFromElement=function(e){var n,r=lt.getSelectorFromElement(e);return r&&(n=t(r)[0]),n||e.parentNode},s._dataApiKeydownHandler=function(e){if((/input|textarea/i.test(e.target.tagName)?!(32===e.which||27!==e.which&&(40!==e.which&&38!==e.which||t(e.target).closest(v).length)):a.test(e.which))&&(e.preventDefault(),e.stopPropagation(),!this.disabled&&!t(this).hasClass(l))){var n=s._getParentFromElement(this),r=t(n).hasClass(c);if((r||27===e.which&&32===e.which)&&(!r||27!==e.which&&32!==e.which)){var i=t(n).find(_).get();if(0!==i.length){var o=i.indexOf(e.target);38===e.which&&o>0&&o--,40===e.which&&o<i.length-1&&o++,o<0&&(o=0),i[o].focus()}}else{if(27===e.which){var u=t(n).find(y)[0];t(u).trigger("focus")}t(this).trigger("click")}}},r(s,null,[{key:"VERSION",get:function(){return"4.0.0"}},{key:"Default",get:function(){return A}},{key:"DefaultType",get:function(){return k}}]),s}();return t(document).on(u.KEYDOWN_DATA_API,y,I._dataApiKeydownHandler).on(u.KEYDOWN_DATA_API,v,I._dataApiKeydownHandler).on(u.CLICK_DATA_API+" "+u.KEYUP_DATA_API,I._clearMenus).on(u.CLICK_DATA_API,y,function(e){e.preventDefault(),e.stopPropagation(),I._jQueryInterface.call(t(this),"toggle")}).on(u.CLICK_DATA_API,".dropdown form",function(t){t.stopPropagation()}),t.fn[e]=I._jQueryInterface,t.fn[e].Constructor=I,t.fn[e].noConflict=function(){return t.fn[e]=s,I._jQueryInterface},I}(e),Rt=function(t){var e="bs.modal",n="."+e,o=t.fn.modal,s={backdrop:!0,keyboard:!0,focus:!0,show:!0},a={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},u={HIDE:"hide"+n,HIDDEN:"hidden"+n,SHOW:"show"+n,SHOWN:"shown"+n,FOCUSIN:"focusin"+n,RESIZE:"resize"+n,CLICK_DISMISS:"click.dismiss"+n,KEYDOWN_DISMISS:"keydown.dismiss"+n,MOUSEUP_DISMISS:"mouseup.dismiss"+n,MOUSEDOWN_DISMISS:"mousedown.dismiss"+n,CLICK_DATA_API:"click.bs.modal.data-api"},l="modal-scrollbar-measure",c="modal-backdrop",p="modal-open",d="fade",h="show",f={DIALOG:".modal-dialog",DATA_TOGGLE:'[data-toggle="modal"]',DATA_DISMISS:'[data-dismiss="modal"]',FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"},m=function(){function o(e,n){this._config=this._getConfig(n),this._element=e,this._dialog=t(e).find(f.DIALOG)[0],this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._originalBodyPadding=0,this._scrollbarWidth=0}var m=o.prototype;return m.toggle=function(t){return this._isShown?this.hide():this.show(t)},m.show=function(e){var n=this;if(!this._isTransitioning&&!this._isShown){lt.supportsTransitionEnd()&&t(this._element).hasClass(d)&&(this._isTransitioning=!0);var r=t.Event(u.SHOW,{relatedTarget:e});t(this._element).trigger(r),this._isShown||r.isDefaultPrevented()||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),t(document.body).addClass(p),this._setEscapeEvent(),this._setResizeEvent(),t(this._element).on(u.CLICK_DISMISS,f.DATA_DISMISS,function(t){return n.hide(t)}),t(this._dialog).on(u.MOUSEDOWN_DISMISS,function(){t(n._element).one(u.MOUSEUP_DISMISS,function(e){t(e.target).is(n._element)&&(n._ignoreBackdropClick=!0)})}),this._showBackdrop(function(){return n._showElement(e)}))}},m.hide=function(e){var n=this;if(e&&e.preventDefault(),!this._isTransitioning&&this._isShown){var r=t.Event(u.HIDE);if(t(this._element).trigger(r),this._isShown&&!r.isDefaultPrevented()){this._isShown=!1;var i=lt.supportsTransitionEnd()&&t(this._element).hasClass(d);i&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),t(document).off(u.FOCUSIN),t(this._element).removeClass(h),t(this._element).off(u.CLICK_DISMISS),t(this._dialog).off(u.MOUSEDOWN_DISMISS),i?t(this._element).one(lt.TRANSITION_END,function(t){return n._hideModal(t)}).emulateTransitionEnd(300):this._hideModal()}}},m.dispose=function(){t.removeData(this._element,e),t(window,document,this._element,this._backdrop).off(n),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,
this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._scrollbarWidth=null},m.handleUpdate=function(){this._adjustDialog()},m._getConfig=function(t){return t=i({},s,t),lt.typeCheckConfig("modal",t,a),t},m._showElement=function(e){var n=this,r=lt.supportsTransitionEnd()&&t(this._element).hasClass(d);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.scrollTop=0,r&&lt.reflow(this._element),t(this._element).addClass(h),this._config.focus&&this._enforceFocus();var i=t.Event(u.SHOWN,{relatedTarget:e}),o=function(){n._config.focus&&n._element.focus(),n._isTransitioning=!1,t(n._element).trigger(i)};r?t(this._dialog).one(lt.TRANSITION_END,o).emulateTransitionEnd(300):o()},m._enforceFocus=function(){var e=this;t(document).off(u.FOCUSIN).on(u.FOCUSIN,function(n){document!==n.target&&e._element!==n.target&&0===t(e._element).has(n.target).length&&e._element.focus()})},m._setEscapeEvent=function(){var e=this;this._isShown&&this._config.keyboard?t(this._element).on(u.KEYDOWN_DISMISS,function(t){27===t.which&&(t.preventDefault(),e.hide())}):this._isShown||t(this._element).off(u.KEYDOWN_DISMISS)},m._setResizeEvent=function(){var e=this;this._isShown?t(window).on(u.RESIZE,function(t){return e.handleUpdate(t)}):t(window).off(u.RESIZE)},m._hideModal=function(){var e=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._isTransitioning=!1,this._showBackdrop(function(){t(document.body).removeClass(p),e._resetAdjustments(),e._resetScrollbar(),t(e._element).trigger(u.HIDDEN)})},m._removeBackdrop=function(){this._backdrop&&(t(this._backdrop).remove(),this._backdrop=null)},m._showBackdrop=function(e){var n=this,r=t(this._element).hasClass(d)?d:"";if(this._isShown&&this._config.backdrop){var i=lt.supportsTransitionEnd()&&r;if(this._backdrop=document.createElement("div"),this._backdrop.className=c,r&&t(this._backdrop).addClass(r),t(this._backdrop).appendTo(document.body),t(this._element).on(u.CLICK_DISMISS,function(t){n._ignoreBackdropClick?n._ignoreBackdropClick=!1:t.target===t.currentTarget&&("static"===n._config.backdrop?n._element.focus():n.hide())}),i&&lt.reflow(this._backdrop),t(this._backdrop).addClass(h),!e)return;if(!i)return void e();t(this._backdrop).one(lt.TRANSITION_END,e).emulateTransitionEnd(150)}else if(!this._isShown&&this._backdrop){t(this._backdrop).removeClass(h);var o=function(){n._removeBackdrop(),e&&e()};lt.supportsTransitionEnd()&&t(this._element).hasClass(d)?t(this._backdrop).one(lt.TRANSITION_END,o).emulateTransitionEnd(150):o()}else e&&e()},m._adjustDialog=function(){var t=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&t&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),this._isBodyOverflowing&&!t&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},m._resetAdjustments=function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""},m._checkScrollbar=function(){var t=document.body.getBoundingClientRect();this._isBodyOverflowing=t.left+t.right<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},m._setScrollbar=function(){var e=this;if(this._isBodyOverflowing){t(f.FIXED_CONTENT).each(function(n,r){var i=t(r)[0].style.paddingRight,o=t(r).css("padding-right");t(r).data("padding-right",i).css("padding-right",parseFloat(o)+e._scrollbarWidth+"px")}),t(f.STICKY_CONTENT).each(function(n,r){var i=t(r)[0].style.marginRight,o=t(r).css("margin-right");t(r).data("margin-right",i).css("margin-right",parseFloat(o)-e._scrollbarWidth+"px")}),t(f.NAVBAR_TOGGLER).each(function(n,r){var i=t(r)[0].style.marginRight,o=t(r).css("margin-right");t(r).data("margin-right",i).css("margin-right",parseFloat(o)+e._scrollbarWidth+"px")});var n=document.body.style.paddingRight,r=t("body").css("padding-right");t("body").data("padding-right",n).css("padding-right",parseFloat(r)+this._scrollbarWidth+"px")}},m._resetScrollbar=function(){t(f.FIXED_CONTENT).each(function(e,n){var r=t(n).data("padding-right");void 0!==r&&t(n).css("padding-right",r).removeData("padding-right")}),t(f.STICKY_CONTENT+", "+f.NAVBAR_TOGGLER).each(function(e,n){var r=t(n).data("margin-right");void 0!==r&&t(n).css("margin-right",r).removeData("margin-right")});var e=t("body").data("padding-right");void 0!==e&&t("body").css("padding-right",e).removeData("padding-right")},m._getScrollbarWidth=function(){var t=document.createElement("div");t.className=l,document.body.appendChild(t);var e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e},o._jQueryInterface=function(n,r){return this.each(function(){var s=t(this).data(e),a=i({},o.Default,t(this).data(),"object"==typeof n&&n);if(s||(s=new o(this,a),t(this).data(e,s)),"string"==typeof n){if("undefined"==typeof s[n])throw new TypeError('No method named "'+n+'"');s[n](r)}else a.show&&s.show(r)})},r(o,null,[{key:"VERSION",get:function(){return"4.0.0"}},{key:"Default",get:function(){return s}}]),o}();return t(document).on(u.CLICK_DATA_API,f.DATA_TOGGLE,function(n){var r,o=this,s=lt.getSelectorFromElement(this);s&&(r=t(s)[0]);var a=t(r).data(e)?"toggle":i({},t(r).data(),t(this).data());"A"!==this.tagName&&"AREA"!==this.tagName||n.preventDefault();var l=t(r).one(u.SHOW,function(e){e.isDefaultPrevented()||l.one(u.HIDDEN,function(){t(o).is(":visible")&&o.focus()})});m._jQueryInterface.call(t(r),a,this)}),t.fn.modal=m._jQueryInterface,t.fn.modal.Constructor=m,t.fn.modal.noConflict=function(){return t.fn.modal=o,m._jQueryInterface},m}(e),Lt=function(t){var e="tooltip",n="bs.tooltip",o="."+n,s=t.fn[e],a=new RegExp("(^|\\s)bs-tooltip\\S+","g"),u={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)",boundary:"(string|element)"},l={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},c={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:0,container:!1,fallbackPlacement:"flip",boundary:"scrollParent"},p="show",d="out",h={HIDE:"hide"+o,HIDDEN:"hidden"+o,SHOW:"show"+o,SHOWN:"shown"+o,INSERTED:"inserted"+o,CLICK:"click"+o,FOCUSIN:"focusin"+o,FOCUSOUT:"focusout"+o,MOUSEENTER:"mouseenter"+o,MOUSELEAVE:"mouseleave"+o},f="fade",m="show",g=".tooltip-inner",y=".arrow",v="hover",b="focus",_="click",w="manual",E=function(){function s(t,e){if(void 0===It)throw new TypeError("Bootstrap tooltips require Popper.js (https://popper.js.org)");this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this.element=t,this.config=this._getConfig(e),this.tip=null,this._setListeners()}var E=s.prototype;return E.enable=function(){this._isEnabled=!0},E.disable=function(){this._isEnabled=!1},E.toggleEnabled=function(){this._isEnabled=!this._isEnabled},E.toggle=function(e){if(this._isEnabled)if(e){var n=this.constructor.DATA_KEY,r=t(e.currentTarget).data(n);r||(r=new this.constructor(e.currentTarget,this._getDelegateConfig()),t(e.currentTarget).data(n,r)),r._activeTrigger.click=!r._activeTrigger.click,r._isWithActiveTrigger()?r._enter(null,r):r._leave(null,r)}else{if(t(this.getTipElement()).hasClass(m))return void this._leave(null,this);this._enter(null,this)}},E.dispose=function(){clearTimeout(this._timeout),t.removeData(this.element,this.constructor.DATA_KEY),t(this.element).off(this.constructor.EVENT_KEY),t(this.element).closest(".modal").off("hide.bs.modal"),this.tip&&t(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,this._activeTrigger=null,null!==this._popper&&this._popper.destroy(),this._popper=null,this.element=null,this.config=null,this.tip=null},E.show=function(){var e=this;if("none"===t(this.element).css("display"))throw new Error("Please use show on visible elements");var n=t.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){t(this.element).trigger(n);var r=t.contains(this.element.ownerDocument.documentElement,this.element);if(n.isDefaultPrevented()||!r)return;var i=this.getTipElement(),o=lt.getUID(this.constructor.NAME);i.setAttribute("id",o),this.element.setAttribute("aria-describedby",o),this.setContent(),this.config.animation&&t(i).addClass(f);var a="function"==typeof this.config.placement?this.config.placement.call(this,i,this.element):this.config.placement,u=this._getAttachment(a);this.addAttachmentClass(u);var l=!1===this.config.container?document.body:t(this.config.container);t(i).data(this.constructor.DATA_KEY,this),t.contains(this.element.ownerDocument.documentElement,this.tip)||t(i).appendTo(l),t(this.element).trigger(this.constructor.Event.INSERTED),this._popper=new It(this.element,i,{placement:u,modifiers:{offset:{offset:this.config.offset},flip:{behavior:this.config.fallbackPlacement},arrow:{element:y},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:function(t){t.originalPlacement!==t.placement&&e._handlePopperPlacementChange(t)},onUpdate:function(t){e._handlePopperPlacementChange(t)}}),t(i).addClass(m),"ontouchstart"in document.documentElement&&t("body").children().on("mouseover",null,t.noop);var c=function(){e.config.animation&&e._fixTransition();var n=e._hoverState;e._hoverState=null,t(e.element).trigger(e.constructor.Event.SHOWN),n===d&&e._leave(null,e)};lt.supportsTransitionEnd()&&t(this.tip).hasClass(f)?t(this.tip).one(lt.TRANSITION_END,c).emulateTransitionEnd(s._TRANSITION_DURATION):c()}},E.hide=function(e){var n=this,r=this.getTipElement(),i=t.Event(this.constructor.Event.HIDE),o=function(){n._hoverState!==p&&r.parentNode&&r.parentNode.removeChild(r),n._cleanTipClass(),n.element.removeAttribute("aria-describedby"),t(n.element).trigger(n.constructor.Event.HIDDEN),null!==n._popper&&n._popper.destroy(),e&&e()};t(this.element).trigger(i),i.isDefaultPrevented()||(t(r).removeClass(m),"ontouchstart"in document.documentElement&&t("body").children().off("mouseover",null,t.noop),this._activeTrigger[_]=!1,this._activeTrigger[b]=!1,this._activeTrigger[v]=!1,lt.supportsTransitionEnd()&&t(this.tip).hasClass(f)?t(r).one(lt.TRANSITION_END,o).emulateTransitionEnd(150):o(),this._hoverState="")},E.update=function(){null!==this._popper&&this._popper.scheduleUpdate()},E.isWithContent=function(){return Boolean(this.getTitle())},E.addAttachmentClass=function(e){t(this.getTipElement()).addClass("bs-tooltip-"+e)},E.getTipElement=function(){return this.tip=this.tip||t(this.config.template)[0],this.tip},E.setContent=function(){var e=t(this.getTipElement());this.setElementContent(e.find(g),this.getTitle()),e.removeClass(f+" "+m)},E.setElementContent=function(e,n){var r=this.config.html;"object"==typeof n&&(n.nodeType||n.jquery)?r?t(n).parent().is(e)||e.empty().append(n):e.text(t(n).text()):e[r?"html":"text"](n)},E.getTitle=function(){var t=this.element.getAttribute("data-original-title");return t||(t="function"==typeof this.config.title?this.config.title.call(this.element):this.config.title),t},E._getAttachment=function(t){return l[t.toUpperCase()]},E._setListeners=function(){var e=this;this.config.trigger.split(" ").forEach(function(n){if("click"===n)t(e.element).on(e.constructor.Event.CLICK,e.config.selector,function(t){return e.toggle(t)});else if(n!==w){var r=n===v?e.constructor.Event.MOUSEENTER:e.constructor.Event.FOCUSIN,i=n===v?e.constructor.Event.MOUSELEAVE:e.constructor.Event.FOCUSOUT;t(e.element).on(r,e.config.selector,function(t){return e._enter(t)}).on(i,e.config.selector,function(t){return e._leave(t)})}t(e.element).closest(".modal").on("hide.bs.modal",function(){return e.hide()})}),this.config.selector?this.config=i({},this.config,{trigger:"manual",selector:""}):this._fixTitle()},E._fixTitle=function(){var t=typeof this.element.getAttribute("data-original-title");(this.element.getAttribute("title")||"string"!==t)&&(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))},E._enter=function(e,n){var r=this.constructor.DATA_KEY;(n=n||t(e.currentTarget).data(r))||(n=new this.constructor(e.currentTarget,this._getDelegateConfig()),t(e.currentTarget).data(r,n)),e&&(n._activeTrigger["focusin"===e.type?b:v]=!0),t(n.getTipElement()).hasClass(m)||n._hoverState===p?n._hoverState=p:(clearTimeout(n._timeout),n._hoverState=p,n.config.delay&&n.config.delay.show?n._timeout=setTimeout(function(){n._hoverState===p&&n.show()},n.config.delay.show):n.show())},E._leave=function(e,n){var r=this.constructor.DATA_KEY;(n=n||t(e.currentTarget).data(r))||(n=new this.constructor(e.currentTarget,this._getDelegateConfig()),t(e.currentTarget).data(r,n)),e&&(n._activeTrigger["focusout"===e.type?b:v]=!1),n._isWithActiveTrigger()||(clearTimeout(n._timeout),n._hoverState=d,n.config.delay&&n.config.delay.hide?n._timeout=setTimeout(function(){n._hoverState===d&&n.hide()},n.config.delay.hide):n.hide())},E._isWithActiveTrigger=function(){for(var t in this._activeTrigger)if(this._activeTrigger[t])return!0;return!1},E._getConfig=function(n){return"number"==typeof(n=i({},this.constructor.Default,t(this.element).data(),n)).delay&&(n.delay={show:n.delay,hide:n.delay}),"number"==typeof n.title&&(n.title=n.title.toString()),"number"==typeof n.content&&(n.content=n.content.toString()),lt.typeCheckConfig(e,n,this.constructor.DefaultType),n},E._getDelegateConfig=function(){var t={};if(this.config)for(var e in this.config)this.constructor.Default[e]!==this.config[e]&&(t[e]=this.config[e]);return t},E._cleanTipClass=function(){var e=t(this.getTipElement()),n=e.attr("class").match(a);null!==n&&n.length>0&&e.removeClass(n.join(""))},E._handlePopperPlacementChange=function(t){this._cleanTipClass(),this.addAttachmentClass(this._getAttachment(t.placement))},E._fixTransition=function(){var e=this.getTipElement(),n=this.config.animation;null===e.getAttribute("x-placement")&&(t(e).removeClass(f),this.config.animation=!1,this.hide(),this.show(),this.config.animation=n)},s._jQueryInterface=function(e){return this.each(function(){var r=t(this).data(n),i="object"==typeof e&&e;if((r||!/dispose|hide/.test(e))&&(r||(r=new s(this,i),t(this).data(n,r)),"string"==typeof e)){if("undefined"==typeof r[e])throw new TypeError('No method named "'+e+'"');r[e]()}})},r(s,null,[{key:"VERSION",get:function(){return"4.0.0"}},{key:"Default",get:function(){return c}},{key:"NAME",get:function(){return e}},{key:"DATA_KEY",get:function(){return n}},{key:"Event",get:function(){return h}},{key:"EVENT_KEY",get:function(){return o}},{key:"DefaultType",get:function(){return u}}]),s}();return t.fn[e]=E._jQueryInterface,t.fn[e].Constructor=E,t.fn[e].noConflict=function(){return t.fn[e]=s,E._jQueryInterface},E}(e),Nt=function(t){var e="popover",n="bs.popover",o="."+n,s=t.fn[e],a=new RegExp("(^|\\s)bs-popover\\S+","g"),u=i({},Lt.Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),l=i({},Lt.DefaultType,{content:"(string|element|function)"}),c="fade",p="show",d=".popover-header",h=".popover-body",f={HIDE:"hide"+o,HIDDEN:"hidden"+o,SHOW:"show"+o,SHOWN:"shown"+o,INSERTED:"inserted"+o,CLICK:"click"+o,FOCUSIN:"focusin"+o,FOCUSOUT:"focusout"+o,MOUSEENTER:"mouseenter"+o,MOUSELEAVE:"mouseleave"+o},m=function(i){function s(){return i.apply(this,arguments)||this}var m,g;g=i,(m=s).prototype=Object.create(g.prototype),m.prototype.constructor=m,m.__proto__=g;var y=s.prototype;return y.isWithContent=function(){return this.getTitle()||this._getContent()},y.addAttachmentClass=function(e){t(this.getTipElement()).addClass("bs-popover-"+e)},y.getTipElement=function(){return this.tip=this.tip||t(this.config.template)[0],this.tip},y.setContent=function(){var e=t(this.getTipElement());this.setElementContent(e.find(d),this.getTitle());var n=this._getContent();"function"==typeof n&&(n=n.call(this.element)),this.setElementContent(e.find(h),n),e.removeClass(c+" "+p)},y._getContent=function(){return this.element.getAttribute("data-content")||this.config.content},y._cleanTipClass=function(){var e=t(this.getTipElement()),n=e.attr("class").match(a);null!==n&&n.length>0&&e.removeClass(n.join(""))},s._jQueryInterface=function(e){return this.each(function(){var r=t(this).data(n),i="object"==typeof e?e:null;if((r||!/destroy|hide/.test(e))&&(r||(r=new s(this,i),t(this).data(n,r)),"string"==typeof e)){if("undefined"==typeof r[e])throw new TypeError('No method named "'+e+'"');r[e]()}})},r(s,null,[{key:"VERSION",get:function(){return"4.0.0"}},{key:"Default",get:function(){return u}},{key:"NAME",get:function(){return e}},{key:"DATA_KEY",get:function(){return n}},{key:"Event",get:function(){return f}},{key:"EVENT_KEY",get:function(){return o}},{key:"DefaultType",get:function(){return l}}]),s}(Lt);return t.fn[e]=m._jQueryInterface,t.fn[e].Constructor=m,t.fn[e].noConflict=function(){return t.fn[e]=s,m._jQueryInterface},m}(e),Pt=function(t){var e="scrollspy",n="bs.scrollspy",o="."+n,s=t.fn[e],a={offset:10,method:"auto",target:""},u={offset:"number",method:"string",target:"(string|element)"},l={ACTIVATE:"activate"+o,SCROLL:"scroll"+o,LOAD_DATA_API:"load"+o+".data-api"},c="dropdown-item",p="active",d={DATA_SPY:'[data-spy="scroll"]',ACTIVE:".active",NAV_LIST_GROUP:".nav, .list-group",NAV_LINKS:".nav-link",NAV_ITEMS:".nav-item",LIST_ITEMS:".list-group-item",DROPDOWN:".dropdown",DROPDOWN_ITEMS:".dropdown-item",DROPDOWN_TOGGLE:".dropdown-toggle"},h="offset",f="position",m=function(){function s(e,n){var r=this;this._element=e,this._scrollElement="BODY"===e.tagName?window:e,this._config=this._getConfig(n),this._selector=this._config.target+" "+d.NAV_LINKS+","+this._config.target+" "+d.LIST_ITEMS+","+this._config.target+" "+d.DROPDOWN_ITEMS,this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,t(this._scrollElement).on(l.SCROLL,function(t){return r._process(t)}),this.refresh(),this._process()}var m=s.prototype;return m.refresh=function(){var e=this,n=this._scrollElement===this._scrollElement.window?h:f,r="auto"===this._config.method?n:this._config.method,i=r===f?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),t.makeArray(t(this._selector)).map(function(e){var n,o=lt.getSelectorFromElement(e);if(o&&(n=t(o)[0]),n){var s=n.getBoundingClientRect();if(s.width||s.height)return[t(n)[r]().top+i,o]}return null}).filter(function(t){return t}).sort(function(t,e){return t[0]-e[0]}).forEach(function(t){e._offsets.push(t[0]),e._targets.push(t[1])})},m.dispose=function(){t.removeData(this._element,n),t(this._scrollElement).off(o),this._element=null,this._scrollElement=null,this._config=null,this._selector=null,this._offsets=null,this._targets=null,this._activeTarget=null,this._scrollHeight=null},m._getConfig=function(n){if("string"!=typeof(n=i({},a,n)).target){var r=t(n.target).attr("id");r||(r=lt.getUID(e),t(n.target).attr("id",r)),n.target="#"+r}return lt.typeCheckConfig(e,n,u),n},m._getScrollTop=function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop},m._getScrollHeight=function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},m._getOffsetHeight=function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height},m._process=function(){var t=this._getScrollTop()+this._config.offset,e=this._getScrollHeight(),n=this._config.offset+e-this._getOffsetHeight();if(this._scrollHeight!==e&&this.refresh(),t>=n){var r=this._targets[this._targets.length-1];this._activeTarget!==r&&this._activate(r)}else{if(this._activeTarget&&t<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();for(var i=this._offsets.length;i--;)this._activeTarget!==this._targets[i]&&t>=this._offsets[i]&&("undefined"==typeof this._offsets[i+1]||t<this._offsets[i+1])&&this._activate(this._targets[i])}},m._activate=function(e){this._activeTarget=e,this._clear();var n=this._selector.split(",");n=n.map(function(t){return t+'[data-target="'+e+'"],'+t+'[href="'+e+'"]'});var r=t(n.join(","));r.hasClass(c)?(r.closest(d.DROPDOWN).find(d.DROPDOWN_TOGGLE).addClass(p),r.addClass(p)):(r.addClass(p),r.parents(d.NAV_LIST_GROUP).prev(d.NAV_LINKS+", "+d.LIST_ITEMS).addClass(p),r.parents(d.NAV_LIST_GROUP).prev(d.NAV_ITEMS).children(d.NAV_LINKS).addClass(p)),t(this._scrollElement).trigger(l.ACTIVATE,{relatedTarget:e})},m._clear=function(){t(this._selector).filter(d.ACTIVE).removeClass(p)},s._jQueryInterface=function(e){return this.each(function(){var r=t(this).data(n);if(r||(r=new s(this,"object"==typeof e&&e),t(this).data(n,r)),"string"==typeof e){if("undefined"==typeof r[e])throw new TypeError('No method named "'+e+'"');r[e]()}})},r(s,null,[{key:"VERSION",get:function(){return"4.0.0"}},{key:"Default",get:function(){return a}}]),s}();return t(window).on(l.LOAD_DATA_API,function(){for(var e=t.makeArray(t(d.DATA_SPY)),n=e.length;n--;){var r=t(e[n]);m._jQueryInterface.call(r,r.data())}}),t.fn[e]=m._jQueryInterface,t.fn[e].Constructor=m,t.fn[e].noConflict=function(){return t.fn[e]=s,m._jQueryInterface},m}(e),Ot=function(t){var e=".bs.tab",n=t.fn.tab,i={HIDE:"hide"+e,HIDDEN:"hidden"+e,SHOW:"show"+e,SHOWN:"shown"+e,CLICK_DATA_API:"click.bs.tab.data-api"},o="dropdown-menu",s="active",a="disabled",u="fade",l="show",c=".dropdown",p=".nav, .list-group",d=".active",h="> li > .active",f=".dropdown-toggle",m="> .dropdown-menu .active",g=function(){function e(t){this._element=t}var n=e.prototype;return n.show=function(){var e=this;if(!(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&t(this._element).hasClass(s)||t(this._element).hasClass(a))){var n,r,o=t(this._element).closest(p)[0],u=lt.getSelectorFromElement(this._element);if(o){var l="UL"===o.nodeName?h:d;r=(r=t.makeArray(t(o).find(l)))[r.length-1]}var c=t.Event(i.HIDE,{relatedTarget:this._element}),f=t.Event(i.SHOW,{relatedTarget:r});if(r&&t(r).trigger(c),t(this._element).trigger(f),!f.isDefaultPrevented()&&!c.isDefaultPrevented()){u&&(n=t(u)[0]),this._activate(this._element,o);var m=function(){var n=t.Event(i.HIDDEN,{relatedTarget:e._element}),o=t.Event(i.SHOWN,{relatedTarget:r});t(r).trigger(n),t(e._element).trigger(o)};n?this._activate(n,n.parentNode,m):m()}}},n.dispose=function(){t.removeData(this._element,"bs.tab"),this._element=null},n._activate=function(e,n,r){var i=this,o=("UL"===n.nodeName?t(n).find(h):t(n).children(d))[0],s=r&&lt.supportsTransitionEnd()&&o&&t(o).hasClass(u),a=function(){return i._transitionComplete(e,o,r)};o&&s?t(o).one(lt.TRANSITION_END,a).emulateTransitionEnd(150):a()},n._transitionComplete=function(e,n,r){if(n){t(n).removeClass(l+" "+s);var i=t(n.parentNode).find(m)[0];i&&t(i).removeClass(s),"tab"===n.getAttribute("role")&&n.setAttribute("aria-selected",!1)}if(t(e).addClass(s),"tab"===e.getAttribute("role")&&e.setAttribute("aria-selected",!0),lt.reflow(e),t(e).addClass(l),e.parentNode&&t(e.parentNode).hasClass(o)){var a=t(e).closest(c)[0];a&&t(a).find(f).addClass(s),e.setAttribute("aria-expanded",!0)}r&&r()},e._jQueryInterface=function(n){return this.each(function(){var r=t(this),i=r.data("bs.tab");if(i||(i=new e(this),r.data("bs.tab",i)),"string"==typeof n){if("undefined"==typeof i[n])throw new TypeError('No method named "'+n+'"');i[n]()}})},r(e,null,[{key:"VERSION",get:function(){return"4.0.0"}}]),e}();return t(document).on(i.CLICK_DATA_API,'[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',function(e){e.preventDefault(),g._jQueryInterface.call(t(this),"show")}),t.fn.tab=g._jQueryInterface,t.fn.tab.Constructor=g,t.fn.tab.noConflict=function(){return t.fn.tab=n,g._jQueryInterface},g}(e);!function(t){if(void 0===t)throw new TypeError("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.");var e=t.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1===e[0]&&9===e[1]&&e[2]<1||e[0]>=4)throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0")}(e),t.Util=lt,t.Alert=ct,t.Button=pt,t.Carousel=dt,t.Collapse=ht,t.Dropdown=Dt,t.Modal=Rt,t.Popover=Nt,t.Scrollspy=Pt,t.Tab=Ot,t.Tooltip=Lt,Object.defineProperty(t,"__esModule",{value:!0})}),function(){(function(){(function(){this.Rails={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote]:not([disabled]), a[data-disable-with], a[data-disable]",buttonClickSelector:{selector:"button[data-remote]:not([form]), button[data-confirm]:not([form])",exclude:"form button"},inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",formDisableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",formEnableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",fileInputSelector:"input[name][type=file]:not([disabled])",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]"}}).call(this)}).call(this);var t=this.Rails;(function(){(function(){var e,n;n=Element.prototype.matches||Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector,t.matches=function(t,e){return null!=e.exclude?n.call(t,e.selector)&&!n.call(t,e.exclude):n.call(t,e)},e="_ujsData",t.getData=function(t,n){var r;return null!=(r=t[e])?r[n]:void 0},t.setData=function(t,n,r){return null==t[e]&&(t[e]={}),t[e][n]=r},t.$=function(t){return Array.prototype.slice.call(document.querySelectorAll(t))}}).call(this),function(){var e,n,r;e=t.$,r=t.csrfToken=function(){var t;return(t=document.querySelector("meta[name=csrf-token]"))&&t.content},n=t.csrfParam=function(){var t;return(t=document.querySelector("meta[name=csrf-param]"))&&t.content},t.CSRFProtection=function(t){var e;if(null!=(e=r()))return t.setRequestHeader("X-CSRF-Token",e)},t.refreshCSRFTokens=function(){var t,i;if(i=r(),t=n(),null!=i&&null!=t)return e('form input[name="'+t+'"]').forEach(function(t){return t.value=i})}}.call(this),function(){var e,n,r;r=t.matches,e=window.CustomEvent,"function"!=typeof e&&(e=function(t,e){var n;return n=document.createEvent("CustomEvent"),n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),n},e.prototype=window.Event.prototype),n=t.fire=function(t,n,r){var i;return i=new e(n,{bubbles:!0,cancelable:!0,detail:r}),t.dispatchEvent(i),!i.defaultPrevented},t.stopEverything=function(t){return n(t.target,"ujs:everythingStopped"),t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation()},t.delegate=function(t,e,n,i){return t.addEventListener(n,function(t){var n;for(n=t.target;n instanceof Element&&!r(n,e);)n=n.parentNode;if(n instanceof Element&&!1===i.call(n,t))return t.preventDefault(),t.stopPropagation()})}}.call(this),function(){var e,n,r,i,o,s;n=t.CSRFProtection,i=t.fire,e={"*":"*/*",text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript",script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},t.ajax=function(t){var e;return t=o(t),e=r(t,function(){var n;return n=s(e.response,e.getResponseHeader("Content-Type")),2===Math.floor(e.status/100)?"function"==typeof t.success&&t.success(n,e.statusText,e):"function"==typeof t.error&&t.error(n,e.statusText,e),"function"==typeof t.complete?t.complete(e,e.statusText):void 0}),"function"==typeof t.beforeSend&&t.beforeSend(e,t),e.readyState===XMLHttpRequest.OPENED?e.send(t.data):i(document,"ajaxStop")},o=function(t){return t.url=t.url||location.href,t.type=t.type.toUpperCase(),"GET"===t.type&&t.data&&(t.url.indexOf("?")<0?t.url+="?"+t.data:t.url+="&"+t.data),null==e[t.dataType]&&(t.dataType="*"),t.accept=e[t.dataType],"*"!==t.dataType&&(t.accept+=", */*; q=0.01"),t},r=function(t,e){var r;return r=new XMLHttpRequest,r.open(t.type,t.url,!0),r.setRequestHeader("Accept",t.accept),"string"==typeof t.data&&r.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),t.crossDomain||r.setRequestHeader("X-Requested-With","XMLHttpRequest"),n(r),r.withCredentials=!!t.withCredentials,r.onreadystatechange=function(){if(r.readyState===XMLHttpRequest.DONE)return e(r)},r},s=function(t,e){var n,r;if("string"==typeof t&&"string"==typeof e)if(e.match(/\bjson\b/))try{t=JSON.parse(t)}catch(t){}else if(e.match(/\b(?:java|ecma)script\b/))r=document.createElement("script"),r.text=t,document.head.appendChild(r).parentNode.removeChild(r);else if(e.match(/\b(xml|html|svg)\b/)){n=new DOMParser,e=e.replace(/;.+/,"");try{t=n.parseFromString(t,e)}catch(t){}}return t},t.href=function(t){return t.href},t.isCrossDomain=function(t){var e,n;e=document.createElement("a"),e.href=location.href,n=document.createElement("a");try{return n.href=t,!((!n.protocol||":"===n.protocol)&&!n.host||e.protocol+"//"+e.host==n.protocol+"//"+n.host)}catch(t){return t,!0}}}.call(this),function(){var e,n;e=t.matches,n=function(t){return Array.prototype.slice.call(t)},t.serializeElement=function(t,r){var i,o;return i=[t],e(t,"form")&&(i=n(t.elements)),o=[],i.forEach(function(t){if(t.name)return e(t,"select")?n(t.options).forEach(function(e){if(e.selected)return o.push({name:t.name,value:e.value})}):t.checked||-1===["radio","checkbox","submit"].indexOf(t.type)?o.push({name:t.name,value:t.value}):void 0}),r&&o.push(r),o.map(function(t){return null!=t.name?encodeURIComponent(t.name)+"="+encodeURIComponent(t.value):t}).join("&")},t.formElements=function(t,r){return e(t,"form")?n(t.elements).filter(function(t){return e(t,r)}):n(t.querySelectorAll(r))}}.call(this),function(){var e,n,r;n=t.fire,r=t.stopEverything,t.handleConfirm=function(t){if(!e(this))return r(t)},e=function(t){var e,r,i;if(!(i=t.getAttribute("data-confirm")))return!0;if(e=!1,n(t,"confirm")){try{e=confirm(i)}catch(t){}r=n(t,"confirm:complete",[e])}return e&&r}}.call(this),function(){var e,n,r,i,o,s,a,u,l,c,p;l=t.matches,u=t.getData,c=t.setData,p=t.stopEverything,a=t.formElements,t.handleDisabledElement=function(t){var e;if(e=this,e.disabled)return p(t)},t.enableElement=function(e){var n;return n=e instanceof Event?e.target:e,l(n,t.linkDisableSelector)?s(n):l(n,t.buttonDisableSelector)||l(n,t.formEnableSelector)?i(n):l(n,t.formSubmitSelector)?o(n):void 0},t.disableElement=function(i){var o;return o=i instanceof Event?i.target:i,l(o,t.linkDisableSelector)?r(o):l(o,t.buttonDisableSelector)||l(o,t.formDisableSelector)?e(o):l(o,t.formSubmitSelector)?n(o):void 0},r=function(t){var e;return e=t.getAttribute("data-disable-with"),null!=e&&(c(t,"ujs:enable-with",t.innerHTML),t.innerHTML=e),t.addEventListener("click",p),c(t,"ujs:disabled",!0)},s=function(t){var e;return e=u(t,"ujs:enable-with"),null!=e&&(t.innerHTML=e,c(t,"ujs:enable-with",null)),t.removeEventListener("click",p),c(t,"ujs:disabled",null)},n=function(n){return a(n,t.formDisableSelector).forEach(e)},e=function(t){var e;return e=t.getAttribute("data-disable-with"),null!=e&&(l(t,"button")?(c(t,"ujs:enable-with",t.innerHTML),t.innerHTML=e):(c(t,"ujs:enable-with",t.value),t.value=e)),t.disabled=!0,c(t,"ujs:disabled",!0)},o=function(e){return a(e,t.formEnableSelector).forEach(i)},i=function(t){var e;return e=u(t,"ujs:enable-with"),null!=e&&(l(t,"button")?t.innerHTML=e:t.value=e,c(t,"ujs:enable-with",null)),t.disabled=!1,c(t,"ujs:disabled",null)}}.call(this),function(){var e;e=t.stopEverything,t.handleMethod=function(n){var r,i,o,s,a,u,l;if(u=this,l=u.getAttribute("data-method"))return a=t.href(u),i=t.csrfToken(),r=t.csrfParam(),o=document.createElement("form"),s="<input name='_method' value='"+l+"' type='hidden' />",null==r||null==i||t.isCrossDomain(a)||(s+="<input name='"+r+"' value='"+i+"' type='hidden' />"),s+='<input type="submit" />',o.method="post",o.action=a,o.target=u.target,o.innerHTML=s,o.style.display="none",document.body.appendChild(o),
o.querySelector('[type="submit"]').click(),e(n)}}.call(this),function(){var e,n,r,i,o,s,a,u,l,c=[].slice;s=t.matches,r=t.getData,u=t.setData,n=t.fire,l=t.stopEverything,e=t.ajax,i=t.isCrossDomain,a=t.serializeElement,o=function(t){var e;return null!=(e=t.getAttribute("data-remote"))&&"false"!==e},t.handleRemote=function(p){var d,h,f,m,g,y,v;return m=this,!o(m)||(n(m,"ajax:before")?(v=m.getAttribute("data-with-credentials"),f=m.getAttribute("data-type")||"script",s(m,t.formSubmitSelector)?(d=r(m,"ujs:submit-button"),g=r(m,"ujs:submit-button-formmethod")||m.method,y=r(m,"ujs:submit-button-formaction")||m.getAttribute("action")||location.href,"GET"===g.toUpperCase()&&(y=y.replace(/\?.*$/,"")),"multipart/form-data"===m.enctype?(h=new FormData(m),null!=d&&h.append(d.name,d.value)):h=a(m,d),u(m,"ujs:submit-button",null),u(m,"ujs:submit-button-formmethod",null),u(m,"ujs:submit-button-formaction",null)):s(m,t.buttonClickSelector)||s(m,t.inputChangeSelector)?(g=m.getAttribute("data-method"),y=m.getAttribute("data-url"),h=a(m,m.getAttribute("data-params"))):(g=m.getAttribute("data-method"),y=t.href(m),h=m.getAttribute("data-params")),e({type:g||"GET",url:y,data:h,dataType:f,beforeSend:function(t,e){return n(m,"ajax:beforeSend",[t,e])?n(m,"ajax:send",[t]):(n(m,"ajax:stopped"),t.abort())},success:function(){var t;return t=1<=arguments.length?c.call(arguments,0):[],n(m,"ajax:success",t)},error:function(){var t;return t=1<=arguments.length?c.call(arguments,0):[],n(m,"ajax:error",t)},complete:function(){var t;return t=1<=arguments.length?c.call(arguments,0):[],n(m,"ajax:complete",t)},crossDomain:i(y),withCredentials:null!=v&&"false"!==v}),l(p)):(n(m,"ajax:stopped"),!1))},t.formSubmitButtonClick=function(){var t,e;if(t=this,e=t.form)return t.name&&u(e,"ujs:submit-button",{name:t.name,value:t.value}),u(e,"ujs:formnovalidate-button",t.formNoValidate),u(e,"ujs:submit-button-formaction",t.getAttribute("formaction")),u(e,"ujs:submit-button-formmethod",t.getAttribute("formmethod"))},t.handleMetaClick=function(t){var e,n,r;if(n=this,r=(n.getAttribute("data-method")||"GET").toUpperCase(),e=n.getAttribute("data-params"),(t.metaKey||t.ctrlKey)&&"GET"===r&&!e)return t.stopImmediatePropagation()}}.call(this),function(){var e,n,r,i,o,s,a,u,l,c,p,d,h,f;s=t.fire,r=t.delegate,u=t.getData,e=t.$,f=t.refreshCSRFTokens,n=t.CSRFProtection,o=t.enableElement,i=t.disableElement,c=t.handleDisabledElement,l=t.handleConfirm,h=t.handleRemote,a=t.formSubmitButtonClick,p=t.handleMetaClick,d=t.handleMethod,"undefined"==typeof jQuery||null===jQuery||null==jQuery.ajax||jQuery.rails||(jQuery.rails=t,jQuery.ajaxPrefilter(function(t,e,r){if(!t.crossDomain)return n(r)})),t.start=function(){if(window._rails_loaded)throw new Error("rails-ujs has already been loaded!");return window.addEventListener("pageshow",function(){return e(t.formEnableSelector).forEach(function(t){if(u(t,"ujs:disabled"))return o(t)}),e(t.linkDisableSelector).forEach(function(t){if(u(t,"ujs:disabled"))return o(t)})}),r(document,t.linkDisableSelector,"ajax:complete",o),r(document,t.linkDisableSelector,"ajax:stopped",o),r(document,t.buttonDisableSelector,"ajax:complete",o),r(document,t.buttonDisableSelector,"ajax:stopped",o),r(document,t.linkClickSelector,"click",c),r(document,t.linkClickSelector,"click",l),r(document,t.linkClickSelector,"click",p),r(document,t.linkClickSelector,"click",i),r(document,t.linkClickSelector,"click",h),r(document,t.linkClickSelector,"click",d),r(document,t.buttonClickSelector,"click",c),r(document,t.buttonClickSelector,"click",l),r(document,t.buttonClickSelector,"click",i),r(document,t.buttonClickSelector,"click",h),r(document,t.inputChangeSelector,"change",c),r(document,t.inputChangeSelector,"change",l),r(document,t.inputChangeSelector,"change",h),r(document,t.formSubmitSelector,"submit",c),r(document,t.formSubmitSelector,"submit",l),r(document,t.formSubmitSelector,"submit",h),r(document,t.formSubmitSelector,"submit",function(t){return setTimeout(function(){return i(t)},13)}),r(document,t.formSubmitSelector,"ajax:send",i),r(document,t.formSubmitSelector,"ajax:complete",o),r(document,t.formInputClickSelector,"click",c),r(document,t.formInputClickSelector,"click",l),r(document,t.formInputClickSelector,"click",a),document.addEventListener("DOMContentLoaded",f),window._rails_loaded=!0},window.Rails===t&&s(document,"rails:attachBindings")&&t.start()}.call(this)}).call(this),"object"==typeof module&&module.exports?module.exports=t:"function"==typeof define&&define.amd&&define(t)}.call(this),function(){this.Turbolinks={supported:function(){return null!=window.history.pushState&&null!=window.requestAnimationFrame&&null!=window.addEventListener}(),visit:function(t,e){return Turbolinks.controller.visit(t,e)},clearCache:function(){return Turbolinks.controller.clearCache()},setProgressBarDelay:function(t){return Turbolinks.controller.setProgressBarDelay(t)}}}.call(this),function(){var t,e,n,r=[].slice;Turbolinks.copyObject=function(t){var e,n,r;n={};for(e in t)r=t[e],n[e]=r;return n},Turbolinks.closest=function(e,n){return t.call(e,n)},t=function(){var t,n;return t=document.documentElement,null!=(n=t.closest)?n:function(t){var n;for(n=this;n;){if(n.nodeType===Node.ELEMENT_NODE&&e.call(n,t))return n;n=n.parentNode}}}(),Turbolinks.defer=function(t){return setTimeout(t,1)},Turbolinks.throttle=function(t){var e;return e=null,function(){var n;return n=1<=arguments.length?r.call(arguments,0):[],null!=e?e:e=requestAnimationFrame(function(r){return function(){return e=null,t.apply(r,n)}}(this))}},Turbolinks.dispatch=function(t,e){var r,i,o,s,a,u;return a=null!=e?e:{},u=a.target,r=a.cancelable,i=a.data,o=document.createEvent("Events"),o.initEvent(t,!0,!0===r),o.data=null!=i?i:{},o.cancelable&&!n&&(s=o.preventDefault,o.preventDefault=function(){return this.defaultPrevented||Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}}),s.call(this)}),(null!=u?u:document).dispatchEvent(o),o},n=function(){var t;return t=document.createEvent("Events"),t.initEvent("test",!0,!0),t.preventDefault(),t.defaultPrevented}(),Turbolinks.match=function(t,n){return e.call(t,n)},e=function(){var t,e,n,r;return t=document.documentElement,null!=(e=null!=(n=null!=(r=t.matchesSelector)?r:t.webkitMatchesSelector)?n:t.msMatchesSelector)?e:t.mozMatchesSelector}(),Turbolinks.uuid=function(){var t,e,n;for(n="",t=e=1;36>=e;t=++e)n+=9===t||14===t||19===t||24===t?"-":15===t?"4":20===t?(Math.floor(4*Math.random())+8).toString(16):Math.floor(15*Math.random()).toString(16);return n}}.call(this),function(){Turbolinks.Location=function(){function t(t){var e,n;null==t&&(t=""),n=document.createElement("a"),n.href=t.toString(),this.absoluteURL=n.href,e=n.hash.length,2>e?this.requestURL=this.absoluteURL:(this.requestURL=this.absoluteURL.slice(0,-e),this.anchor=n.hash.slice(1))}var e,n,r,i;return t.wrap=function(t){return t instanceof this?t:new this(t)},t.prototype.getOrigin=function(){return this.absoluteURL.split("/",3).join("/")},t.prototype.getPath=function(){var t,e;return null!=(t=null!=(e=this.requestURL.match(/\/\/[^\/]*(\/[^?;]*)/))?e[1]:void 0)?t:"/"},t.prototype.getPathComponents=function(){return this.getPath().split("/").slice(1)},t.prototype.getLastPathComponent=function(){return this.getPathComponents().slice(-1)[0]},t.prototype.getExtension=function(){var t,e;return null!=(t=null!=(e=this.getLastPathComponent().match(/\.[^.]*$/))?e[0]:void 0)?t:""},t.prototype.isHTML=function(){return this.getExtension().match(/^(?:|\.(?:htm|html|xhtml))$/)},t.prototype.isPrefixedBy=function(t){var e;return e=n(t),this.isEqualTo(t)||i(this.absoluteURL,e)},t.prototype.isEqualTo=function(t){return this.absoluteURL===(null!=t?t.absoluteURL:void 0)},t.prototype.toCacheKey=function(){return this.requestURL},t.prototype.toJSON=function(){return this.absoluteURL},t.prototype.toString=function(){return this.absoluteURL},t.prototype.valueOf=function(){return this.absoluteURL},n=function(t){return e(t.getOrigin()+t.getPath())},e=function(t){return r(t,"/")?t:t+"/"},i=function(t,e){return t.slice(0,e.length)===e},r=function(t,e){return t.slice(-e.length)===e},t}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};Turbolinks.HttpRequest=function(){function e(e,n,r){this.delegate=e,this.requestCanceled=t(this.requestCanceled,this),this.requestTimedOut=t(this.requestTimedOut,this),this.requestFailed=t(this.requestFailed,this),this.requestLoaded=t(this.requestLoaded,this),this.requestProgressed=t(this.requestProgressed,this),this.url=Turbolinks.Location.wrap(n).requestURL,this.referrer=Turbolinks.Location.wrap(r).absoluteURL,this.createXHR()}return e.NETWORK_FAILURE=0,e.TIMEOUT_FAILURE=-1,e.timeout=60,e.prototype.send=function(){var t;return this.xhr&&!this.sent?(this.notifyApplicationBeforeRequestStart(),this.setProgress(0),this.xhr.send(),this.sent=!0,"function"==typeof(t=this.delegate).requestStarted?t.requestStarted():void 0):void 0},e.prototype.cancel=function(){return this.xhr&&this.sent?this.xhr.abort():void 0},e.prototype.requestProgressed=function(t){return t.lengthComputable?this.setProgress(t.loaded/t.total):void 0},e.prototype.requestLoaded=function(){return this.endRequest(function(t){return function(){var e;return 200<=(e=t.xhr.status)&&300>e?t.delegate.requestCompletedWithResponse(t.xhr.responseText,t.xhr.getResponseHeader("Turbolinks-Location")):(t.failed=!0,t.delegate.requestFailedWithStatusCode(t.xhr.status,t.xhr.responseText))}}(this))},e.prototype.requestFailed=function(){return this.endRequest(function(t){return function(){return t.failed=!0,t.delegate.requestFailedWithStatusCode(t.constructor.NETWORK_FAILURE)}}(this))},e.prototype.requestTimedOut=function(){return this.endRequest(function(t){return function(){return t.failed=!0,t.delegate.requestFailedWithStatusCode(t.constructor.TIMEOUT_FAILURE)}}(this))},e.prototype.requestCanceled=function(){return this.endRequest()},e.prototype.notifyApplicationBeforeRequestStart=function(){return Turbolinks.dispatch("turbolinks:request-start",{data:{url:this.url,xhr:this.xhr}})},e.prototype.notifyApplicationAfterRequestEnd=function(){return Turbolinks.dispatch("turbolinks:request-end",{data:{url:this.url,xhr:this.xhr}})},e.prototype.createXHR=function(){return this.xhr=new XMLHttpRequest,this.xhr.open("GET",this.url,!0),this.xhr.timeout=1e3*this.constructor.timeout,this.xhr.setRequestHeader("Accept","text/html, application/xhtml+xml"),this.xhr.setRequestHeader("Turbolinks-Referrer",this.referrer),this.xhr.onprogress=this.requestProgressed,this.xhr.onload=this.requestLoaded,this.xhr.onerror=this.requestFailed,this.xhr.ontimeout=this.requestTimedOut,this.xhr.onabort=this.requestCanceled},e.prototype.endRequest=function(t){return this.xhr?(this.notifyApplicationAfterRequestEnd(),null!=t&&t.call(this),this.destroy()):void 0},e.prototype.setProgress=function(t){var e;return this.progress=t,"function"==typeof(e=this.delegate).requestProgressed?e.requestProgressed(this.progress):void 0},e.prototype.destroy=function(){var t;return this.setProgress(1),"function"==typeof(t=this.delegate).requestFinished&&t.requestFinished(),this.delegate=null,this.xhr=null},e}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};Turbolinks.ProgressBar=function(){function e(){this.trickle=t(this.trickle,this),this.stylesheetElement=this.createStylesheetElement(),this.progressElement=this.createProgressElement()}var n;return n=300,e.defaultCSS=".turbolinks-progress-bar {\n  position: fixed;\n  display: block;\n  top: 0;\n  left: 0;\n  height: 3px;\n  background: #0076ff;\n  z-index: 9999;\n  transition: width "+n+"ms ease-out, opacity "+n/2+"ms "+n/2+"ms ease-in;\n  transform: translate3d(0, 0, 0);\n}",e.prototype.show=function(){return this.visible?void 0:(this.visible=!0,this.installStylesheetElement(),this.installProgressElement(),this.startTrickling())},e.prototype.hide=function(){return this.visible&&!this.hiding?(this.hiding=!0,this.fadeProgressElement(function(t){return function(){return t.uninstallProgressElement(),t.stopTrickling(),t.visible=!1,t.hiding=!1}}(this))):void 0},e.prototype.setValue=function(t){return this.value=t,this.refresh()},e.prototype.installStylesheetElement=function(){return document.head.insertBefore(this.stylesheetElement,document.head.firstChild)},e.prototype.installProgressElement=function(){return this.progressElement.style.width=0,this.progressElement.style.opacity=1,document.documentElement.insertBefore(this.progressElement,document.body),this.refresh()},e.prototype.fadeProgressElement=function(t){return this.progressElement.style.opacity=0,setTimeout(t,1.5*n)},e.prototype.uninstallProgressElement=function(){return this.progressElement.parentNode?document.documentElement.removeChild(this.progressElement):void 0},e.prototype.startTrickling=function(){return null!=this.trickleInterval?this.trickleInterval:this.trickleInterval=setInterval(this.trickle,n)},e.prototype.stopTrickling=function(){return clearInterval(this.trickleInterval),this.trickleInterval=null},e.prototype.trickle=function(){return this.setValue(this.value+Math.random()/100)},e.prototype.refresh=function(){return requestAnimationFrame(function(t){return function(){return t.progressElement.style.width=10+90*t.value+"%"}}(this))},e.prototype.createStylesheetElement=function(){var t;return t=document.createElement("style"),t.type="text/css",t.textContent=this.constructor.defaultCSS,t},e.prototype.createProgressElement=function(){var t;return t=document.createElement("div"),t.className="turbolinks-progress-bar",t},e}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};Turbolinks.BrowserAdapter=function(){function e(e){this.controller=e,this.showProgressBar=t(this.showProgressBar,this),this.progressBar=new Turbolinks.ProgressBar}var n,r,i;return i=Turbolinks.HttpRequest,n=i.NETWORK_FAILURE,r=i.TIMEOUT_FAILURE,e.prototype.visitProposedToLocationWithAction=function(t,e){return this.controller.startVisitToLocationWithAction(t,e)},e.prototype.visitStarted=function(t){return t.issueRequest(),t.changeHistory(),t.loadCachedSnapshot()},e.prototype.visitRequestStarted=function(t){return this.progressBar.setValue(0),t.hasCachedSnapshot()||"restore"!==t.action?this.showProgressBarAfterDelay():this.showProgressBar()},e.prototype.visitRequestProgressed=function(t){return this.progressBar.setValue(t.progress)},e.prototype.visitRequestCompleted=function(t){return t.loadResponse()},e.prototype.visitRequestFailedWithStatusCode=function(t,e){switch(e){case n:case r:return this.reload();default:return t.loadResponse()}},e.prototype.visitRequestFinished=function(){return this.hideProgressBar()},e.prototype.visitCompleted=function(t){return t.followRedirect()},e.prototype.pageInvalidated=function(){return this.reload()},e.prototype.showProgressBarAfterDelay=function(){return this.progressBarTimeout=setTimeout(this.showProgressBar,this.controller.progressBarDelay)},e.prototype.showProgressBar=function(){return this.progressBar.show()},e.prototype.hideProgressBar=function(){return this.progressBar.hide(),clearTimeout(this.progressBarTimeout)},e.prototype.reload=function(){return window.location.reload()},e}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};Turbolinks.History=function(){function e(e){this.delegate=e,this.onPageLoad=t(this.onPageLoad,this),this.onPopState=t(this.onPopState,this)}return e.prototype.start=function(){return this.started?void 0:(addEventListener("popstate",this.onPopState,!1),addEventListener("load",this.onPageLoad,!1),this.started=!0)},e.prototype.stop=function(){return this.started?(removeEventListener("popstate",this.onPopState,!1),removeEventListener("load",this.onPageLoad,!1),this.started=!1):void 0},e.prototype.push=function(t,e){return t=Turbolinks.Location.wrap(t),this.update("push",t,e)},e.prototype.replace=function(t,e){return t=Turbolinks.Location.wrap(t),this.update("replace",t,e)},e.prototype.onPopState=function(t){var e,n,r,i;return this.shouldHandlePopState()&&(i=null!=(n=t.state)?n.turbolinks:void 0)?(e=Turbolinks.Location.wrap(window.location),r=i.restorationIdentifier,this.delegate.historyPoppedToLocationWithRestorationIdentifier(e,r)):void 0},e.prototype.onPageLoad=function(){return Turbolinks.defer(function(t){return function(){return t.pageLoaded=!0}}(this))},e.prototype.shouldHandlePopState=function(){return this.pageIsLoaded()},e.prototype.pageIsLoaded=function(){return this.pageLoaded||"complete"===document.readyState},e.prototype.update=function(t,e,n){var r;return r={turbolinks:{restorationIdentifier:n}},history[t+"State"](r,null,e)},e}()}.call(this),function(){Turbolinks.Snapshot=function(){function t(t){var e,n;n=t.head,e=t.body,this.head=null!=n?n:document.createElement("head"),this.body=null!=e?e:document.createElement("body")}return t.wrap=function(t){return t instanceof this?t:this.fromHTML(t)},t.fromHTML=function(t){var e;return e=document.createElement("html"),e.innerHTML=t,this.fromElement(e)},t.fromElement=function(t){return new this({head:t.querySelector("head"),body:t.querySelector("body")})},t.prototype.clone=function(){return new t({head:this.head.cloneNode(!0),body:this.body.cloneNode(!0)})},t.prototype.getRootLocation=function(){var t,e;return e=null!=(t=this.getSetting("root"))?t:"/",new Turbolinks.Location(e)},t.prototype.getCacheControlValue=function(){return this.getSetting("cache-control")},t.prototype.getElementForAnchor=function(t){try{return this.body.querySelector("[id='"+t+"'], a[name='"+t+"']")}catch(t){}},t.prototype.hasAnchor=function(t){return null!=this.getElementForAnchor(t)},t.prototype.isPreviewable=function(){return"no-preview"!==this.getCacheControlValue()},t.prototype.isCacheable=function(){return"no-cache"!==this.getCacheControlValue()},t.prototype.isVisitable=function(){return"reload"!==this.getSetting("visit-control")},t.prototype.getSetting=function(t){var e,n;return n=this.head.querySelectorAll("meta[name='turbolinks-"+t+"']"),e=n[n.length-1],null!=e?e.getAttribute("content"):void 0},t}()}.call(this),function(){var t=[].slice;Turbolinks.Renderer=function(){function e(){}var n;return e.render=function(){var e,n,r,i;return r=arguments[0],n=arguments[1],e=3<=arguments.length?t.call(arguments,2):[],i=function(t,e,n){n.prototype=t.prototype;var r=new n,i=t.apply(r,e);return Object(i)===i?i:r}(this,e,function(){}),i.delegate=r,i.render(n),i},e.prototype.renderView=function(t){return this.delegate.viewWillRender(this.newBody),t(),this.delegate.viewRendered(this.newBody)},e.prototype.invalidateView=function(){return this.delegate.viewInvalidated()},e.prototype.createScriptElement=function(t){var e;return"false"===t.getAttribute("data-turbolinks-eval")?t:(e=document.createElement("script"),e.textContent=t.textContent,e.async=!1,n(e,t),e)},n=function(t,e){var n,r,i,o,s,a,u;for(o=e.attributes,a=[],n=0,r=o.length;r>n;n++)s=o[n],i=s.name,u=s.value,a.push(t.setAttribute(i,u));return a},e}()}.call(this),function(){Turbolinks.HeadDetails=function(){function t(t){var e,n,o,s,a,u,l;for(this.element=t,this.elements={},l=this.element.childNodes,s=0,u=l.length;u>s;s++)o=l[s],o.nodeType===Node.ELEMENT_NODE&&(a=o.outerHTML,n=null!=(e=this.elements)[a]?e[a]:e[a]={type:i(o),tracked:r(o),elements:[]},n.elements.push(o))}var e,n,r,i;return t.prototype.hasElementWithKey=function(t){return t in this.elements},t.prototype.getTrackedElementSignature=function(){var t,e;return function(){var n,r;n=this.elements,r=[];for(t in n)(e=n[t].tracked)&&r.push(t);return r}.call(this).join("")},t.prototype.getScriptElementsNotInDetails=function(t){return this.getElementsMatchingTypeNotInDetails("script",t)},t.prototype.getStylesheetElementsNotInDetails=function(t){return this.getElementsMatchingTypeNotInDetails("stylesheet",t)},t.prototype.getElementsMatchingTypeNotInDetails=function(t,e){var n,r,i,o,s,a;i=this.elements,s=[];for(r in i)o=i[r],a=o.type,n=o.elements,a!==t||e.hasElementWithKey(r)||s.push(n[0]);return s},t.prototype.getProvisionalElements=function(){var t,e,n,r,i,o,s;n=[],r=this.elements;for(e in r)i=r[e],s=i.type,o=i.tracked,t=i.elements,null!=s||o?t.length>1&&n.push.apply(n,t.slice(1)):n.push.apply(n,t);return n},i=function(t){return e(t)?"script":n(t)?"stylesheet":void 0},r=function(t){return"reload"===t.getAttribute("data-turbolinks-track")},e=function(t){return"script"===t.tagName.toLowerCase()},n=function(t){var e;return"style"===(e=t.tagName.toLowerCase())||"link"===e&&"stylesheet"===t.getAttribute("rel")},t}()}.call(this),function(){var t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t},e={}.hasOwnProperty;Turbolinks.SnapshotRenderer=function(e){function n(t,e,n){this.currentSnapshot=t,this.newSnapshot=e,this.isPreview=n,this.currentHeadDetails=new Turbolinks.HeadDetails(this.currentSnapshot.head),this.newHeadDetails=new Turbolinks.HeadDetails(this.newSnapshot.head),this.newBody=this.newSnapshot.body}return t(n,e),n.prototype.render=function(t){return this.shouldRender()?(this.mergeHead(),this.renderView(function(e){return function(){return e.replaceBody(),e.isPreview||e.focusFirstAutofocusableElement(),t()}}(this))):this.invalidateView()},n.prototype.mergeHead=function(){return this.copyNewHeadStylesheetElements(),this.copyNewHeadScriptElements(),this.removeCurrentHeadProvisionalElements(),this.copyNewHeadProvisionalElements()},n.prototype.replaceBody=function(){return this.activateBodyScriptElements(),this.importBodyPermanentElements(),this.assignNewBody()},n.prototype.shouldRender=function(){return this.newSnapshot.isVisitable()&&this.trackedElementsAreIdentical()},n.prototype.trackedElementsAreIdentical=function(){return this.currentHeadDetails.getTrackedElementSignature()===this.newHeadDetails.getTrackedElementSignature()},n.prototype.copyNewHeadStylesheetElements=function(){var t,e,n,r,i;for(r=this.getNewHeadStylesheetElements(),i=[],e=0,n=r.length;n>e;e++)t=r[e],i.push(document.head.appendChild(t));return i},n.prototype.copyNewHeadScriptElements=function(){var t,e,n,r,i;for(r=this.getNewHeadScriptElements(),i=[],e=0,n=r.length;n>e;e++)t=r[e],i.push(document.head.appendChild(this.createScriptElement(t)));return i},n.prototype.removeCurrentHeadProvisionalElements=function(){var t,e,n,r,i;for(r=this.getCurrentHeadProvisionalElements(),i=[],e=0,n=r.length;n>e;e++)t=r[e],i.push(document.head.removeChild(t));return i},n.prototype.copyNewHeadProvisionalElements=function(){var t,e,n,r,i;for(r=this.getNewHeadProvisionalElements(),i=[],e=0,n=r.length;n>e;e++)t=r[e],i.push(document.head.appendChild(t));return i},n.prototype.importBodyPermanentElements=function(){var t,e,n,r,i,o;for(r=this.getNewBodyPermanentElements(),o=[],e=0,n=r.length;n>e;e++)i=r[e],(t=this.findCurrentBodyPermanentElement(i))?o.push(i.parentNode.replaceChild(t,i)):o.push(void 0);return o},n.prototype.activateBodyScriptElements=function(){var t,e,n,r,i,o;for(r=this.getNewBodyScriptElements(),o=[],e=0,n=r.length;n>e;e++)i=r[e],t=this.createScriptElement(i),o.push(i.parentNode.replaceChild(t,i));return o},n.prototype.assignNewBody=function(){return document.body=this.newBody},n.prototype.focusFirstAutofocusableElement=function(){var t;return null!=(t=this.findFirstAutofocusableElement())?t.focus():void 0},n.prototype.getNewHeadStylesheetElements=function(){return this.newHeadDetails.getStylesheetElementsNotInDetails(this.currentHeadDetails)},n.prototype.getNewHeadScriptElements=function(){return this.newHeadDetails.getScriptElementsNotInDetails(this.currentHeadDetails)},n.prototype.getCurrentHeadProvisionalElements=function(){return this.currentHeadDetails.getProvisionalElements()},n.prototype.getNewHeadProvisionalElements=function(){return this.newHeadDetails.getProvisionalElements()},n.prototype.getNewBodyPermanentElements=function(){return this.newBody.querySelectorAll("[id][data-turbolinks-permanent]")},n.prototype.findCurrentBodyPermanentElement=function(t){return document.body.querySelector("#"+t.id+"[data-turbolinks-permanent]")},n.prototype.getNewBodyScriptElements=function(){return this.newBody.querySelectorAll("script")},n.prototype.findFirstAutofocusableElement=function(){return document.body.querySelector("[autofocus]")},n}(Turbolinks.Renderer)}.call(this),function(){var t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t},e={}.hasOwnProperty;Turbolinks.ErrorRenderer=function(e){function n(t){this.html=t}return t(n,e),n.prototype.render=function(t){return this.renderView(function(e){return function(){return e.replaceDocumentHTML(),e.activateBodyScriptElements(),t()}}(this))},n.prototype.replaceDocumentHTML=function(){return document.documentElement.innerHTML=this.html},n.prototype.activateBodyScriptElements=function(){var t,e,n,r,i,o;for(r=this.getScriptElements(),o=[],e=0,n=r.length;n>e;e++)i=r[e],t=this.createScriptElement(i),o.push(i.parentNode.replaceChild(t,i));return o},n.prototype.getScriptElements=function(){return document.documentElement.querySelectorAll("script")},n}(Turbolinks.Renderer)}.call(this),function(){Turbolinks.View=function(){function t(t){this.delegate=t,this.element=document.documentElement}return t.prototype.getRootLocation=function(){return this.getSnapshot().getRootLocation()},t.prototype.getElementForAnchor=function(t){return this.getSnapshot().getElementForAnchor(t)},t.prototype.getSnapshot=function(){return Turbolinks.Snapshot.fromElement(this.element)},t.prototype.render=function(t,e){var n,r,i;return i=t.snapshot,n=t.error,r=t.isPreview,this.markAsPreview(r),null!=i?this.renderSnapshot(i,r,e):this.renderError(n,e)},t.prototype.markAsPreview=function(t){return t?this.element.setAttribute("data-turbolinks-preview",""):this.element.removeAttribute("data-turbolinks-preview")},t.prototype.renderSnapshot=function(t,e,n){return Turbolinks.SnapshotRenderer.render(this.delegate,n,this.getSnapshot(),Turbolinks.Snapshot.wrap(t),e)},t.prototype.renderError=function(t,e){return Turbolinks.ErrorRenderer.render(this.delegate,e,t)},t}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};Turbolinks.ScrollManager=function(){function e(e){this.delegate=e,this.onScroll=t(this.onScroll,this),this.onScroll=Turbolinks.throttle(this.onScroll)}return e.prototype.start=function(){return this.started?void 0:(addEventListener("scroll",this.onScroll,!1),this.onScroll(),this.started=!0)},e.prototype.stop=function(){return this.started?(removeEventListener("scroll",this.onScroll,!1),this.started=!1):void 0},e.prototype.scrollToElement=function(t){return t.scrollIntoView()},e.prototype.scrollToPosition=function(t){var e,n;return e=t.x,n=t.y,window.scrollTo(e,n)},e.prototype.onScroll=function(){return this.updatePosition({x:window.pageXOffset,y:window.pageYOffset})},e.prototype.updatePosition=function(t){var e;return this.position=t,null!=(e=this.delegate)?e.scrollPositionChanged(this.position):void 0},e}()}.call(this),function(){Turbolinks.SnapshotCache=function(){function t(t){this.size=t,this.keys=[],this.snapshots={}}var e;return t.prototype.has=function(t){return e(t)in this.snapshots},t.prototype.get=function(t){var e;if(this.has(t))return e=this.read(t),this.touch(t),e},t.prototype.put=function(t,e){return this.write(t,e),this.touch(t),e},t.prototype.read=function(t){var n;return n=e(t),this.snapshots[n]},t.prototype.write=function(t,n){var r;return r=e(t),this.snapshots[r]=n},t.prototype.touch=function(t){var n,r;return r=e(t),n=this.keys.indexOf(r),n>-1&&this.keys.splice(n,1),this.keys.unshift(r),this.trim()},t.prototype.trim=function(){var t,e,n,r,i;for(r=this.keys.splice(this.size),i=[],t=0,n=r.length;n>t;t++)e=r[t],i.push(delete this.snapshots[e]);return i},e=function(t){return Turbolinks.Location.wrap(t).toCacheKey()},t}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};Turbolinks.Visit=function(){function e(e,n,r){this.controller=e,this.action=r,this.performScroll=t(this.performScroll,this),this.identifier=Turbolinks.uuid(),this.location=Turbolinks.Location.wrap(n),this.adapter=this.controller.adapter,this.state="initialized",this.timingMetrics={}}var n;return e.prototype.start=function(){return"initialized"===this.state?(this.recordTimingMetric("visitStart"),this.state="started",this.adapter.visitStarted(this)):void 0},e.prototype.cancel=function(){var t;return"started"===this.state?(null!=(t=this.request)&&t.cancel(),this.cancelRender(),this.state="canceled"):void 0},e.prototype.complete=function(){var t;return"started"===this.state?(this.recordTimingMetric("visitEnd"),this.state="completed","function"==typeof(t=this.adapter).visitCompleted&&t.visitCompleted(this),this.controller.visitCompleted(this)):void 0},e.prototype.fail=function(){var t;return"started"===this.state?(this.state="failed","function"==typeof(t=this.adapter).visitFailed?t.visitFailed(this):void 0):void 0},e.prototype.changeHistory=function(){var t,e;return this.historyChanged?void 0:(t=this.location.isEqualTo(this.referrer)?"replace":this.action,e=n(t),this.controller[e](this.location,this.restorationIdentifier),this.historyChanged=!0)},e.prototype.issueRequest=function(){return this.shouldIssueRequest()&&null==this.request?(this.progress=0,this.request=new Turbolinks.HttpRequest(this,this.location,this.referrer),this.request.send()):void 0},e.prototype.getCachedSnapshot=function(){var t;return!(t=this.controller.getCachedSnapshotForLocation(this.location))||null!=this.location.anchor&&!t.hasAnchor(this.location.anchor)||"restore"!==this.action&&!t.isPreviewable()?void 0:t},e.prototype.hasCachedSnapshot=function(){return null!=this.getCachedSnapshot()},e.prototype.loadCachedSnapshot=function(){var t,e;return(e=this.getCachedSnapshot())?(t=this.shouldIssueRequest(),this.render(function(){var n;return this.cacheSnapshot(),this.controller.render({snapshot:e,isPreview:t},this.performScroll),"function"==typeof(n=this.adapter).visitRendered&&n.visitRendered(this),t?void 0:this.complete()})):void 0},e.prototype.loadResponse=function(){return null!=this.response?this.render(function(){var t,e;return this.cacheSnapshot(),this.request.failed?(this.controller.render({error:this.response},this.performScroll),"function"==typeof(t=this.adapter).visitRendered&&t.visitRendered(this),this.fail()):(this.controller.render({snapshot:this.response},this.performScroll),"function"==typeof(e=this.adapter).visitRendered&&e.visitRendered(this),this.complete())}):void 0},e.prototype.followRedirect=function(){return this.redirectedToLocation&&!this.followedRedirect?(this.location=this.redirectedToLocation,this.controller.replaceHistoryWithLocationAndRestorationIdentifier(this.redirectedToLocation,this.restorationIdentifier),this.followedRedirect=!0):void 0},e.prototype.requestStarted=function(){var t;return this.recordTimingMetric("requestStart"),"function"==typeof(t=this.adapter).visitRequestStarted?t.visitRequestStarted(this):void 0},e.prototype.requestProgressed=function(t){var e;return this.progress=t,"function"==typeof(e=this.adapter).visitRequestProgressed?e.visitRequestProgressed(this):void 0},e.prototype.requestCompletedWithResponse=function(t,e){return this.response=t,null!=e&&(this.redirectedToLocation=Turbolinks.Location.wrap(e)),this.adapter.visitRequestCompleted(this)},e.prototype.requestFailedWithStatusCode=function(t,e){return this.response=e,this.adapter.visitRequestFailedWithStatusCode(this,t)},e.prototype.requestFinished=function(){var t;return this.recordTimingMetric("requestEnd"),"function"==typeof(t=this.adapter).visitRequestFinished?t.visitRequestFinished(this):void 0},e.prototype.performScroll=function(){return this.scrolled?void 0:("restore"===this.action?this.scrollToRestoredPosition()||this.scrollToTop():this.scrollToAnchor()||this.scrollToTop(),this.scrolled=!0)},e.prototype.scrollToRestoredPosition=function(){var t,e;return t=null!=(e=this.restorationData)?e.scrollPosition:void 0,null!=t?(this.controller.scrollToPosition(t),!0):void 0},e.prototype.scrollToAnchor=function(){return null!=this.location.anchor?(this.controller.scrollToAnchor(this.location.anchor),!0):void 0},e.prototype.scrollToTop=function(){return this.controller.scrollToPosition({x:0,y:0})},e.prototype.recordTimingMetric=function(t){var e;return null!=(e=this.timingMetrics)[t]?e[t]:e[t]=(new Date).getTime()},e.prototype.getTimingMetrics=function(){return Turbolinks.copyObject(this.timingMetrics)},n=function(t){switch(t){case"replace":return"replaceHistoryWithLocationAndRestorationIdentifier";case"advance":case"restore":return"pushHistoryWithLocationAndRestorationIdentifier"}},
e.prototype.shouldIssueRequest=function(){return"restore"!==this.action||!this.hasCachedSnapshot()},e.prototype.cacheSnapshot=function(){return this.snapshotCached?void 0:(this.controller.cacheSnapshot(),this.snapshotCached=!0)},e.prototype.render=function(t){return this.cancelRender(),this.frame=requestAnimationFrame(function(e){return function(){return e.frame=null,t.call(e)}}(this))},e.prototype.cancelRender=function(){return this.frame?cancelAnimationFrame(this.frame):void 0},e}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};Turbolinks.Controller=function(){function e(){this.clickBubbled=t(this.clickBubbled,this),this.clickCaptured=t(this.clickCaptured,this),this.pageLoaded=t(this.pageLoaded,this),this.history=new Turbolinks.History(this),this.view=new Turbolinks.View(this),this.scrollManager=new Turbolinks.ScrollManager(this),this.restorationData={},this.clearCache(),this.setProgressBarDelay(500)}return e.prototype.start=function(){return Turbolinks.supported&&!this.started?(addEventListener("click",this.clickCaptured,!0),addEventListener("DOMContentLoaded",this.pageLoaded,!1),this.scrollManager.start(),this.startHistory(),this.started=!0,this.enabled=!0):void 0},e.prototype.disable=function(){return this.enabled=!1},e.prototype.stop=function(){return this.started?(removeEventListener("click",this.clickCaptured,!0),removeEventListener("DOMContentLoaded",this.pageLoaded,!1),this.scrollManager.stop(),this.stopHistory(),this.started=!1):void 0},e.prototype.clearCache=function(){return this.cache=new Turbolinks.SnapshotCache(10)},e.prototype.visit=function(t,e){var n,r;return null==e&&(e={}),t=Turbolinks.Location.wrap(t),this.applicationAllowsVisitingLocation(t)?this.locationIsVisitable(t)?(n=null!=(r=e.action)?r:"advance",this.adapter.visitProposedToLocationWithAction(t,n)):window.location=t:void 0},e.prototype.startVisitToLocationWithAction=function(t,e,n){var r;return Turbolinks.supported?(r=this.getRestorationDataForIdentifier(n),this.startVisit(t,e,{restorationData:r})):window.location=t},e.prototype.setProgressBarDelay=function(t){return this.progressBarDelay=t},e.prototype.startHistory=function(){return this.location=Turbolinks.Location.wrap(window.location),this.restorationIdentifier=Turbolinks.uuid(),this.history.start(),this.history.replace(this.location,this.restorationIdentifier)},e.prototype.stopHistory=function(){return this.history.stop()},e.prototype.pushHistoryWithLocationAndRestorationIdentifier=function(t,e){return this.restorationIdentifier=e,this.location=Turbolinks.Location.wrap(t),this.history.push(this.location,this.restorationIdentifier)},e.prototype.replaceHistoryWithLocationAndRestorationIdentifier=function(t,e){return this.restorationIdentifier=e,this.location=Turbolinks.Location.wrap(t),this.history.replace(this.location,this.restorationIdentifier)},e.prototype.historyPoppedToLocationWithRestorationIdentifier=function(t,e){var n;return this.restorationIdentifier=e,this.enabled?(n=this.getRestorationDataForIdentifier(this.restorationIdentifier),this.startVisit(t,"restore",{restorationIdentifier:this.restorationIdentifier,restorationData:n,historyChanged:!0}),this.location=Turbolinks.Location.wrap(t)):this.adapter.pageInvalidated()},e.prototype.getCachedSnapshotForLocation=function(t){var e;return e=this.cache.get(t),e?e.clone():void 0},e.prototype.shouldCacheSnapshot=function(){return this.view.getSnapshot().isCacheable()},e.prototype.cacheSnapshot=function(){var t;return this.shouldCacheSnapshot()?(this.notifyApplicationBeforeCachingSnapshot(),t=this.view.getSnapshot(),this.cache.put(this.lastRenderedLocation,t.clone())):void 0},e.prototype.scrollToAnchor=function(t){var e;return(e=this.view.getElementForAnchor(t))?this.scrollToElement(e):this.scrollToPosition({x:0,y:0})},e.prototype.scrollToElement=function(t){return this.scrollManager.scrollToElement(t)},e.prototype.scrollToPosition=function(t){return this.scrollManager.scrollToPosition(t)},e.prototype.scrollPositionChanged=function(t){var e;return e=this.getCurrentRestorationData(),e.scrollPosition=t},e.prototype.render=function(t,e){return this.view.render(t,e)},e.prototype.viewInvalidated=function(){return this.adapter.pageInvalidated()},e.prototype.viewWillRender=function(t){return this.notifyApplicationBeforeRender(t)},e.prototype.viewRendered=function(){return this.lastRenderedLocation=this.currentVisit.location,this.notifyApplicationAfterRender()},e.prototype.pageLoaded=function(){return this.lastRenderedLocation=this.location,this.notifyApplicationAfterPageLoad()},e.prototype.clickCaptured=function(){return removeEventListener("click",this.clickBubbled,!1),addEventListener("click",this.clickBubbled,!1)},e.prototype.clickBubbled=function(t){var e,n,r;return this.enabled&&this.clickEventIsSignificant(t)&&(n=this.getVisitableLinkForNode(t.target))&&(r=this.getVisitableLocationForLink(n))&&this.applicationAllowsFollowingLinkToLocation(n,r)?(t.preventDefault(),e=this.getActionForLink(n),this.visit(r,{action:e})):void 0},e.prototype.applicationAllowsFollowingLinkToLocation=function(t,e){var n;return n=this.notifyApplicationAfterClickingLinkToLocation(t,e),!n.defaultPrevented},e.prototype.applicationAllowsVisitingLocation=function(t){var e;return e=this.notifyApplicationBeforeVisitingLocation(t),!e.defaultPrevented},e.prototype.notifyApplicationAfterClickingLinkToLocation=function(t,e){return Turbolinks.dispatch("turbolinks:click",{target:t,data:{url:e.absoluteURL},cancelable:!0})},e.prototype.notifyApplicationBeforeVisitingLocation=function(t){return Turbolinks.dispatch("turbolinks:before-visit",{data:{url:t.absoluteURL},cancelable:!0})},e.prototype.notifyApplicationAfterVisitingLocation=function(t){return Turbolinks.dispatch("turbolinks:visit",{data:{url:t.absoluteURL}})},e.prototype.notifyApplicationBeforeCachingSnapshot=function(){return Turbolinks.dispatch("turbolinks:before-cache")},e.prototype.notifyApplicationBeforeRender=function(t){return Turbolinks.dispatch("turbolinks:before-render",{data:{newBody:t}})},e.prototype.notifyApplicationAfterRender=function(){return Turbolinks.dispatch("turbolinks:render")},e.prototype.notifyApplicationAfterPageLoad=function(t){return null==t&&(t={}),Turbolinks.dispatch("turbolinks:load",{data:{url:this.location.absoluteURL,timing:t}})},e.prototype.startVisit=function(t,e,n){var r;return null!=(r=this.currentVisit)&&r.cancel(),this.currentVisit=this.createVisit(t,e,n),this.currentVisit.start(),this.notifyApplicationAfterVisitingLocation(t)},e.prototype.createVisit=function(t,e,n){var r,i,o,s,a;return i=null!=n?n:{},s=i.restorationIdentifier,o=i.restorationData,r=i.historyChanged,a=new Turbolinks.Visit(this,t,e),a.restorationIdentifier=null!=s?s:Turbolinks.uuid(),a.restorationData=Turbolinks.copyObject(o),a.historyChanged=r,a.referrer=this.location,a},e.prototype.visitCompleted=function(t){return this.notifyApplicationAfterPageLoad(t.getTimingMetrics())},e.prototype.clickEventIsSignificant=function(t){return!(t.defaultPrevented||t.target.isContentEditable||t.which>1||t.altKey||t.ctrlKey||t.metaKey||t.shiftKey)},e.prototype.getVisitableLinkForNode=function(t){return this.nodeIsVisitable(t)?Turbolinks.closest(t,"a[href]:not([target]):not([download])"):void 0},e.prototype.getVisitableLocationForLink=function(t){var e;return e=new Turbolinks.Location(t.getAttribute("href")),this.locationIsVisitable(e)?e:void 0},e.prototype.getActionForLink=function(t){var e;return null!=(e=t.getAttribute("data-turbolinks-action"))?e:"advance"},e.prototype.nodeIsVisitable=function(t){var e;return!(e=Turbolinks.closest(t,"[data-turbolinks]"))||"false"!==e.getAttribute("data-turbolinks")},e.prototype.locationIsVisitable=function(t){return t.isPrefixedBy(this.view.getRootLocation())&&t.isHTML()},e.prototype.getCurrentRestorationData=function(){return this.getRestorationDataForIdentifier(this.restorationIdentifier)},e.prototype.getRestorationDataForIdentifier=function(t){var e;return null!=(e=this.restorationData)[t]?e[t]:e[t]={}},e}()}.call(this),function(){!function(){var t,e;if((t=e=document.currentScript)&&!e.hasAttribute("data-turbolinks-suppress-warning"))for(;t=t.parentNode;)if(t===document.body)return console.warn("You are loading Turbolinks from a <script> element inside the <body> element. This is probably not what you meant to do!\n\nLoad your application\u2019s JavaScript bundle inside the <head> element instead. <script> elements in <body> are evaluated with each page change.\n\nFor more information, see: https://github.com/turbolinks/turbolinks#working-with-script-elements\n\n\u2014\u2014\nSuppress this warning by adding a `data-turbolinks-suppress-warning` attribute to: %s",e.outerHTML)}()}.call(this),function(){var t,e,n;Turbolinks.start=function(){return e()?(null==Turbolinks.controller&&(Turbolinks.controller=t()),Turbolinks.controller.start()):void 0},e=function(){return null==window.Turbolinks&&(window.Turbolinks=Turbolinks),n()},t=function(){var t;return t=new Turbolinks.Controller,t.adapter=new Turbolinks.BrowserAdapter(t),t},(n=function(){return window.Turbolinks===Turbolinks})()&&Turbolinks.start()}.call(this),function(t,e){"function"==typeof define&&define.amd?define("simple-module",["jquery"],function(n){return t.Module=e(n)}):"object"==typeof exports?module.exports=e(require("jquery")):t.SimpleModule=e(jQuery)}(this,function(t){var e=[].slice;return function(){function n(e){var n,r,i,o,s,a,u;if(this.opts=t.extend({},this.opts,e),(n=this.constructor)._connectedClasses||(n._connectedClasses=[]),s=function(){var t,e,n,i;for(n=this.constructor._connectedClasses,i=[],t=0,e=n.length;t<e;t++)r=n[t],u=r.pluginName.charAt(0).toLowerCase()+r.pluginName.slice(1),r.prototype._connected&&(r.prototype._module=this),i.push(this[u]=new r);return i}.call(this),this._connected)this.opts=t.extend({},this.opts,this._module.opts);else for(this._init(),i=0,a=s.length;i<a;i++)o=s[i],"function"==typeof o._init&&o._init();this.trigger("initialized")}return n.extend=function(t){var e,n,r;if(null!=t&&"object"==typeof t){for(e in t)r=t[e],"included"!==e&&"extended"!==e&&(this[e]=r);return null!=(n=t.extended)?n.call(this):void 0}},n.include=function(t){var e,n,r;if(null!=t&&"object"==typeof t){for(e in t)r=t[e],"included"!==e&&"extended"!==e&&(this.prototype[e]=r);return null!=(n=t.included)?n.call(this):void 0}},n.connect=function(t){if("function"==typeof t){if(!t.pluginName)throw new Error("Module.connect: cannot connect plugin without pluginName");return t.prototype._connected=!0,this._connectedClasses||(this._connectedClasses=[]),this._connectedClasses.push(t),t.pluginName?this[t.pluginName]=t:void 0}},n.prototype.opts={},n.prototype._init=function(){},n.prototype.on=function(){var n,r;return n=1<=arguments.length?e.call(arguments,0):[],(r=t(this)).on.apply(r,n),this},n.prototype.one=function(){var n,r;return n=1<=arguments.length?e.call(arguments,0):[],(r=t(this)).one.apply(r,n),this},n.prototype.off=function(){var n,r;return n=1<=arguments.length?e.call(arguments,0):[],(r=t(this)).off.apply(r,n),this},n.prototype.trigger=function(){var n,r;return n=1<=arguments.length?e.call(arguments,0):[],(r=t(this)).trigger.apply(r,n),this},n.prototype.triggerHandler=function(){var n,r;return n=1<=arguments.length?e.call(arguments,0):[],(r=t(this)).triggerHandler.apply(r,n)},n.prototype._t=function(){var t,n;return t=1<=arguments.length?e.call(arguments,0):[],(n=this.constructor)._t.apply(n,t)},n._t=function(){var t,n,r,i;return n=arguments[0],t=2<=arguments.length?e.call(arguments,1):[],i=(null!=(r=this.i18n[this.locale])?r[n]:void 0)||"",t.length>0?(i=i.replace(/([^%]|^)%(?:(\d+)\$)?s/g,function(e,n,r){return r?n+t[parseInt(r)-1]:n+t.shift()}),i.replace(/%%s/g,"%s")):i},n.i18n={"zh-CN":{}},n.locale="zh-CN",n}()}),function(t,e){"function"==typeof define&&define.amd?define("simple-hotkeys",["jquery","simple-module"],function(n,r){return t.hotkeys=e(n,r)}):"object"==typeof exports?module.exports=e(require("jquery"),require("simple-module")):(t.simple=t.simple||{},t.simple.hotkeys=e(jQuery,SimpleModule))}(this,function(t,e){var n,r=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;return n=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return r(n,e),n.count=0,n.keyNameMap={8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Spacebar",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",45:"Insert",46:"Del",91:"Meta",93:"Meta",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"Multiply",107:"Add",109:"Subtract",110:"Decimal",111:"Divide",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",124:"F13",125:"F14",126:"F15",127:"F16",128:"F17",129:"F18",130:"F19",131:"F20",132:"F21",133:"F22",134:"F23",135:"F24",59:";",61:"=",186:";",187:"=",188:",",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},n.aliases={escape:"esc","delete":"del","return":"enter",ctrl:"control",space:"spacebar",ins:"insert",cmd:"meta",command:"meta",wins:"meta",windows:"meta"},n.normalize=function(t){var e,n,r,i,o,s;for(o=t.toLowerCase().replace(/\s+/gi,"").split("+"),e=n=0,s=o.length;n<s;e=++n)r=o[e],o[e]=this.aliases[r]||r;return i=o.pop(),o.sort().push(i),o.join("_")},n.prototype.opts={el:document},n.prototype._init=function(){return this.id=++this.constructor.count,this._map={},this._delegate="string"==typeof this.opts.el?document:this.opts.el,t(this._delegate).on("keydown.simple-hotkeys-"+this.id,this.opts.el,function(t){return function(e){var n;return null!=(n=t._getHander(e))?n.call(t,e):void 0}}(this))},n.prototype._getHander=function(t){var e,n;if(e=this.constructor.keyNameMap[t.which])return n="",t.altKey&&(n+="alt_"),t.ctrlKey&&(n+="control_"),t.metaKey&&(n+="meta_"),t.shiftKey&&(n+="shift_"),n+=e.toLowerCase(),this._map[n]},n.prototype.respondTo=function(t){return"string"==typeof t?null!=this._map[this.constructor.normalize(t)]:null!=this._getHander(t)},n.prototype.add=function(t,e){return this._map[this.constructor.normalize(t)]=e,this},n.prototype.remove=function(t){return delete this._map[this.constructor.normalize(t)],this},n.prototype.destroy=function(){return t(this._delegate).off(".simple-hotkeys-"+this.id),this._map={},this},n}(e),function(t){return new n(t)}}),function(t,e){"function"==typeof define&&define.amd?define("simple-uploader",["jquery","simple-module"],function(n,r){return t.uploader=e(n,r)}):"object"==typeof exports?module.exports=e(require("jquery"),require("simple-module")):(t.simple=t.simple||{},t.simple.uploader=e(jQuery,SimpleModule))}(this,function(t,e){var n,r=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;return n=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return r(n,e),n.count=0,n.prototype.opts={url:"",params:null,fileKey:"upload_file",connectionCount:3},n.prototype._init=function(){return this.files=[],this.queue=[],this.id=++n.count,this.on("uploadcomplete",function(e){return function(n,r){return e.files.splice(t.inArray(r,e.files),1),e.queue.length>0&&e.files.length<e.opts.connectionCount?e.upload(e.queue.shift()):e.uploading=!1}}(this)),t(window).on("beforeunload.uploader-"+this.id,function(t){return function(e){if(t.uploading)return e.originalEvent.returnValue=t._t("leaveConfirm"),t._t("leaveConfirm")}}(this))},n.prototype.generateId=function(){var t;return t=0,function(){return t+=1}}(),n.prototype.upload=function(e,n){var r,i,o,s;if(null==n&&(n={}),null!=e){if(t.isArray(e)||e instanceof FileList)for(i=0,s=e.length;i<s;i++)r=e[i],this.upload(r,n);else t(e).is("input:file")?(o=t(e).attr("name"),o&&(n.fileKey=o),this.upload(t.makeArray(t(e)[0].files),n)):e.id&&e.obj||(e=this.getFile(e));if(e&&e.obj){if(t.extend(e,n),this.files.length>=this.opts.connectionCount)return void this.queue.push(e);if(!1!==this.triggerHandler("beforeupload",[e]))return this.files.push(e),this._xhrUpload(e),this.uploading=!0}}},n.prototype.getFile=function(t){var e,n,r;return t instanceof window.File||t instanceof window.Blob?(e=null!=(n=t.fileName)?n:t.name,{id:this.generateId(),url:this.opts.url,params:this.opts.params,fileKey:this.opts.fileKey,name:e,size:null!=(r=t.fileSize)?r:t.size,ext:e?e.split(".").pop().toLowerCase():"",obj:t}):null},n.prototype._xhrUpload=function(e){var n=this,r=e.params,i=new OSS.Wrapper({region:r.region,accessKeyId:r.accessKeyId,accessKeySecret:r.accessKeySecret,stsToken:r.stsToken,bucket:r.bucket}),o=UUID.generate().replace(/-/g,"")+".jpg";i.multipartUpload(o,e.obj).then(function(i){return i.success=!0,i.file_path=r.image_prefix_url+o,n.trigger("uploadsuccess",[e,i]),t(document).trigger("uploadsuccess",[e,i,n]),n.trigger("uploadcomplete",[e,"ok"])})["catch"](function(){})},n.prototype.cancel=function(t){var e,n,r,i;if(!t.id)for(i=this.files,n=0,r=i.length;n<r;n++)if(e=i[n],e.id===1*t){t=e;break}return this.trigger("uploadcancel",[t]),t.xhr&&t.xhr.abort(),t.xhr=null},n.prototype.readImageFile=function(e,n){var r,i;if(t.isFunction(n))return i=new Image,i.onload=function(){return n(i)},i.onerror=function(){return n()},window.FileReader&&FileReader.prototype.readAsDataURL&&/^image/.test(e.type)?(r=new FileReader,r.onload=function(t){return i.src=t.target.result},r.readAsDataURL(e)):n()},n.prototype.destroy=function(){var e,n,r,i;for(this.queue.length=0,i=this.files,n=0,r=i.length;n<r;n++)e=i[n],this.cancel(e);return t(window).off(".uploader-"+this.id),t(document).off(".uploader-"+this.id)},n.i18n={"zh-CN":{leaveConfirm:"\u6b63\u5728\u4e0a\u4f20\u6587\u4ef6\uff0c\u5982\u679c\u79bb\u5f00\u4e0a\u4f20\u4f1a\u81ea\u52a8\u53d6\u6d88"}},n.locale="zh-CN",n}(e),function(t){return new n(t)}}),function(t,e){"function"==typeof define&&define.amd?define("simditor",["jquery","simple-module","simple-hotkeys","simple-uploader"],function(n,r,i,o){return t.Simditor=e(n,r,i,o)}):"object"==typeof exports?module.exports=e(require("jquery"),require("simple-module"),require("simple-hotkeys"),require("simple-uploader")):t.Simditor=e(jQuery,SimpleModule,simple.hotkeys,simple.uploader)}(this,function(t,e,n,r){var i,o,s,a,u,l,c,p,d,h,f,m,g,y,v,b,_,w,E,T,x,S,C,A,k,I,D,R,L,N,P,O,M,j,B=function(t,e){function n(){this.constructor=t}for(var r in e)q.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},q={}.hasOwnProperty,U=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1},F=[].slice;return k=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return B(n,e),n.pluginName="Selection",n.prototype._range=null,n.prototype._startNodes=null,n.prototype._endNodes=null,n.prototype._containerNode=null,n.prototype._nodes=null,n.prototype._blockNodes=null,n.prototype._rootNodes=null,n.prototype._init=function(){return this.editor=this._module,this._selection=document.getSelection(),this.editor.on("selectionchanged",function(t){return function(){return t.reset(),t._range=t._selection.getRangeAt(0)}}(this)),this.editor.on("blur",function(t){return function(){return t.reset()}}(this))},n.prototype.reset=function(){return this._range=null,this._startNodes=null,this._endNodes=null,this._containerNode=null,this._nodes=null,this._blockNodes=null,this._rootNodes=null},n.prototype.clear=function(){try{this._selection.removeAllRanges()}catch(t){t}return this.reset()},n.prototype.range=function(t){var e;return t?(this.clear(),this._selection.addRange(t),this._range=t,e=this.editor.util.browser.firefox||this.editor.util.browser.msie,!this.editor.inputManager.focused&&e&&this.editor.body.focus()):!this._range&&this.editor.inputManager.focused&&this._selection.rangeCount&&(this._range=this._selection.getRangeAt(0)),this._range},n.prototype.startNodes=function(){return this._range&&(this._startNodes||(this._startNodes=function(e){return function(){var n;return n=t(e._range.startContainer).parentsUntil(e.editor.body).get(),n.unshift(e._range.startContainer),t(n)}}(this)())),this._startNodes},n.prototype.endNodes=function(){var e;return this._range&&(this._endNodes||(this._endNodes=this._range.collapsed?this.startNodes():(e=t(this._range.endContainer).parentsUntil(this.editor.body).get(),e.unshift(this._range.endContainer),t(e)))),this._endNodes},n.prototype.containerNode=function(){return this._range&&(this._containerNode||(this._containerNode=t(this._range.commonAncestorContainer))),this._containerNode},n.prototype.nodes=function(){return this._range&&(this._nodes||(this._nodes=function(e){return function(){var n;return n=[],e.startNodes().first().is(e.endNodes().first())?n=e.startNodes().get():(e.startNodes().each(function(r,i){var o,s,a,u,l,c,p;return s=t(i),e.endNodes().index(s)>-1?n.push(i):s.parent().is(e.editor.body)||(c=e.endNodes().index(s.parent()))>-1?(o=c&&c>-1?e.endNodes().eq(c-1):e.endNodes().last(),a=s.parent().contents(),p=a.index(s),u=a.index(o),t.merge(n,a.slice(p,u).get())):(a=s.parent().contents(),l=a.index(s),t.merge(n,a.slice(l).get()))}),e.endNodes().each(function(r,i){var o,s,a;return o=t(i),o.parent().is(e.editor.body)||e.startNodes().index(o.parent())>-1?(n.push(i),!1):(s=o.parent().contents(),a=s.index(o),t.merge(n,s.slice(0,a+1)))})),t(t.unique(n))}}(this)())),this._nodes},n.prototype.blockNodes=function(){if(this._range)return this._blockNodes||(this._blockNodes=function(t){return function(){return t.nodes().filter(function(e,n){return t.editor.util.isBlockNode(n)})}}(this)()),this._blockNodes},n.prototype.rootNodes=function(){if(this._range)return this._rootNodes||(this._rootNodes=function(e){return function(){return e.nodes().filter(function(n,r){var i;return i=t(r).parent(),i.is(e.editor.body)||i.is("blockquote")})}}(this)()),this._rootNodes},n.prototype.rangeAtEndOf=function(e,n){var r,i,o,s,a,u;if(null==n&&(n=this.range()),n&&n.collapsed)return e=t(e)[0],o=n.endContainer,s=this.editor.util.getNodeLength(o),i=n.endOffset===s-1,a=t(o).contents().last().is("br"),r=n.endOffset===s,!!(i&&a||r)&&(e===o||!!t.contains(e,o)&&(u=!0,t(o).parentsUntil(e).addBack().each(function(e,n){var r,i,o,s;if(s=t(n).parent().contents().filter(function(){return!(this!==n&&3===this.nodeType&&!this.nodeValue)}),r=s.last(),o=r.get(0)===n,i=r.is("br")&&r.prev().get(0)===n,!o&&!i)return u=!1,!1}),u))},n.prototype.rangeAtStartOf=function(e,n){var r,i;if(null==n&&(n=this.range()),n&&n.collapsed)return e=t(e)[0],i=n.startContainer,0===n.startOffset&&(e===i||!!t.contains(e,i)&&(r=!0,t(i).parentsUntil(e).addBack().each(function(e,n){var i;if(i=t(n).parent().contents().filter(function(){return!(this!==n&&3===this.nodeType&&!this.nodeValue)}),i.first().get(0)!==n)return r=!1}),r))},n.prototype.insertNode=function(e,n){if(null==n&&(n=this.range()),n)return e=t(e)[0],n.insertNode(e),this.setRangeAfter(e,n)},n.prototype.setRangeAfter=function(e,n){if(null==n&&(n=this.range()),null!=n)return e=t(e)[0],n.setEndAfter(e),n.collapse(!1),this.range(n)},n.prototype.setRangeBefore=function(e,n){if(null==n&&(n=this.range()),null!=n)return e=t(e)[0],n.setEndBefore(e),n.collapse(!1),this.range(n)},n.prototype.setRangeAtStartOf=function(e,n){return null==n&&(n=this.range()),e=t(e).get(0),n.setEnd(e,0),n.collapse(!1),this.range(n)},n.prototype.setRangeAtEndOf=function(e,n){var r,i,o,s,a,u,l;return null==n&&(n=this.range()),i=t(e),e=i[0],i.is("pre")?(o=i.contents(),o.length>0?(s=o.last(),u=s.text(),a=this.editor.util.getNodeLength(s[0]),"\n"===u.charAt(u.length-1)?n.setEnd(s[0],a-1):n.setEnd(s[0],a)):n.setEnd(e,0)):(l=this.editor.util.getNodeLength(e),3!==e.nodeType&&l>0&&(r=t(e).contents().last(),r.is("br")?l-=1:3!==r[0].nodeType&&this.editor.util.isEmptyNode(r)&&(r.append(this.editor.util.phBr),e=r[0],l=0)),n.setEnd(e,l)),n.collapse(!1),this.range(n)},n.prototype.deleteRangeContents=function(t){var e,n,r,i;return null==t&&(t=this.range()),i=t.cloneRange(),r=t.cloneRange(),i.collapse(!0),r.collapse(!1),n=this.rangeAtStartOf(this.editor.body,i),e=this.rangeAtEndOf(this.editor.body,r),!t.collapsed&&n&&e?(this.editor.body.empty(),t.setStart(this.editor.body[0],0),t.collapse(!0),this.range(t)):t.deleteContents(),t},n.prototype.breakBlockEl=function(e,n){var r;return null==n&&(n=this.range()),r=t(e),n.collapsed?(n.setStartBefore(r.get(0)),n.collapsed?r:r.before(n.extractContents())):r},n.prototype.save=function(e){var n,r,i;if(null==e&&(e=this.range()),!this._selectionSaved)return r=e.cloneRange(),r.collapse(!1),i=t("<span/>").addClass("simditor-caret-start"),n=t("<span/>").addClass("simditor-caret-end"),r.insertNode(n[0]),e.insertNode(i[0]),this.clear(),this._selectionSaved=!0},n.prototype.restore=function(){var t,e,n,r,i,o,s;return!!this._selectionSaved&&(i=this.editor.body.find(".simditor-caret-start"),t=this.editor.body.find(".simditor-caret-end"),i.length&&t.length?(o=i.parent(),s=o.contents().index(i),e=t.parent(),n=e.contents().index(t),o[0]===e[0]&&(n-=1),r=document.createRange(),r.setStart(o.get(0),s),r.setEnd(e.get(0),n),i.remove(),t.remove(),this.range(r)):(i.remove(),t.remove()),this._selectionSaved=!1,r)},n}(e),h=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return B(n,e),n.pluginName="Formatter",n.prototype.opts={allowedTags:[],allowedAttributes:{},allowedStyles:{}},n.prototype._init=function(){return this.editor=this._module,this._allowedTags=t.merge(["br","span","a","img","b","strong","i","strike","u","font","p","ul","ol","li","blockquote","pre","code","h1","h2","h3","h4","hr"],this.opts.allowedTags),this._allowedAttributes=t.extend({img:["src","alt","width","height","data-non-image"],a:["href","target"],font:["color"],code:["class"]},this.opts.allowedAttributes),this._allowedStyles=t.extend({span:["color","font-size"],b:["color"],i:["color"],strong:["color"],strike:["color"],u:["color"],p:["margin-left","text-align"],h1:["margin-left","text-align"],h2:["margin-left","text-align"],h3:["margin-left","text-align"],h4:["margin-left","text-align"]},this.opts.allowedStyles),this.editor.body.on("click","a",function(){return!1})},n.prototype.decorate=function(t){return null==t&&(t=this.editor.body),this.editor.trigger("decorate",[t]),t},n.prototype.undecorate=function(t){return null==t&&(t=this.editor.body.clone()),this.editor.trigger("undecorate",[t]),t},n.prototype.autolink=function(e){var n,r,i,o,s,a,u,l,c,p,d,h,f;for(null==e&&(e=this.editor.body),u=[],i=function(n){return n.contents().each(function(n,r){var o,s;if(o=t(r),!o.is("a")&&!o.closest("a, pre",e).length)return!o.is("iframe")&&o.contents().length?i(o):(s=o.text())&&/https?:\/\/|www\./gi.test(s)?u.push(o):void 0})},i(e),c=/(https?:\/\/|www\.)[\w\-\.\?&=\/#%:,@\!\+]+/gi,o=0,a=u.length;o<a;o++){for(r=u[o],h=r.text(),p=[],l=null,s=0;null!==(l=c.exec(h));)d=h.substring(s,l.index),p.push(document.createTextNode(d)),s=c.lastIndex,f=/^(http(s)?:\/\/|\/)/.test(l[0])?l[0]:"http://"+l[0],n=t('<a href="'+f+'" rel="nofollow"></a>').text(l[0]),p.push(n[0]);p.push(document.createTextNode(h.substring(s))),r.replaceWith(t(p))}return e},n.prototype.format=function(e){var n,r,i,o,s,a,u,l,c,p;if(null==e&&(e=this.editor.body),e.is(":empty"))return e.append("<p>"+this.editor.util.phBr+"</p>"),e;for(c=e.contents(),i=0,s=c.length;i<s;i++)u=c[i],this.cleanNode(u,!0);for(p=e.contents(),o=0,a=p.length;o<a;o++)l=p[o],n=t(l),n.is("br")?(void 0!==r&&null!==r&&(r=null),n.remove()):this.editor.util.isBlockNode(l)?n.is("li")?r&&r.is("ul, ol")?r.append(l):(r=t("<ul/>").insertBefore(l),r.append(l)):r=null:(r&&!r.is("ul, ol")||(r=t("<p/>").insertBefore(l)),r.append(l),this.editor.util.isEmptyNode(r)&&r.append(this.editor.util.phBr));return e},n.prototype.cleanNode=function(e,n){var r,i,o,s,a,u,l,c,p,d,h,f,m,g,y,v,b,_;if(o=t(e),o.length>0){if(3===o[0].nodeType)return b=o.text().replace(/(\r\n|\n|\r)/gm,""),void(b?(_=document.createTextNode(b),o.replaceWith(_)):o.remove());if(c=o.is("iframe")?null:o.contents(),p=this.editor.util.isDecoratedNode(o),o.is(this._allowedTags.join(","))||p){if(o.is("a")&&(i=o.find("img")).length>0&&(o.replaceWith(i),o=i,c=null),o.is("td")&&(r=o.find(this.editor.util.blockNodes.join(","))).length>0&&(r.each(function(){return function(e,n){return t(n).contents().unwrap()}}()),c=o.contents()),o.is("img")&&o.hasClass("uploading")&&o.remove(),!p){for(u=this._allowedAttributes[o[0].tagName.toLowerCase()],y=t.makeArray(o[0].attributes),d=0,f=y.length;d<f;d++)l=y[d],"style"!==l.name&&(null!=u&&(v=l.name,U.call(u,v)>=0)||o.removeAttr(l.name));this._cleanNodeStyles(o),o.is("span")&&0===o[0].attributes.length&&o.contents().first().unwrap()}}else 1!==o[0].nodeType||o.is(":empty")?(o.remove(),c=null):o.is("div, article, dl, header, footer, tr")?(o.append("<br/>"),c.first().unwrap()):o.is("table")?(s=t("<p/>"),o.find("tr").each(function(e,n){return s.append(t(n).text()+"<br/>")}),o.replaceWith(s),c=null):o.is("thead, tfoot")?(o.remove(),c=null):o.is("th")?(a=t("<td/>").append(o.contents()),o.replaceWith(a)):c.first().unwrap();if(n&&null!=c&&!o.is("pre"))for(h=0,m=c.length;h<m;h++)g=c[h],this.cleanNode(g,!0);return null}},n.prototype._cleanNodeStyles=function(e){var n,r,i,o,s,a,u,l,c;if(l=e.attr("style")){if(e.removeAttr("style"),!((n=this._allowedStyles[e[0].tagName.toLowerCase()])&&n.length>0))return e;for(c={},s=l.split(";"),r=0,i=s.length;r<i;r++)u=s[r],u=t.trim(u),o=u.split(":"),(o.length=2)&&(a=o[0],U.call(n,a)>=0&&(c[t.trim(o[0])]=t.trim(o[1])));return Object.keys(c).length>0&&e.css(c),e}},n.prototype.clearHtml=function(e,n){var r,i,o;return null==n&&(n=!0),r=t("<div/>").append(e),i=r.contents(),o="",i.each(function(e){return function(r,s){var a,u;return 3===s.nodeType?o+=s.nodeValue:1===s.nodeType&&(a=t(s),u=a.is("iframe")?null:a.contents(),u&&u.length>0&&(o+=e.clearHtml(u)),n&&r<i.length-1&&a.is("br, p, div, li,tr, pre, address, artticle, aside, dl, figcaption, footer, h1, h2,h3, h4, header"))?o+="\n":void 0}}(this)),o},n.prototype.beautify=function(e){var n;return n=function(t){return!!(t.is("p")&&!t.text()&&t.children(":not(br)").length<1)},e.each(function(e,r){var i,o;return i=t(r),o=i.is(':not(img, br, col, td, hr, [class^="simditor-"]):empty'),(o||n(i))&&i.remove(),i.find(':not(img, br, col, td, hr, [class^="simditor-"]):empty').remove()})},n}(e),b=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return B(n,e),n.pluginName="InputManager",n.prototype._modifierKeys=[16,17,18,91,93,224],n.prototype._arrowKeys=[37,38,39,40],n.prototype._init=function(){var e,n;return this.editor=this._module,this.throttledValueChanged=this.editor.util.throttle(function(t){return function(e){return setTimeout(function(){return t.editor.trigger("valuechanged",e)},10)}}(this),300),this.throttledSelectionChanged=this.editor.util.throttle(function(t){return function(){return t.editor.trigger("selectionchanged")}}(this),50),t(document).on("selectionchange.simditor"+this.editor.id,function(t){return function(){var e;if(t.focused&&!t.editor.clipboard.pasting)return(e=function(){return t._selectionTimer&&(clearTimeout(t._selectionTimer),t._selectionTimer=null),t.editor.selection._selection.rangeCount>0?t.throttledSelectionChanged():t._selectionTimer=setTimeout(function(){if(t._selectionTimer=null,t.focused)return e()},10)})()}}(this)),this.editor.on("valuechanged",function(e){return function(){var n;if(e.lastCaretPosition=null,n=e.editor.body.children().filter(function(t,n){return e.editor.util.isBlockNode(n)}),e.focused&&0===n.length&&(e.editor.selection.save(),e.editor.formatter.format(),e.editor.selection.restore()),e.editor.body.find("hr, pre, .simditor-table").each(function(n,r){var i,o;if(i=t(r),(i.parent().is("blockquote")||i.parent()[0]===e.editor.body[0])&&(o=!1,0===i.next().length&&(t("<p/>").append(e.editor.util.phBr).insertAfter(i),o=!0),0===i.prev().length&&(t("<p/>").append(e.editor.util.phBr).insertBefore(i),o=!0),o))return e.throttledValueChanged()}),e.editor.body.find("pre:empty").append(e.editor.util.phBr),!e.editor.util.support.onselectionchange&&e.focused)return e.throttledSelectionChanged()}}(this)),
this.editor.body.on("keydown",t.proxy(this._onKeyDown,this)).on("keypress",t.proxy(this._onKeyPress,this)).on("keyup",t.proxy(this._onKeyUp,this)).on("mouseup",t.proxy(this._onMouseUp,this)).on("focus",t.proxy(this._onFocus,this)).on("blur",t.proxy(this._onBlur,this)).on("drop",t.proxy(this._onDrop,this)).on("input",t.proxy(this._onInput,this)),this.editor.util.browser.firefox&&(this.editor.hotkeys.add("cmd+left",function(t){return function(e){return e.preventDefault(),t.editor.selection._selection.modify("move","backward","lineboundary"),!1}}(this)),this.editor.hotkeys.add("cmd+right",function(t){return function(e){return e.preventDefault(),t.editor.selection._selection.modify("move","forward","lineboundary"),!1}}(this)),e=this.editor.util.os.mac?"cmd+a":"ctrl+a",this.editor.hotkeys.add(e,function(t){return function(){var e,n,r,i;if(e=t.editor.body.children(),e.length>0)return n=e.first().get(0),r=e.last().get(0),i=document.createRange(),i.setStart(n,0),i.setEnd(r,t.editor.util.getNodeLength(r)),t.editor.selection.range(i),!1}}(this))),n=this.editor.util.os.mac?"cmd+enter":"ctrl+enter",this.editor.hotkeys.add(n,function(t){return function(){return t.editor.el.closest("form").find("button:submit").click(),!1}}(this))},n.prototype._onFocus=function(){if(!this.editor.clipboard.pasting)return this.editor.el.addClass("focus").removeClass("error"),this.focused=!0,setTimeout(function(t){return function(){var e,n;if(n=t.editor.selection._selection.getRangeAt(0),n.startContainer===t.editor.body[0]&&(t.lastCaretPosition?t.editor.undoManager.caretPosition(t.lastCaretPosition):(e=t.editor.body.children().first(),n=document.createRange(),t.editor.selection.setRangeAtStartOf(e,n))),t.lastCaretPosition=null,t.editor.triggerHandler("focus"),!t.editor.util.support.onselectionchange)return t.throttledSelectionChanged()}}(this),0)},n.prototype._onBlur=function(){var t;if(!this.editor.clipboard.pasting)return this.editor.el.removeClass("focus"),this.editor.sync(),this.focused=!1,this.lastCaretPosition=null!=(t=this.editor.undoManager.currentState())?t.caret:void 0,this.editor.triggerHandler("blur")},n.prototype._onMouseUp=function(){if(!this.editor.util.support.onselectionchange)return this.throttledSelectionChanged()},n.prototype._onKeyDown=function(t){var e,n;if(!1===this.editor.triggerHandler(t))return!1;if(!this.editor.hotkeys.respondTo(t)){if(this.editor.keystroke.respondTo(t))return this.throttledValueChanged(),!1;if(!(e=t.which,U.call(this._modifierKeys,e)>=0||(n=t.which,U.call(this._arrowKeys,n)>=0)||this.editor.util.metaKey(t)&&86===t.which))return this.editor.util.support.oninput||this.throttledValueChanged(["typing"]),null}},n.prototype._onKeyPress=function(t){if(!1===this.editor.triggerHandler(t))return!1},n.prototype._onKeyUp=function(e){var n,r;return!1!==this.editor.triggerHandler(e)&&(!this.editor.util.support.onselectionchange&&(r=e.which,U.call(this._arrowKeys,r)>=0)?void this.throttledValueChanged():void(8!==e.which&&46!==e.which||!this.editor.util.isEmptyNode(this.editor.body)||(this.editor.body.empty(),n=t("<p/>").append(this.editor.util.phBr).appendTo(this.editor.body),this.editor.selection.setRangeAtStartOf(n))))},n.prototype._onDrop=function(t){return!1!==this.editor.triggerHandler(t)&&this.throttledValueChanged()},n.prototype._onInput=function(){return this.throttledValueChanged(["oninput"])},n}(e),w=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return B(n,e),n.pluginName="Keystroke",n.prototype._init=function(){return this.editor=this._module,this._keystrokeHandlers={},this._initKeystrokeHandlers()},n.prototype.add=function(t,e,n){return t=t.toLowerCase(),t=this.editor.hotkeys.constructor.aliases[t]||t,this._keystrokeHandlers[t]||(this._keystrokeHandlers[t]={}),this._keystrokeHandlers[t][e]=n},n.prototype.respondTo=function(e){var n,r,i,o;if(r=null!=(i=this.editor.hotkeys.constructor.keyNameMap[e.which])?i.toLowerCase():void 0)return!!(r in this._keystrokeHandlers&&(o="function"==typeof(n=this._keystrokeHandlers[r])["*"]?n["*"](e):void 0,o||this.editor.selection.startNodes().each(function(n){return function(i,s){var a,u;if(s.nodeType===Node.ELEMENT_NODE)return a=null!=(u=n._keystrokeHandlers[r])?u[s.tagName.toLowerCase()]:void 0,!0!==(o="function"==typeof a?a(e,t(s)):void 0)&&!1!==o&&void 0}}(this)),o))||void 0},n.prototype._initKeystrokeHandlers=function(){var e;return this.editor.util.browser.safari&&this.add("enter","*",function(e){return function(n){var r,i;if(n.shiftKey&&(r=e.editor.selection.blockNodes().last(),!r.is("pre")))return i=t("<br/>"),e.editor.selection.rangeAtEndOf(r)?(e.editor.selection.insertNode(i),e.editor.selection.insertNode(t("<br/>")),e.editor.selection.setRangeBefore(i)):e.editor.selection.insertNode(i),!0}}(this)),(this.editor.util.browser.webkit||this.editor.util.browser.msie)&&(e=function(e){return function(n,r){var i;if(e.editor.selection.rangeAtEndOf(r))return i=t("<p/>").append(e.editor.util.phBr).insertAfter(r),e.editor.selection.setRangeAtStartOf(i),!0}}(this),this.add("enter","h1",e),this.add("enter","h2",e),this.add("enter","h3",e),this.add("enter","h4",e),this.add("enter","h5",e),this.add("enter","h6",e)),this.add("backspace","*",function(t){return function(){var e,n,r,i;return r=t.editor.selection.rootNodes().first(),n=r.prev(),n.is("hr")&&t.editor.selection.rangeAtStartOf(r)?(t.editor.selection.save(),n.remove(),t.editor.selection.restore(),!0):(e=t.editor.selection.blockNodes().last(),i=t.editor.util.browser.webkit,i&&t.editor.selection.rangeAtStartOf(e)?(t.editor.selection.save(),t.editor.formatter.cleanNode(e,!0),t.editor.selection.restore(),null):void 0)}}(this)),this.add("enter","li",function(e){return function(n,r){var i,o,s,a;if(i=r.clone(),i.find("ul, ol").remove(),e.editor.util.isEmptyNode(i)&&r.is(e.editor.selection.blockNodes().last())){if(o=r.parent(),r.next("li").length>0){if(!e.editor.util.isEmptyNode(r))return;o.parent("li").length>0?(s=t("<li/>").append(e.editor.util.phBr).insertAfter(o.parent("li")),a=t("<"+o[0].tagName+"/>").append(r.nextAll("li")),s.append(a)):(s=t("<p/>").append(e.editor.util.phBr).insertAfter(o),a=t("<"+o[0].tagName+"/>").append(r.nextAll("li")),s.after(a))}else o.parent("li").length>0?(s=t("<li/>").insertAfter(o.parent("li")),r.contents().length>0?s.append(r.contents()):s.append(e.editor.util.phBr)):(s=t("<p/>").append(e.editor.util.phBr).insertAfter(o),r.children("ul, ol").length>0&&s.after(r.children("ul, ol")));return r.prev("li").length?r.remove():o.remove(),e.editor.selection.setRangeAtStartOf(s),!0}}}(this)),this.add("enter","pre",function(e){return function(n,r){var i,o,s;return n.preventDefault(),n.shiftKey?(i=t("<p/>").append(e.editor.util.phBr).insertAfter(r),e.editor.selection.setRangeAtStartOf(i),!0):(s=e.editor.selection.range(),o=null,s.deleteContents(),!e.editor.util.browser.msie&&e.editor.selection.rangeAtEndOf(r)?(o=document.createTextNode("\n\n"),s.insertNode(o),s.setEnd(o,1)):(o=document.createTextNode("\n"),s.insertNode(o),s.setStartAfter(o)),s.collapse(!1),e.editor.selection.range(s),!0)}}(this)),this.add("enter","blockquote",function(t){return function(e,n){var r,i;if(r=t.editor.selection.blockNodes().last(),r.is("p")&&!r.next().length&&t.editor.util.isEmptyNode(r))return n.after(r),i=document.createRange(),t.editor.selection.setRangeAtStartOf(r,i),!0}}(this)),this.add("backspace","li",function(e){return function(n,r){var i,o,s,a,u,l,c,p,d;return o=r.children("ul, ol"),u=r.prev("li"),o.length>0&&u.length>0&&(d="",l=null,r.contents().each(function(e,n){if(1===n.nodeType&&/UL|OL/.test(n.nodeName))return!1;if(1!==n.nodeType||!/BR/.test(n.nodeName))return 3===n.nodeType&&n.nodeValue?d+=n.nodeValue:1===n.nodeType&&(d+=t(n).text()),l=t(n)}),c=e.editor.util.browser.firefox&&!l.next("br").length,l&&1===d.length&&c?(i=t(e.editor.util.phBr).insertAfter(l),l.remove(),e.editor.selection.setRangeBefore(i),!0):!(d.length>0)&&(p=document.createRange(),a=u.children("ul, ol"),a.length>0?(s=t("<li/>").append(e.editor.util.phBr).appendTo(a),a.append(o.children("li")),r.remove(),e.editor.selection.setRangeAtEndOf(s,p)):(e.editor.selection.setRangeAtEndOf(u,p),u.append(o),r.remove(),e.editor.selection.range(p)),!0))}}(this)),this.add("backspace","pre",function(e){return function(n,r){var i,o,s;if(e.editor.selection.rangeAtStartOf(r))return o=r.html().replace("\n","<br/>")||e.editor.util.phBr,i=t("<p/>").append(o).insertAfter(r),r.remove(),s=document.createRange(),e.editor.selection.setRangeAtStartOf(i,s),!0}}(this)),this.add("backspace","blockquote",function(t){return function(e,n){var r,i;if(t.editor.selection.rangeAtStartOf(n))return r=n.children().first().unwrap(),i=document.createRange(),t.editor.selection.setRangeAtStartOf(r,i),!0}}(this))},n}(e),O=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return B(n,e),n.pluginName="UndoManager",n.prototype._index=-1,n.prototype._capacity=20,n.prototype._startPosition=null,n.prototype._endPosition=null,n.prototype._init=function(){var t,e;return this.editor=this._module,this._stack=[],this.editor.util.os.mac?(e="cmd+z",t="shift+cmd+z"):this.editor.util.os.win?(e="ctrl+z",t="ctrl+y"):(e="ctrl+z",t="shift+ctrl+z"),this.editor.hotkeys.add(e,function(t){return function(e){return e.preventDefault(),t.undo(),!1}}(this)),this.editor.hotkeys.add(t,function(t){return function(e){return e.preventDefault(),t.redo(),!1}}(this)),this.throttledPushState=this.editor.util.throttle(function(t){return function(){return t._pushUndoState()}}(this),2e3),this.editor.on("valuechanged",function(t){return function(e,n){if("undo"!==n&&"redo"!==n)return t.throttledPushState()}}(this)),this.editor.on("selectionchanged",function(t){return function(){return t.resetCaretPosition(),t.update()}}(this)),this.editor.on("focus",function(t){return function(){if(0===t._stack.length)return t._pushUndoState()}}(this)),this.editor.on("blur",function(t){return function(){return t.resetCaretPosition()}}(this))},n.prototype.resetCaretPosition=function(){return this._startPosition=null,this._endPosition=null},n.prototype.startPosition=function(){return this.editor.selection._range&&(this._startPosition||(this._startPosition=this._getPosition("start"))),this._startPosition},n.prototype.endPosition=function(){return this.editor.selection._range&&(this._endPosition||(this._endPosition=function(t){return function(){var e;return e=t.editor.selection.range(),e.collapsed?t._startPosition:t._getPosition("end")}}(this)())),this._endPosition},n.prototype._pushUndoState=function(){var t;if(!1!==this.editor.triggerHandler("pushundostate")&&(t=this.caretPosition(),t.start))return this._index+=1,this._stack.length=this._index,this._stack.push({html:this.editor.body.html(),caret:this.caretPosition()}),this._stack.length>this._capacity?(this._stack.shift(),this._index-=1):void 0},n.prototype.currentState=function(){return this._stack.length&&this._index>-1?this._stack[this._index]:null},n.prototype.undo=function(){var t;if(!(this._index<1||this._stack.length<2))return this.editor.hidePopover(),this._index-=1,t=this._stack[this._index],this.editor.body.get(0).innerHTML=t.html,this.caretPosition(t.caret),this.editor.body.find(".selected").removeClass("selected"),this.editor.sync(),this.editor.trigger("valuechanged",["undo"])},n.prototype.redo=function(){var t;if(!(this._index<0||this._stack.length<this._index+2))return this.editor.hidePopover(),this._index+=1,t=this._stack[this._index],this.editor.body.get(0).innerHTML=t.html,this.caretPosition(t.caret),this.editor.body.find(".selected").removeClass("selected"),this.editor.sync(),this.editor.trigger("valuechanged",["redo"])},n.prototype.update=function(){var t;if(t=this.currentState())return t.html=this.editor.body.html(),t.caret=this.caretPosition()},n.prototype._getNodeOffset=function(e,n){var r,i,o;return r=t.isNumeric(n)?t(e):t(e).parent(),o=0,i=!1,r.contents().each(function(t,r){return e!==r&&(n!==t||0!==t)&&(r.nodeType===Node.TEXT_NODE?!i&&r.nodeValue.length>0&&(o+=1,i=!0):(o+=1,i=!1),n-1!==t&&null)}),o},n.prototype._getPosition=function(e){var n,r,i,o,s,a,u;if(null==e&&(e="start"),u=this.editor.selection.range(),o=u[e+"Offset"],n=this.editor.selection[e+"Nodes"](),r=n.first()[0],r.nodeType===Node.TEXT_NODE){for(a=r.previousSibling;a&&a.nodeType===Node.TEXT_NODE;)r=a,o+=this.editor.util.getNodeLength(a),a=a.previousSibling;i=n.get(),i[0]=r,n=t(i)}else o=this._getNodeOffset(r,o);return s=[o],n.each(function(t){return function(e,n){return s.unshift(t._getNodeOffset(n))}}(this)),s},n.prototype._getNodeByPosition=function(e){var n,r,i,o,s,a,u,l;for(a=this.editor.body[0],l=e.slice(0,e.length-1),i=o=0,s=l.length;o<s;i=++o){if(u=l[i],r=a.childNodes,u>r.length-1){if(i!==e.length-2||!t(a).is("pre:empty")){a=null;break}n=document.createTextNode(""),a.appendChild(n),r=a.childNodes}a=r[u]}return a},n.prototype.caretPosition=function(t){var e,n,r,i,o;if(t){if(!t.start)return;return i=this._getNodeByPosition(t.start),(o=t.start[t.start.length-1],t.collapsed?(e=i,n=o):(e=this._getNodeByPosition(t.end),n=t.start[t.start.length-1]),i&&e)?(r=document.createRange(),r.setStart(i,o),r.setEnd(e,n),this.editor.selection.range(r)):void("undefined"!=typeof console&&null!==console&&"function"==typeof console.warn&&console.warn("simditor: invalid caret state"))}return r=this.editor.selection.range(),t=this.editor.inputManager.focused&&null!=r?{start:this.startPosition(),end:this.endPosition(),collapsed:r.collapsed}:{}},n}(e),j=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return B(n,e),n.pluginName="Util",n.prototype._init=function(){if(this.editor=this._module,this.browser.msie&&this.browser.version<11)return this.phBr=""},n.prototype.phBr="<br/>",n.prototype.os=function(){var t;return t={},/Mac/.test(navigator.appVersion)?t.mac=!0:/Linux/.test(navigator.appVersion)?t.linux=!0:/Win/.test(navigator.appVersion)?t.win=!0:/X11/.test(navigator.appVersion)&&(t.unix=!0),/Mobi/.test(navigator.appVersion)&&(t.mobile=!0),t}(),n.prototype.browser=function(){var t,e,n,r,i,o,s,a,u,l,c;return c=navigator.userAgent,r=/(msie|trident)/i.test(c),t=/chrome|crios/i.test(c),l=/safari/i.test(c)&&!t,n=/firefox/i.test(c),e=/edge/i.test(c),r?{msie:!0,version:1*(null!=(i=c.match(/(msie |rv:)(\d+(\.\d+)?)/i))?i[2]:void 0)}:e?{edge:!0,webkit:!0,version:1*(null!=(o=c.match(/edge\/(\d+(\.\d+)?)/i))?o[1]:void 0)}:t?{webkit:!0,chrome:!0,version:1*(null!=(s=c.match(/(?:chrome|crios)\/(\d+(\.\d+)?)/i))?s[1]:void 0)}:l?{webkit:!0,safari:!0,version:1*(null!=(a=c.match(/version\/(\d+(\.\d+)?)/i))?a[1]:void 0)}:n?{mozilla:!0,firefox:!0,version:1*(null!=(u=c.match(/firefox\/(\d+(\.\d+)?)/i))?u[1]:void 0)}:{}}(),n.prototype.support=function(){return{onselectionchange:function(){var t;if(void 0!==(t=document.onselectionchange))try{return document.onselectionchange=0,null===document.onselectionchange}catch(t){t}finally{document.onselectionchange=t}return!1}(),oninput:function(){return!/(msie|trident)/i.test(navigator.userAgent)}()}}(),n.prototype.reflow=function(e){return null==e&&(e=document),t(e)[0].offsetHeight},n.prototype.metaKey=function(t){var e;return e=/Mac/.test(navigator.userAgent),e?t.metaKey:t.ctrlKey},n.prototype.isEmptyNode=function(e){var n;return n=t(e),n.is(":empty")||!n.text()&&!n.find(":not(br, span, div)").length},n.prototype.isDecoratedNode=function(e){return t(e).is('[class^="simditor-"]')},n.prototype.blockNodes=["div","p","ul","ol","li","blockquote","hr","pre","h1","h2","h3","h4","h5","table"],n.prototype.isBlockNode=function(e){return!(!(e=t(e)[0])||3===e.nodeType)&&new RegExp("^("+this.blockNodes.join("|")+")$").test(e.nodeName.toLowerCase())},n.prototype.getNodeLength=function(e){switch(e=t(e)[0],e.nodeType){case 7:case 10:return 0;case 3:case 8:return e.length;default:return e.childNodes.length}},n.prototype.dataURLtoBlob=function(t){var e,n,r,i,o,s,a,u,l,c,p,d;if(a=window.Blob&&function(){try{return Boolean(new Blob)}catch(t){return t,!1}}(),s=a&&window.Uint8Array&&function(){try{return 100===new Blob([new Uint8Array(100)]).size}catch(t){return t,!1}}(),e=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,!((a||e)&&window.atob&&window.ArrayBuffer&&window.Uint8Array))return!1;for(o=t.split(",")[0].indexOf("base64")>=0?atob(t.split(",")[1]):decodeURIComponent(t.split(",")[1]),n=new ArrayBuffer(o.length),l=new Uint8Array(n),u=c=0,d=o.length;0<=d?c<=d:c>=d;u=0<=d?++c:--c)l[u]=o.charCodeAt(u);return p=t.split(",")[0].split(":")[1].split(";")[0],a?(i=s?l:n,new Blob([i],{type:p})):(r=new e,r.append(n),r.getBlob(p))},n.prototype.throttle=function(t,e){var n,r,i,o,s,a,u;return o=0,u=0,i=n=s=null,r=function(){return u=0,o=+new Date,s=t.apply(i,n),i=null,n=null},a=function(){var t;return i=this,n=arguments,t=new Date-o,u||(t>=e?r():u=setTimeout(r,e-t)),s},a.clear=function(){if(u)return clearTimeout(u),r()},a},n.prototype.formatHTML=function(e){var n,r,i,o,s,a,u,l,c;for(a=/<(\/?)(.+?)(\/?)>/g,l="",o=0,i=null,r="  ",u=function(t,e){return new Array(e+1).join(t)};null!==(s=a.exec(e));)s.isBlockNode=t.inArray(s[2],this.blockNodes)>-1,s.isStartTag="/"!==s[1]&&"/"!==s[3],s.isEndTag="/"===s[1]||"/"===s[3],n=i?i.index+i[0].length:0,(c=e.substring(n,s.index)).length>0&&t.trim(c)&&(l+=c),s.isBlockNode&&s.isEndTag&&!s.isStartTag&&(o-=1),s.isBlockNode&&s.isStartTag&&(i&&i.isBlockNode&&i.isEndTag||(l+="\n"),l+=u(r,o)),l+=s[0],s.isBlockNode&&s.isEndTag&&(l+="\n"),s.isBlockNode&&s.isStartTag&&(o+=1),i=s;return t.trim(l)},n}(e),N=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return B(n,e),n.pluginName="Toolbar",n.prototype.opts={toolbar:!0,toolbarFloat:!0,toolbarHidden:!1,toolbarFloatOffset:0},n.prototype._tpl={wrapper:'<div class="simditor-toolbar"><ul></ul></div>',separator:'<li><span class="separator"></span></li>'},n.prototype._init=function(){var e,n,r;if(this.editor=this._module,this.opts.toolbar)return t.isArray(this.opts.toolbar)||(this.opts.toolbar=["bold","italic","underline","strikethrough","|","ol","ul","blockquote","code","|","link","image","|","indent","outdent"]),this._render(),this.list.on("click",function(){return!1}),this.wrapper.on("mousedown",function(t){return function(){return t.list.find(".menu-on").removeClass(".menu-on")}}(this)),t(document).on("mousedown.simditor"+this.editor.id,function(t){return function(){return t.list.find(".menu-on").removeClass(".menu-on")}}(this)),!this.opts.toolbarHidden&&this.opts.toolbarFloat&&(this.wrapper.css("top",this.opts.toolbarFloatOffset),r=0,n=function(t){return function(){return t.wrapper.css("position","static"),t.wrapper.width("auto"),t.editor.util.reflow(t.wrapper),t.wrapper.width(t.wrapper.outerWidth()),t.wrapper.css("left",t.editor.util.os.mobile?t.wrapper.position().left:t.wrapper.offset().left),t.wrapper.css("position",""),r=t.wrapper.outerHeight(),t.editor.placeholderEl.css("top",r),!0}}(this),e=null,t(window).on("resize.simditor-"+this.editor.id,function(){return e=n()}),t(window).on("scroll.simditor-"+this.editor.id,function(i){return function(){var o,s,a;if(i.wrapper.is(":visible"))if(a=i.editor.wrapper.offset().top,o=a+i.editor.wrapper.outerHeight()-80,(s=t(document).scrollTop()+i.opts.toolbarFloatOffset)<=a||s>=o){if(i.editor.wrapper.removeClass("toolbar-floating").css("padding-top",""),i.editor.util.os.mobile)return i.wrapper.css("top",i.opts.toolbarFloatOffset)}else if(e||(e=n()),i.editor.wrapper.addClass("toolbar-floating").css("padding-top",r),i.editor.util.os.mobile)return i.wrapper.css("top",s-a+i.opts.toolbarFloatOffset)}}(this))),this.editor.on("destroy",function(t){return function(){return t.buttons.length=0}}(this)),t(document).on("mousedown.simditor-"+this.editor.id,function(t){return function(){return t.list.find("li.menu-on").removeClass("menu-on")}}(this))},n.prototype._render=function(){var e,n,r,i;for(this.buttons=[],this.wrapper=t(this._tpl.wrapper).prependTo(this.editor.wrapper),this.list=this.wrapper.find("ul"),i=this.opts.toolbar,e=0,n=i.length;e<n;e++)if("|"!==(r=i[e])){if(!this.constructor.buttons[r])throw new Error("simditor: invalid toolbar button "+r);this.buttons.push(new this.constructor.buttons[r]({editor:this.editor}))}else t(this._tpl.separator).appendTo(this.list);if(this.opts.toolbarHidden)return this.wrapper.hide()},n.prototype.findButton=function(t){var e;return e=this.list.find(".toolbar-item-"+t).data("button"),null!=e?e:null},n.addButton=function(t){return this.buttons[t.prototype.name]=t},n.buttons={},n}(e),v=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return B(n,e),n.pluginName="Indentation",n.prototype.opts={tabIndent:!0},n.prototype._init=function(){return this.editor=this._module,this.editor.keystroke.add("tab","*",function(t){return function(e){var n;if(n=t.editor.toolbar.findButton("code"),t.opts.tabIndent||n&&n.active)return t.indent(e.shiftKey)}}(this))},n.prototype.indent=function(e){var n,r,i;return this.editor.selection.startNodes(),this.editor.selection.endNodes(),n=this.editor.selection.blockNodes(),r=[],n=n.each(function(e,n){var i,o,s,a,u;for(i=!0,o=s=0,a=r.length;s<a;o=++s){if(u=r[o],t.contains(n,u)){i=!1;break}if(t.contains(u,n)){r.splice(o,1,n),i=!1;break}}if(i)return r.push(n)}),n=t(r),i=!1,n.each(function(t){return function(n,r){var o;if(o=e?t.outdentBlock(r):t.indentBlock(r))return i=o}}(this)),i},n.prototype.indentBlock=function(e){var n,r,i,o,s,a,u,l,c,p;if(n=t(e),n.length){if(n.is("pre")){if(a=this.editor.selection.containerNode(),!a.is(n)&&!a.closest("pre").is(n))return;this.indentText(this.editor.selection.range())}else if(n.is("li")){if(s=n.prev("li"),s.length<1)return;this.editor.selection.save(),p=n.parent()[0].tagName,r=s.children("ul, ol"),r.length>0?r.append(n):t("<"+p+"/>").append(n).appendTo(s),this.editor.selection.restore()}else if(n.is("p, h1, h2, h3, h4"))c=parseInt(n.css("margin-left"))||0,c=(Math.round(c/this.opts.indentWidth)+1)*this.opts.indentWidth,n.css("margin-left",c);else{if(!n.is("table")&&!n.is(".simditor-table"))return!1;if(u=this.editor.selection.containerNode().closest("td, th"),i=u.next("td, th"),i.length>0||(l=u.parent("tr"),o=l.next("tr"),o.length<1&&l.parent().is("thead")&&(o=l.parent("thead").next("tbody").find("tr:first")),i=o.find("td:first, th:first")),!(u.length>0&&i.length>0))return;this.editor.selection.setRangeAtEndOf(i)}return!0}},n.prototype.indentText=function(t){var e,n;return e=t.toString().replace(/^(?=.+)/gm,"\xa0\xa0"),n=document.createTextNode(e||"\xa0\xa0"),t.deleteContents(),t.insertNode(n),e?(t.selectNode(n),this.editor.selection.range(t)):this.editor.selection.setRangeAfter(n)},n.prototype.outdentBlock=function(e){var n,r,i,o,s,a,u,l,c,p;if((n=t(e))&&n.length>0){if(n.is("pre")){if(o=this.editor.selection.containerNode(),!o.is(n)&&!o.closest("pre").is(n))return;this.outdentText(p)}else if(n.is("li"))r=n.parent(),i=r.parent("li"),this.editor.selection.save(),i.length<1?(p=document.createRange(),p.setStartBefore(r[0]),p.setEndBefore(n[0]),r.before(p.extractContents()),t("<p/>").insertBefore(r).after(n.children("ul, ol")).append(n.contents()),n.remove()):(n.next("li").length>0&&t("<"+r[0].tagName+"/>").append(n.nextAll("li")).appendTo(n),n.insertAfter(i),r.children("li").length<1&&r.remove()),this.editor.selection.restore();else if(n.is("p, h1, h2, h3, h4"))c=parseInt(n.css("margin-left"))||0,c=Math.max(Math.round(c/this.opts.indentWidth)-1,0)*this.opts.indentWidth,n.css("margin-left",0===c?"":c);else{if(!n.is("table")&&!n.is(".simditor-table"))return!1;if(u=this.editor.selection.containerNode().closest("td, th"),s=u.prev("td, th"),s.length>0||(l=u.parent("tr"),a=l.prev("tr"),a.length<1&&l.parent().is("tbody")&&(a=l.parent("tbody").prev("thead").find("tr:first")),s=a.find("td:last, th:last")),!(u.length>0&&s.length>0))return;this.editor.selection.setRangeAtEndOf(s)}return!0}},n.prototype.outdentText=function(){},n}(e),u=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return B(n,e),n.pluginName="Clipboard",n.prototype.opts={pasteImage:!1,cleanPaste:!1},n.prototype._init=function(){return this.editor=this._module,this.opts.pasteImage&&"string"!=typeof this.opts.pasteImage&&(this.opts.pasteImage="inline"),this.editor.body.on("paste",function(t){return function(e){var n;if(!t.pasting&&!t._pasteBin)return!1!==t.editor.triggerHandler(e)&&(n=t.editor.selection.deleteRangeContents(),t.editor.body.html()?n.collapsed||n.collapse(!0):(t.editor.formatter.format(),t.editor.selection.setRangeAtStartOf(t.editor.body.find("p:first"))),!t._processPasteByClipboardApi(e)&&(t.editor.inputManager.throttledValueChanged.clear(),t.editor.inputManager.throttledSelectionChanged.clear(),t.editor.undoManager.throttledPushState.clear(),t.editor.selection.reset(),t.editor.undoManager.resetCaretPosition(),t.pasting=!0,t._getPasteContent(function(e){return t._processPasteContent(e),t._pasteInBlockEl=null,t._pastePlainText=null,t.pasting=!1})))}}(this))},n.prototype._processPasteByClipboardApi=function(t){var e,n,r,i;if(!this.editor.util.browser.edge&&t.originalEvent.clipboardData&&t.originalEvent.clipboardData.items&&t.originalEvent.clipboardData.items.length>0&&(n=t.originalEvent.clipboardData.items[0],/^image\//.test(n.type))){if(null==(e=n.getAsFile())||!this.opts.pasteImage)return;if(e.name||(e.name="Clipboard Image.png"),!1===this.editor.triggerHandler("pasting",[e]))return;return i={},i[this.opts.pasteImage]=!0,null!=(r=this.editor.uploader)&&r.upload(e,i),!0}},n.prototype._getPasteContent=function(e){var n;return this._pasteBin=t('<div contenteditable="true" />').addClass("simditor-paste-bin").attr("tabIndex","-1").appendTo(this.editor.el),n={html:this.editor.body.html(),caret:this.editor.undoManager.caretPosition()},this._pasteBin.focus(),setTimeout(function(r){return function(){var i;return r.editor.hidePopover(),r.editor.body.get(0).innerHTML=n.html,r.editor.undoManager.caretPosition(n.caret),r.editor.body.focus(),r.editor.selection.reset(),r.editor.selection.range(),r._pasteInBlockEl=r.editor.selection.blockNodes().last(),r._pastePlainText=r.opts.cleanPaste||r._pasteInBlockEl.is("pre, table"),r._pastePlainText?i=r.editor.formatter.clearHtml(r._pasteBin.html(),!0):(i=t("<div/>").append(r._pasteBin.contents()),i.find("table colgroup").remove(),r.editor.formatter.format(i),r.editor.formatter.decorate(i),r.editor.formatter.beautify(i.children()),i=i.contents()),r._pasteBin.remove(),r._pasteBin=null,e(i)}}(this),0)},n.prototype._processPasteContent=function(e){var n,r,i,o,s,a,u,l,c,p,d,h,f,m,g,y,v,b,_,w,E,T,x;if(!1!==this.editor.triggerHandler("pasting",[e])&&(n=this._pasteInBlockEl,e)){if(this._pastePlainText)if(n.is("table")){for(g=e.split("\n"),l=g.pop(),a=0,c=g.length;a<c;a++)m=g[a],this.editor.selection.insertNode(document.createTextNode(m)),this.editor.selection.insertNode(t("<br/>"));this.editor.selection.insertNode(document.createTextNode(l))}else for(e=t("<div/>").text(e),w=e.contents(),u=0,p=w.length;u<p;u++)v=w[u],this.editor.selection.insertNode(t(v)[0]);else if(n.is(this.editor.body))for(y=0,d=e.length;y<d;y++)v=e[y],this.editor.selection.insertNode(v);else{if(e.length<1)return;if(1===e.length)if(e.is("p")){if(o=e.contents(),1===o.length&&o.is("img")){if(r=o,/^data:image/.test(r.attr("src"))){if(!this.opts.pasteImage)return;return i=this.editor.util.dataURLtoBlob(r.attr("src")),i.name="Clipboard Image.png",x={},x[this.opts.pasteImage]=!0,void(null!=(E=this.editor.uploader)&&E.upload(i,x))}if(r.is('img[src^="webkit-fake-url://"]'))return}for(b=0,h=o.length;b<h;b++)v=o[b],this.editor.selection.insertNode(v)}else if(n.is("p")&&this.editor.util.isEmptyNode(n))n.replaceWith(e),this.editor.selection.setRangeAtEndOf(e);else if(e.is("ul, ol"))if(1===e.find("li").length)for(e=t("<div/>").text(e.text()),T=e.contents(),_=0,f=T.length;_<f;_++)v=T[_],this.editor.selection.insertNode(t(v)[0]);else n.is("li")?(n.parent().after(e),this.editor.selection.setRangeAtEndOf(e)):(n.after(e),this.editor.selection.setRangeAtEndOf(e));else n.after(e),this.editor.selection.setRangeAtEndOf(e);else n.is("li")&&(n=n.parent()),this.editor.selection.rangeAtStartOf(n)?s="before":this.editor.selection.rangeAtEndOf(n)?s="after":(this.editor.selection.breakBlockEl(n),s="before"),n[s](e),this.editor.selection.setRangeAtEndOf(e.last())}return this.editor.inputManager.throttledValueChanged()}},n}(e),I=function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return B(i,e),i.connect(j),i.connect(b),i.connect(k),i.connect(O),i.connect(w),i.connect(h),i.connect(N),i.connect(v),i.connect(u),i.count=0,i.prototype.opts={textarea:null,placeholder:"",defaultImage:"images/image.png",params:{},upload:!1,indentWidth:40},i.prototype._init=function(){var e,o,s;if(this.textarea=t(this.opts.textarea),this.opts.placeholder=this.opts.placeholder||this.textarea.attr("placeholder"),!this.textarea.length)throw new Error("simditor: param textarea is required.");if(e=this.textarea.data("simditor"),null!=e&&e.destroy(),this.id=++i.count,this._render(),!n)throw new Error("simditor: simple-hotkeys is required.");if(this.hotkeys=n({el:this.body}),this.opts.upload&&r&&(s="object"==typeof this.opts.upload?this.opts.upload:{},this.uploader=r(s)),o=this.textarea.closest("form"),o.length&&(o.on("submit.simditor-"+this.id,function(t){return function(){return t.sync()}}(this)),o.on("reset.simditor-"+this.id,function(t){return function(){return t.setValue("")}}(this))),this.on("initialized",function(t){return function(){if(t.opts.placeholder&&t.on("valuechanged",function(){return t._placeholder()}),t.setValue(t.textarea.val().trim()||""),t.textarea.attr("autofocus"))return t.focus()}}(this)),this.util.browser.mozilla){this.util.reflow();try{return document.execCommand("enableObjectResizing",!1,!1),document.execCommand("enableInlineTableEditing",!1,!1)}catch(t){t}}},i.prototype._tpl='<div class="simditor">\n  <div class="simditor-wrapper">\n    <div class="simditor-placeholder"></div>\n    <div class="simditor-body" contenteditable="true">\n    </div>\n  </div>\n</div>',i.prototype._render=function(){var e,n,r,i;if(this.el=t(this._tpl).insertBefore(this.textarea),this.wrapper=this.el.find(".simditor-wrapper"),this.body=this.wrapper.find(".simditor-body"),this.placeholderEl=this.wrapper.find(".simditor-placeholder").append(this.opts.placeholder),this.el.data("simditor",this),this.wrapper.append(this.textarea),this.textarea.data("simditor",this).blur(),this.body.attr("tabindex",this.textarea.attr("tabindex")),this.util.os.mac?this.el.addClass("simditor-mac"):this.util.os.linux&&this.el.addClass("simditor-linux"),this.util.os.mobile&&this.el.addClass("simditor-mobile"),this.opts.params){n=this.opts.params,r=[];for(e in n)i=n[e],r.push(t("<input/>",{type:"hidden",name:e,value:i}).insertAfter(this.textarea));return r}},i.prototype._placeholder=function(){var t;return t=this.body.children(),0===t.length||1===t.length&&this.util.isEmptyNode(t)&&parseInt(t.css("margin-left")||0)<this.opts.indentWidth?this.placeholderEl.show():this.placeholderEl.hide()},i.prototype.setValue=function(t){return this.hidePopover(),this.textarea.val(t),this.body.get(0).innerHTML=t,this.formatter.format(),this.formatter.decorate(),this.util.reflow(this.body),this.inputManager.lastCaretPosition=null,this.trigger("valuechanged")},i.prototype.getValue=function(){return this.sync()},i.prototype.sync=function(){var e,n,r,i,o,s;for(n=this.body.clone(),this.formatter.undecorate(n),this.formatter.format(n),this.formatter.autolink(n),e=n.children(),o=e.last("p"),i=e.first("p");o.is("p")&&this.util.isEmptyNode(o);)r=o,o=o.prev("p"),r.remove();for(;i.is("p")&&this.util.isEmptyNode(i);)r=i,i=o.next("p"),r.remove();return n.find("img.uploading").remove(),s=t.trim(n.html()),this.textarea.val(s),s},i.prototype.focus=function(){var e,n;return this.body.is(":visible")&&this.body.is("[contenteditable]")?this.inputManager.lastCaretPosition?(this.undoManager.caretPosition(this.inputManager.lastCaretPosition),this.inputManager.lastCaretPosition=null):(e=this.body.children().last(),e.is("p")||(e=t("<p/>").append(this.util.phBr).appendTo(this.body)),n=document.createRange(),this.selection.setRangeAtEndOf(e,n)):void this.el.find("textarea:visible").focus()},i.prototype.blur=function(){return this.body.is(":visible")&&this.body.is("[contenteditable]")?this.body.blur():this.body.find("textarea:visible").blur()},i.prototype.hidePopover=function(){return this.el.find(".simditor-popover").each(function(e,n){if(n=t(n).data("popover"),n.active)return n.hide()})},i.prototype.destroy=function(){return this.triggerHandler("destroy"),this.textarea.closest("form").off(".simditor .simditor-"+this.id),this.selection.clear(),this.inputManager.focused=!1,this.textarea.insertBefore(this.el).hide().val("").removeData("simditor"),this.el.remove(),t(document).off(".simditor-"+this.id),
t(window).off(".simditor-"+this.id),this.off()},i}(e),I.i18n={"zh-CN":{blockquote:"\u5f15\u7528",bold:"\u52a0\u7c97\u6587\u5b57",code:"\u63d2\u5165\u4ee3\u7801",color:"\u6587\u5b57\u989c\u8272",coloredText:"\u5f69\u8272\u6587\u5b57",hr:"\u5206\u9694\u7ebf",image:"\u63d2\u5165\u56fe\u7247",externalImage:"\u5916\u94fe\u56fe\u7247",uploadImage:"\u4e0a\u4f20\u56fe\u7247",uploadFailed:"\u4e0a\u4f20\u5931\u8d25\u4e86",uploadError:"\u4e0a\u4f20\u51fa\u9519\u4e86",imageUrl:"\u56fe\u7247\u5730\u5740",imageSize:"\u56fe\u7247\u5c3a\u5bf8",imageAlt:"\u56fe\u7247\u63cf\u8ff0",restoreImageSize:"\u8fd8\u539f\u56fe\u7247\u5c3a\u5bf8",uploading:"\u6b63\u5728\u4e0a\u4f20",indent:"\u5411\u53f3\u7f29\u8fdb",outdent:"\u5411\u5de6\u7f29\u8fdb",italic:"\u659c\u4f53\u6587\u5b57",link:"\u63d2\u5165\u94fe\u63a5",linkText:"\u94fe\u63a5\u6587\u5b57",linkUrl:"\u94fe\u63a5\u5730\u5740",linkTarget:"\u6253\u5f00\u65b9\u5f0f",openLinkInCurrentWindow:"\u5728\u65b0\u7a97\u53e3\u4e2d\u6253\u5f00",openLinkInNewWindow:"\u5728\u5f53\u524d\u7a97\u53e3\u4e2d\u6253\u5f00",removeLink:"\u79fb\u9664\u94fe\u63a5",ol:"\u6709\u5e8f\u5217\u8868",ul:"\u65e0\u5e8f\u5217\u8868",strikethrough:"\u5220\u9664\u7ebf\u6587\u5b57",table:"\u8868\u683c",deleteRow:"\u5220\u9664\u884c",insertRowAbove:"\u5728\u4e0a\u9762\u63d2\u5165\u884c",insertRowBelow:"\u5728\u4e0b\u9762\u63d2\u5165\u884c",deleteColumn:"\u5220\u9664\u5217",insertColumnLeft:"\u5728\u5de6\u8fb9\u63d2\u5165\u5217",insertColumnRight:"\u5728\u53f3\u8fb9\u63d2\u5165\u5217",deleteTable:"\u5220\u9664\u8868\u683c",title:"\u6807\u9898",normalText:"\u666e\u901a\u6587\u672c",underline:"\u4e0b\u5212\u7ebf\u6587\u5b57",alignment:"\u6c34\u5e73\u5bf9\u9f50",alignCenter:"\u5c45\u4e2d",alignLeft:"\u5c45\u5de6",alignRight:"\u5c45\u53f3",selectLanguage:"\u9009\u62e9\u7a0b\u5e8f\u8bed\u8a00",fontScale:"\u5b57\u4f53\u5927\u5c0f",fontScaleXLarge:"\u8d85\u5927\u5b57\u4f53",fontScaleLarge:"\u5927\u53f7\u5b57\u4f53",fontScaleNormal:"\u6b63\u5e38\u5927\u5c0f",fontScaleSmall:"\u5c0f\u53f7\u5b57\u4f53",fontScaleXSmall:"\u8d85\u5c0f\u5b57\u4f53"},"en-US":{blockquote:"Block Quote",bold:"Bold",code:"Code",color:"Text Color",coloredText:"Colored Text",hr:"Horizontal Line",image:"Insert Image",externalImage:"External Image",uploadImage:"Upload Image",uploadFailed:"Upload failed",uploadError:"Error occurs during upload",imageUrl:"Url",imageSize:"Size",imageAlt:"Alt",restoreImageSize:"Restore Origin Size",uploading:"Uploading",indent:"Indent",outdent:"Outdent",italic:"Italic",link:"Insert Link",linkText:"Text",linkUrl:"Url",linkTarget:"Target",openLinkInCurrentWindow:"Open link in current window",openLinkInNewWindow:"Open link in new window",removeLink:"Remove Link",ol:"Ordered List",ul:"Unordered List",strikethrough:"Strikethrough",table:"Table",deleteRow:"Delete Row",insertRowAbove:"Insert Row Above",insertRowBelow:"Insert Row Below",deleteColumn:"Delete Column",insertColumnLeft:"Insert Column Left",insertColumnRight:"Insert Column Right",deleteTable:"Delete Table",title:"Title",normalText:"Text",underline:"Underline",alignment:"Alignment",alignCenter:"Align Center",alignLeft:"Align Left",alignRight:"Align Right",selectLanguage:"Select Language",fontScale:"Font Size",fontScaleXLarge:"X Large Size",fontScaleLarge:"Large Size",fontScaleNormal:"Normal Size",fontScaleSmall:"Small Size",fontScaleXSmall:"X Small Size"}},a=function(e){function n(t){this.editor=t.editor,this.title=this._t(this.name),n.__super__.constructor.call(this,t)}return B(n,e),n.prototype._tpl={item:'<li><a tabindex="-1" unselectable="on" class="toolbar-item" href="javascript:;"><span></span></a></li>',menuWrapper:'<div class="toolbar-menu"></div>',menuItem:'<li><a tabindex="-1" unselectable="on" class="menu-item" href="javascript:;"><span></span></a></li>',separator:'<li><span class="separator"></span></li>'},n.prototype.name="",n.prototype.icon="",n.prototype.title="",n.prototype.text="",n.prototype.htmlTag="",n.prototype.disableTag="",n.prototype.menu=!1,n.prototype.active=!1,n.prototype.disabled=!1,n.prototype.needFocus=!0,n.prototype.shortcut=null,n.prototype._init=function(){var e,n,r,i;for(this.render(),this.el.on("mousedown",function(t){return function(e){var n,r,i;return e.preventDefault(),r=t.needFocus&&!t.editor.inputManager.focused,!t.el.hasClass("disabled")&&!r&&(t.menu?(t.wrapper.toggleClass("menu-on").siblings("li").removeClass("menu-on"),t.wrapper.is(".menu-on")&&(n=t.menuWrapper.offset().left+t.menuWrapper.outerWidth()+5-t.editor.wrapper.offset().left-t.editor.wrapper.outerWidth(),n>0&&t.menuWrapper.css({left:"auto",right:0}),t.trigger("menuexpand")),!1):(i=t.el.data("param"),t.command(i),!1))}}(this)),this.wrapper.on("click","a.menu-item",function(e){return function(n){var r,i,o;return n.preventDefault(),r=t(n.currentTarget),e.wrapper.removeClass("menu-on"),i=e.needFocus&&!e.editor.inputManager.focused,!r.hasClass("disabled")&&!i&&(e.editor.toolbar.wrapper.removeClass("menu-on"),o=r.data("param"),e.command(o),!1)}}(this)),this.wrapper.on("mousedown","a.menu-item",function(){return!1}),this.editor.on("blur",function(t){return function(){if(t.editor.body.is(":visible")&&t.editor.body.is("[contenteditable]")&&!t.editor.clipboard.pasting)return t.setActive(!1),t.setDisabled(!1)}}(this)),null!=this.shortcut&&this.editor.hotkeys.add(this.shortcut,function(t){return function(){return t.el.mousedown(),!1}}(this)),r=this.htmlTag.split(","),e=0,n=r.length;e<n;e++)i=r[e],(i=t.trim(i))&&t.inArray(i,this.editor.formatter._allowedTags)<0&&this.editor.formatter._allowedTags.push(i);return this.editor.on("selectionchanged",function(t){return function(){if(t.editor.inputManager.focused)return t._status()}}(this))},n.prototype.iconClassOf=function(t){return t?"simditor-icon simditor-icon-"+t:""},n.prototype.setIcon=function(t){return this.el.find("span").removeClass().addClass(this.iconClassOf(t)).text(this.text)},n.prototype.render=function(){if(this.wrapper=t(this._tpl.item).appendTo(this.editor.toolbar.list),this.el=this.wrapper.find("a.toolbar-item"),this.el.attr("title",this.title).addClass("toolbar-item-"+this.name).data("button",this),this.setIcon(this.icon),this.menu)return this.menuWrapper=t(this._tpl.menuWrapper).appendTo(this.wrapper),this.menuWrapper.addClass("toolbar-menu-"+this.name),this.renderMenu()},n.prototype.renderMenu=function(){var e,n,r,i,o,s,a,u;if(t.isArray(this.menu)){for(this.menuEl=t("<ul/>").appendTo(this.menuWrapper),s=this.menu,u=[],r=0,i=s.length;r<i;r++)o=s[r],"|"!==o?(n=t(this._tpl.menuItem).appendTo(this.menuEl),e=n.find("a.menu-item").attr({title:null!=(a=o.title)?a:o.text,"data-param":o.param}).addClass("menu-item-"+o.name),o.icon?u.push(e.find("span").addClass(this.iconClassOf(o.icon))):u.push(e.find("span").text(o.text))):t(this._tpl.separator).appendTo(this.menuEl);return u}},n.prototype.setActive=function(t){if(t!==this.active)return this.active=t,this.el.toggleClass("active",this.active)},n.prototype.setDisabled=function(t){if(t!==this.disabled)return this.disabled=t,this.el.toggleClass("disabled",this.disabled)},n.prototype._disableStatus=function(){var t,e,n;return n=this.editor.selection.startNodes(),e=this.editor.selection.endNodes(),t=n.filter(this.disableTag).length>0||e.filter(this.disableTag).length>0,this.setDisabled(t),this.disabled&&this.setActive(!1),this.disabled},n.prototype._activeStatus=function(){var t,e,n,r,i;return i=this.editor.selection.startNodes(),n=this.editor.selection.endNodes(),r=i.filter(this.htmlTag),e=n.filter(this.htmlTag),t=r.length>0&&e.length>0&&r.is(e),this.node=t?r:null,this.setActive(t),this.active},n.prototype._status=function(){if(this._disableStatus(),!this.disabled)return this._activeStatus()},n.prototype.command=function(){},n.prototype._t=function(){var t,e,r;return t=1<=arguments.length?F.call(arguments,0):[],r=n.__super__._t.apply(this,t),r||(r=(e=this.editor)._t.apply(e,t)),r},n}(e),I.Button=a,A=function(e){function n(t){this.button=t.button,this.editor=t.button.editor,n.__super__.constructor.call(this,t)}return B(n,e),n.prototype.offset={top:4,left:0},n.prototype.target=null,n.prototype.active=!1,n.prototype._init=function(){return this.el=t('<div class="simditor-popover"></div>').appendTo(this.editor.el).data("popover",this),this.render(),this.el.on("mouseenter",function(t){return function(){return t.el.addClass("hover")}}(this)),this.el.on("mouseleave",function(t){return function(){return t.el.removeClass("hover")}}(this))},n.prototype.render=function(){},n.prototype._initLabelWidth=function(){var e;if(e=this.el.find(".settings-field"),e.length>0)return this._labelWidth=0,e.each(function(e){return function(n,r){var i,o;if(i=t(r),o=i.find("label"),o.length>0)return e._labelWidth=Math.max(e._labelWidth,o.width())}}(this)),e.find("label").width(this._labelWidth)},n.prototype.show=function(e,n){if(null==n&&(n="bottom"),null!=e)return this.el.siblings(".simditor-popover").each(function(e,n){if(n=t(n).data("popover"),n.active)return n.hide()}),this.active&&this.target&&this.target.removeClass("selected"),this.target=e.addClass("selected"),this.active?(this.refresh(n),this.trigger("popovershow")):(this.active=!0,this.el.css({left:-9999}).show(),this._labelWidth||this._initLabelWidth(),this.editor.util.reflow(),this.refresh(n),this.trigger("popovershow"))},n.prototype.hide=function(){if(this.active)return this.target&&this.target.removeClass("selected"),this.target=null,this.active=!1,this.el.hide(),this.trigger("popoverhide")},n.prototype.refresh=function(t){var e,n,r,i,o,s;if(null==t&&(t="bottom"),this.active)return e=this.editor.el.offset(),o=this.target.offset(),i=this.target.outerHeight(),"bottom"===t?s=o.top-e.top+i:"top"===t&&(s=o.top-e.top-this.el.height()),r=this.editor.wrapper.width()-this.el.outerWidth()-10,n=Math.min(o.left-e.left,r),this.el.css({top:s+this.offset.top,left:n+this.offset.left})},n.prototype.destroy=function(){return this.target=null,this.active=!1,this.editor.off(".linkpopover"),this.el.remove()},n.prototype._t=function(){var t,e,r;return t=1<=arguments.length?F.call(arguments,0):[],r=n.__super__._t.apply(this,t),r||(r=(e=this.button)._t.apply(e,t)),r},n}(e),I.Popover=A,L=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return B(n,e),n.prototype.name="title",n.prototype.htmlTag="h1, h2, h3, h4, h5",n.prototype.disableTag="pre, table",n.prototype._init=function(){return this.menu=[{name:"normal",text:this._t("normalText"),param:"p"},"|",{name:"h1",text:this._t("title")+" 1",param:"h1"},{name:"h2",text:this._t("title")+" 2",param:"h2"},{name:"h3",text:this._t("title")+" 3",param:"h3"},{name:"h4",text:this._t("title")+" 4",param:"h4"},{name:"h5",text:this._t("title")+" 5",param:"h5"}],n.__super__._init.call(this)},n.prototype.setActive=function(t,e){if(n.__super__.setActive.call(this,t),t&&(e||(e=this.node[0].tagName.toLowerCase())),this.el.removeClass("active-p active-h1 active-h2 active-h3 active-h4 active-h5"),t)return this.el.addClass("active active-"+e)},n.prototype.command=function(e){var n;return n=this.editor.selection.rootNodes(),this.editor.selection.save(),n.each(function(n){return function(r,i){var o;if(o=t(i),!(o.is("blockquote")||o.is(e)||o.is(n.disableTag)||n.editor.util.isDecoratedNode(o)))return t("<"+e+"/>").append(o.contents()).replaceAll(o)}}(this)),this.editor.selection.restore(),this.editor.trigger("valuechanged")},n}(a),I.Toolbar.addButton(L),d=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return B(n,e),n.prototype.name="fontScale",n.prototype.icon="font",n.prototype.disableTag="pre",n.prototype.htmlTag="span",n.prototype.sizeMap={"x-large":"1.5em",large:"1.25em",small:".75em","x-small":".5em"},n.prototype._init=function(){return this.menu=[{name:"150%",text:this._t("fontScaleXLarge"),param:"5"},{name:"125%",text:this._t("fontScaleLarge"),param:"4"},{name:"100%",text:this._t("fontScaleNormal"),param:"3"},{name:"75%",text:this._t("fontScaleSmall"),param:"2"},{name:"50%",text:this._t("fontScaleXSmall"),param:"1"}],n.__super__._init.call(this)},n.prototype._activeStatus=function(){var t,e,n,r,i;return this.editor.selection.range(),i=this.editor.selection.startNodes(),n=this.editor.selection.endNodes(),r=i.filter('span[style*="font-size"]'),e=n.filter('span[style*="font-size"]'),t=i.length>0&&n.length>0&&r.is(e),this.setActive(t),this.active},n.prototype.command=function(e){var n,r,i;if(i=this.editor.selection.range(),!i.collapsed)return document.execCommand("styleWithCSS",!1,!0),document.execCommand("fontSize",!1,e),document.execCommand("styleWithCSS",!1,!1),this.editor.selection.reset(),this.editor.selection.range(),r=this.editor.selection.containerNode(),n=r[0].nodeType===Node.TEXT_NODE?r.closest('span[style*="font-size"]'):r.find('span[style*="font-size"]'),n.each(function(e){return function(n,r){var i,o;return i=t(r),o=r.style.fontSize,/large|x-large|small|x-small/.test(o)?i.css("fontSize",e.sizeMap[o]):"medium"===o?i.replaceWith(i.contents()):void 0}}(this)),this.editor.trigger("valuechanged")},n}(a),I.Toolbar.addButton(d),s=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return B(n,e),n.prototype.name="bold",n.prototype.icon="bold",n.prototype.htmlTag="b, strong",n.prototype.disableTag="pre",n.prototype.shortcut="cmd+b",n.prototype._init=function(){return this.editor.util.os.mac?this.title=this.title+" ( Cmd + b )":(this.title=this.title+" ( Ctrl + b )",this.shortcut="ctrl+b"),n.__super__._init.call(this)},n.prototype._activeStatus=function(){var t;return t=!0===document.queryCommandState("bold"),this.setActive(t),this.active},n.prototype.command=function(){return document.execCommand("bold"),this.editor.util.support.oninput||this.editor.trigger("valuechanged"),t(document).trigger("selectionchange")},n}(a),I.Toolbar.addButton(s),_=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return B(n,e),n.prototype.name="italic",n.prototype.icon="italic",n.prototype.htmlTag="i",n.prototype.disableTag="pre",n.prototype.shortcut="cmd+i",n.prototype._init=function(){return this.editor.util.os.mac?this.title=this.title+" ( Cmd + i )":(this.title=this.title+" ( Ctrl + i )",this.shortcut="ctrl+i"),n.__super__._init.call(this)},n.prototype._activeStatus=function(){var t;return t=!0===document.queryCommandState("italic"),this.setActive(t),this.active},n.prototype.command=function(){return document.execCommand("italic"),this.editor.util.support.oninput||this.editor.trigger("valuechanged"),t(document).trigger("selectionchange")},n}(a),I.Toolbar.addButton(_),P=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return B(n,e),n.prototype.name="underline",n.prototype.icon="underline",n.prototype.htmlTag="u",n.prototype.disableTag="pre",n.prototype.shortcut="cmd+u",n.prototype.render=function(){return this.editor.util.os.mac?this.title=this.title+" ( Cmd + u )":(this.title=this.title+" ( Ctrl + u )",this.shortcut="ctrl+u"),n.__super__.render.call(this)},n.prototype._activeStatus=function(){var t;return t=!0===document.queryCommandState("underline"),this.setActive(t),this.active},n.prototype.command=function(){return document.execCommand("underline"),this.editor.util.support.oninput||this.editor.trigger("valuechanged"),t(document).trigger("selectionchange")},n}(a),I.Toolbar.addButton(P),p=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return B(n,e),n.prototype.name="color",n.prototype.icon="tint",n.prototype.disableTag="pre",n.prototype.menu=!0,n.prototype.render=function(){var t;return t=1<=arguments.length?F.call(arguments,0):[],n.__super__.render.apply(this,t)},n.prototype.renderMenu=function(){return t('<ul class="color-list">\n  <li><a href="javascript:;" class="font-color font-color-1"></a></li>\n  <li><a href="javascript:;" class="font-color font-color-2"></a></li>\n  <li><a href="javascript:;" class="font-color font-color-3"></a></li>\n  <li><a href="javascript:;" class="font-color font-color-4"></a></li>\n  <li><a href="javascript:;" class="font-color font-color-5"></a></li>\n  <li><a href="javascript:;" class="font-color font-color-6"></a></li>\n  <li><a href="javascript:;" class="font-color font-color-7"></a></li>\n  <li><a href="javascript:;" class="font-color font-color-default"></a></li>\n</ul>').appendTo(this.menuWrapper),this.menuWrapper.on("mousedown",".color-list",function(){return!1}),this.menuWrapper.on("click",".font-color",function(e){return function(n){var r,i,o,s,a,u;if(e.wrapper.removeClass("menu-on"),r=t(n.currentTarget),r.hasClass("font-color-default")){if(i=e.editor.body.find("p, li"),!(i.length>0))return;a=window.getComputedStyle(i[0],null).getPropertyValue("color"),o=e._convertRgbToHex(a)}else a=window.getComputedStyle(r[0],null).getPropertyValue("background-color"),o=e._convertRgbToHex(a);if(o)return s=e.editor.selection.range(),!r.hasClass("font-color-default")&&s.collapsed&&(u=document.createTextNode(e._t("coloredText")),s.insertNode(u),s.selectNodeContents(u),e.editor.selection.range(s)),document.execCommand("styleWithCSS",!1,!0),document.execCommand("foreColor",!1,o),document.execCommand("styleWithCSS",!1,!1),e.editor.util.support.oninput?void 0:e.editor.trigger("valuechanged")}}(this))},n.prototype._convertRgbToHex=function(t){var e,n;return n=/rgb\((\d+),\s?(\d+),\s?(\d+)\)/g,(e=n.exec(t))?function(t,e,n){var r;return"#"+(r=function(t){var e;return e=t.toString(16),1===e.length?"0"+e:e})(t)+r(e)+r(n)}(1*e[1],1*e[2],1*e[3]):""},n}(a),I.Toolbar.addButton(p),x=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return B(n,e),n.prototype.type="",n.prototype.disableTag="pre, table",n.prototype.command=function(){var e,n,r;return n=this.editor.selection.blockNodes(),r="ul"===this.type?"ol":"ul",this.editor.selection.save(),e=null,n.each(function(n){return function(i,o){var s;if(s=t(o),!(s.is("blockquote, li")||s.is(n.disableTag)||n.editor.util.isDecoratedNode(s))&&t.contains(document,o))return s.is(n.type)?(s.children("li").each(function(e,r){var i;return i=t(r),i.children("ul, ol").insertAfter(s),t("<p/>").append(t(r).html()||n.editor.util.phBr).insertBefore(s)}),s.remove()):s.is(r)?t("<"+n.type+"/>").append(s.contents()).replaceAll(s):e&&s.prev().is(e)?(t("<li/>").append(s.html()||n.editor.util.phBr).appendTo(e),s.remove()):(e=t("<"+n.type+"><li></li></"+n.type+">"),e.find("li").append(s.html()||n.editor.util.phBr),e.replaceAll(s))}}(this)),this.editor.selection.restore(),this.editor.trigger("valuechanged")},n}(a),S=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return B(e,t),e.prototype.type="ol",e.prototype.name="ol",e.prototype.icon="list-ol",e.prototype.htmlTag="ol",e.prototype.shortcut="cmd+/",e.prototype._init=function(){return this.editor.util.os.mac?this.title=this.title+" ( Cmd + / )":(this.title=this.title+" ( ctrl + / )",this.shortcut="ctrl+/"),e.__super__._init.call(this)},e}(x),M=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return B(e,t),e.prototype.type="ul",e.prototype.name="ul",e.prototype.icon="list-ul",e.prototype.htmlTag="ul",e.prototype.shortcut="cmd+.",e.prototype._init=function(){return this.editor.util.os.mac?this.title=this.title+" ( Cmd + . )":(this.title=this.title+" ( Ctrl + . )",this.shortcut="ctrl+."),e.__super__._init.call(this)},e}(x),I.Toolbar.addButton(S),I.Toolbar.addButton(M),o=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return B(n,e),n.prototype.name="blockquote",n.prototype.icon="quote-left",n.prototype.htmlTag="blockquote",n.prototype.disableTag="pre, table",n.prototype.command=function(){var e,n,r;return e=this.editor.selection.rootNodes(),e=e.filter(function(e,n){return!t(n).parent().is("blockquote")}),this.editor.selection.save(),r=[],n=function(e){return function(){if(r.length>0)return t("<"+e.htmlTag+"/>").insertBefore(r[0]).append(r),r.length=0}}(this),e.each(function(e){return function(i,o){var s;if(s=t(o),s.parent().is(e.editor.body))return s.is(e.htmlTag)?(n(),s.children().unwrap()):s.is(e.disableTag)||e.editor.util.isDecoratedNode(s)?n():r.push(o)}}(this)),n(),this.editor.selection.restore(),this.editor.trigger("valuechanged")},n}(a),I.Toolbar.addButton(o),l=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return B(n,e),n.prototype.name="code",n.prototype.icon="code",n.prototype.htmlTag="pre",n.prototype.disableTag="ul, ol, table",n.prototype._init=function(){return n.__super__._init.call(this),this.editor.on("decorate",function(e){return function(n,r){return r.find("pre").each(function(n,r){return e.decorate(t(r))})}}(this)),this.editor.on("undecorate",function(e){return function(n,r){return r.find("pre").each(function(n,r){return e.undecorate(t(r))})}}(this))},n.prototype.render=function(){var t;return t=1<=arguments.length?F.call(arguments,0):[],n.__super__.render.apply(this,t),this.popover=new c({button:this})},n.prototype._checkMode=function(){var e;return e=this.editor.selection.range(),t(e.cloneContents()).find(this.editor.util.blockNodes.join(","))>0||e.collapsed&&0===this.editor.selection.startNodes().filter("code").length?(this.inlineMode=!1,this.htmlTag="pre"):(this.inlineMode=!0,this.htmlTag="code")},n.prototype._status=function(){if(this._checkMode(),n.__super__._status.call(this),!this.inlineMode)return this.active?this.popover.show(this.node):this.popover.hide()},n.prototype.decorate=function(t){var e,n,r,i;if(e=t.find("> code"),e.length>0&&(n=null!=(r=e.attr("class"))&&null!=(i=r.match(/lang-(\S+)/))?i[1]:void 0,e.contents().unwrap(),n))return t.attr("data-lang",n)},n.prototype.undecorate=function(e){var n,r;return r=e.attr("data-lang"),n=t("<code/>"),r&&-1!=r?(n.addClass("lang-"+r),n.addClass("line-numbers")):n.removeClass("line-numbers"),e.wrapInner(n).removeAttr("data-lang")},n.prototype.command=function(){return this.inlineMode?this._inlineCommand():this._blockCommand()},n.prototype._blockCommand=function(){var e,n,r,i;return e=this.editor.selection.rootNodes(),r=[],i=[],n=function(e){return function(){var n;if(r.length>0)return n=t("<"+e.htmlTag+"/>").insertBefore(r[0]).text(e.editor.formatter.clearHtml(r)),i.push(n[0]),r.length=0}}(this),e.each(function(e){return function(o,s){var a,u;return a=t(s),a.is(e.htmlTag)?(n(),u=t("<p/>").append(a.html().replace("\n","<br/>")).replaceAll(a),i.push(u[0])):a.is(e.disableTag)||e.editor.util.isDecoratedNode(a)||a.is("blockquote")?n():r.push(s)}}(this)),n(),this.editor.selection.setRangeAtEndOf(t(i).last()),this.editor.trigger("valuechanged")},n.prototype._inlineCommand=function(){var e,n,r;return r=this.editor.selection.range(),this.active?(r.selectNodeContents(this.node[0]),this.editor.selection.save(r),this.node.contents().unwrap(),this.editor.selection.restore()):(n=t(r.extractContents()),e=t("<"+this.htmlTag+"/>").append(n.contents()),r.insertNode(e[0]),r.selectNodeContents(e[0]),this.editor.selection.range(r)),this.editor.trigger("valuechanged")},n}(a),c=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return B(n,e),n.prototype.render=function(){var e,n,r,i;for(this._tpl='<div class="code-settings">\n  <div class="settings-field">\n    <select class="select-lang">\n      <option value="-1">'+this._t("selectLanguage")+"</option>\n    </select>\n  </div>\n</div>",this.langs=this.editor.opts.codeLanguages||[{name:"ASP.NET",value:"aspnet"},{name:"Bash",value:"bash"},{name:"Basic",value:"basic"},{name:"Batch",value:"batch"},{name:"C",value:"c"},{name:"C#",value:"csharp"},{name:"C++",value:"c++"},{name:"CSS",value:"css"},{name:"CoffeeScript",value:"coffeescript"},{name:"Diff",value:"diff"},{name:"Erlang",value:"erlang"},{name:"Go",value:"go"},{name:"Groovy",value:"groovy"},{name:"HTML,XML",value:"html"},{name:"JSON",value:"json"},{name:"Java",value:"java"},{name:"JavaScript",value:"js"},{name:"Kotlin",value:"kotlin"},{name:"Less",value:"less"},{name:"Lisp",value:"lisp"},{name:"Lua",value:"lua"},{name:"Markdown",value:"markdown"},{name:"Markup",value:"markup"},{name:"Matlab",value:"matlab"},{name:"NASM",value:"nasm"},{name:"Objective C",value:"objectivec"},{name:"PHP",value:"php"},{name:"PL/SQL",value:"plsql"},{name:"Perl",value:"parl"},{name:"PowerShell",value:"powershell"},{name:"Python",value:"python"},{name:"R",value:"r"},{name:"Ruby",value:"ruby"},{name:"Rust",value:"rust"},{name:"SQL",value:"sql"},{name:"Sass",value:"sass"},{name:"Scala",value:"scala"},{name:"Scss",value:"scss"},{name:"Smali",value:"smali"},{name:"Swift",value:"swift"},{name:"TypeScript",value:"typescript"},{name:"VB.NET",value:"vbnet"},{name:"VisualBasic",value:"visual-basic"},{name:"Yaml",value:"yaml"}],this.el.addClass("code-popover").append(this._tpl),this.selectEl=this.el.find(".select-lang"),i=this.langs,e=0,r=i.length;e<r;e++)n=i[e],t("<option/>",{text:n.name,value:n.value}).appendTo(this.selectEl);return this.selectEl.on("change",function(t){return function(){var e;return t.lang=t.selectEl.val(),e=t.target.hasClass("selected"),t.target.removeClass().removeAttr("data-lang"),-1!==t.lang&&t.target.attr("data-lang",t.lang),e&&t.target.addClass("selected"),t.editor.trigger("valuechanged")}}(this)),this.editor.on("valuechanged",function(t){return function(){if(t.active)return t.refresh()}}(this))},n.prototype.show=function(){var t;return t=1<=arguments.length?F.call(arguments,0):[],n.__super__.show.apply(this,t),this.lang=this.target.attr("data-lang"),null!=this.lang?this.selectEl.val(this.lang):this.selectEl.val(-1)},n}(A),I.Toolbar.addButton(l),E=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return B(n,e),n.prototype.name="link",n.prototype.icon="link",n.prototype.htmlTag="a",n.prototype.disableTag="pre",n.prototype.render=function(){var t;return t=1<=arguments.length?F.call(arguments,0):[],n.__super__.render.apply(this,t),this.popover=new T({button:this})},n.prototype._status=function(){return n.__super__._status.call(this),this.active&&!this.editor.selection.rangeAtEndOf(this.node)?this.popover.show(this.node):this.popover.hide()},n.prototype.command=function(){var e,n,r,i,o,s;return o=this.editor.selection.range(),this.active?(s=document.createTextNode(this.node.text()),this.node.replaceWith(s),o.selectNode(s)):(e=t(o.extractContents()),i=this.editor.formatter.clearHtml(e.contents(),!1),n=t("<a/>",{href:"http://www.example.com",target:"_blank",text:i||this._t("linkText")}),this.editor.selection.blockNodes().length>0?o.insertNode(n[0]):(r=t("<p/>").append(n),o.insertNode(r[0])),o.selectNodeContents(n[0]),this.popover.one("popovershow",function(t){return function(){return i?(t.popover.urlEl.focus(),t.popover.urlEl[0].select()):(t.popover.textEl.focus(),t.popover.textEl[0].select())}}(this))),this.editor.selection.range(o),this.editor.trigger("valuechanged")},n}(a),T=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return B(n,e),n.prototype.render=function(){var e;return e='<div class="link-settings">\n  <div class="settings-field">\n    <label>'+this._t("linkText")+'</label>\n    <input class="link-text" type="text"/>\n    <a class="btn-unlink" href="javascript:;" title="'+this._t("removeLink")+'"\n      tabindex="-1">\n      <span class="simditor-icon simditor-icon-unlink"></span>\n    </a>\n  </div>\n  <div class="settings-field">\n    <label>'+this._t("linkUrl")+'</label>\n    <input class="link-url" type="text"/>\n  </div>\n  <div class="settings-field">\n    <label>'+this._t("linkTarget")+'</label>\n    <select class="link-target">\n      <option value="_blank">'+this._t("openLinkInNewWindow")+' (_blank)</option>\n      <option value="_self">'+this._t("openLinkInCurrentWindow")+" (_self)</option>\n    </select>\n  </div>\n</div>",this.el.addClass("link-popover").append(e),this.textEl=this.el.find(".link-text"),this.urlEl=this.el.find(".link-url"),this.unlinkEl=this.el.find(".btn-unlink"),this.selectTarget=this.el.find(".link-target"),this.textEl.on("keyup",function(t){return function(e){if(13!==e.which)return t.target.text(t.textEl.val()),t.editor.inputManager.throttledValueChanged()}}(this)),this.urlEl.on("keyup",function(t){return function(e){var n;if(13!==e.which)return n=t.urlEl.val(),!/https?:\/\/|^\//gi.test(n)&&n&&(n="http://"+n),t.target.attr("href",n),t.editor.inputManager.throttledValueChanged()}}(this)),t([this.urlEl[0],this.textEl[0]]).on("keydown",function(e){return function(n){var r;if(13===n.which||27===n.which||!n.shiftKey&&9===n.which&&t(n.target).hasClass("link-url"))return n.preventDefault(),r=document.createRange(),e.editor.selection.setRangeAfter(e.target,r),e.hide(),e.editor.inputManager.throttledValueChanged()}}(this)),this.unlinkEl.on("click",function(t){return function(){var e,n;return n=document.createTextNode(t.target.text()),t.target.replaceWith(n),t.hide(),e=document.createRange(),t.editor.selection.setRangeAfter(n,e),t.editor.inputManager.throttledValueChanged()}}(this)),this.selectTarget.on("change",function(t){return function(){return t.target.attr("target",t.selectTarget.val()),t.editor.inputManager.throttledValueChanged()}}(this))},n.prototype.show=function(){var t;return t=1<=arguments.length?F.call(arguments,0):[],n.__super__.show.apply(this,t),this.textEl.val(this.target.text()),this.urlEl.val(this.target.attr("href"))},n}(A),I.Toolbar.addButton(E),m=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return B(n,e),n.prototype.name="image",n.prototype.icon="picture-o",n.prototype.htmlTag="img",n.prototype.disableTag="pre, table",n.prototype.defaultImage="",n.prototype.needFocus=!1,n.prototype._init=function(){var e,r,i,o;if(this.editor.opts.imageButton)if(Array.isArray(this.editor.opts.imageButton))for(this.menu=[],o=this.editor.opts.imageButton,r=0,i=o.length;r<i;r++)e=o[r],this.menu.push({name:e+"-image",text:this._t(e+"Image")});else this.menu=!1;else null!=this.editor.uploader?this.menu=[{name:"upload-image",text:this._t("uploadImage")},{name:"external-image",text:this._t("externalImage")}]:this.menu=!1;return this.defaultImage=this.editor.opts.defaultImage,this.editor.body.on("click","img:not([data-non-image])",function(e){return function(n){var r,i;return r=t(n.currentTarget),i=document.createRange(),i.selectNode(r[0]),e.editor.selection.range(i),e.editor.util.support.onselectionchange||e.editor.trigger("selectionchanged"),!1}}(this)),this.editor.body.on("mouseup","img:not([data-non-image])",function(){return!1}),this.editor.on("selectionchanged.image",function(e){return function(){var n,r,i;if(null!=(i=e.editor.selection.range()))return n=t(i.cloneContents()).contents(),1===n.length&&n.is("img:not([data-non-image])")?(r=t(i.startContainer).contents().eq(i.startOffset),e.popover.show(r)):e.popover.hide()}}(this)),this.editor.on("valuechanged.image",function(e){return function(){var n;if(n=e.editor.wrapper.find(".simditor-image-loading"),n.length>0)return n.each(function(n,r){var i,o,s;if(o=t(r),!((i=o.data("img"))&&i.parent().length>0)&&(o.remove(),i&&(s=i.data("file"))&&(e.editor.uploader.cancel(s),e.editor.body.find("img.uploading").length<1)))return e.editor.uploader.trigger("uploadready",[s])})}}(this)),n.__super__._init.call(this)},n.prototype.render=function(){var t;if(t=1<=arguments.length?F.call(arguments,0):[],n.__super__.render.apply(this,t),this.popover=new g({button:this}),"upload"===this.editor.opts.imageButton)return this._initUploader(this.el)},n.prototype.renderMenu=function(){return n.__super__.renderMenu.call(this),this._initUploader()},n.prototype._initUploader=function(e){var n,r,i;return null==e&&(e=this.menuEl.find(".menu-item-upload-image")),null==this.editor.uploader?void this.el.find(".btn-upload").remove():(n=null,r=function(r){return function(){return n&&n.remove(),n=t("<input/>",{type:"file",title:r._t("uploadImage"),multiple:!0,accept:"image/*"}).appendTo(e)}}(this),r(),e.on("click mousedown","input[type=file]",function(t){return t.stopPropagation()}),e.on("change","input[type=file]",function(t){return function(){return t.editor.inputManager.focused?(t.editor.uploader.upload(n,{inline:!0}),r()):(t.editor.one("focus",function(){return t.editor.uploader.upload(n,{inline:!0}),r()}),t.editor.focus()),t.wrapper.removeClass("menu-on")}}(this)),this.editor.uploader.on("beforeupload",function(e){return function(n,r){var i;if(r.inline)return r.img?i=t(r.img):(i=e.createImage(r.name),r.img=i),i.addClass("uploading"),i.data("file",r),e.editor.uploader.readImageFile(r.obj,function(t){var n;if(i.hasClass("uploading"))return n=t?t.src:e.defaultImage,e.loadImage(i,n,function(){if(e.popover.active)return e.popover.refresh(),e.popover.srcEl.val(e._t("uploading")).prop("disabled",!0)})})}}(this)),i=t.proxy(this.editor.util.throttle(function(t,e,n,r){var i,o,s;if(e.inline&&(o=e.img.data("mask")))return i=o.data("img"),i.hasClass("uploading")&&i.parent().length>0?(s=n/r,
s=(100*s).toFixed(0),s>99&&(s=99),o.find(".progress").height(100-s+"%")):void o.remove()},500),this),this.editor.uploader.on("uploadprogress",i),this.editor.uploader.on("uploadsuccess",function(e){return function(n,r,i){var o,s,a;if(r.inline&&(o=r.img,o.hasClass("uploading")&&o.parent().length>0)){if("object"!=typeof i)try{i=t.parseJSON(i)}catch(t){t,i={success:!1}}return!1===i.success?(a=i.msg||e._t("uploadFailed"),alert(a),s=e.defaultImage):s=i.file_path,e.loadImage(o,s,function(){var t;if(o.removeData("file"),o.removeClass("uploading").removeClass("loading"),t=o.data("mask"),t&&t.remove(),o.removeData("mask"),e.editor.trigger("valuechanged"),e.editor.body.find("img.uploading").length<1)return e.editor.uploader.trigger("uploadready",[r,i])}),e.popover.active?(e.popover.srcEl.prop("disabled",!1),e.popover.srcEl.val(i.file_path)):void 0}}}(this)),this.editor.uploader.on("uploaderror",function(e){return function(n,r,i){var o,s,a;if(r.inline&&"abort"!==i.statusText){if(i.responseText){try{a=t.parseJSON(i.responseText),s=a.msg}catch(t){t,s=e._t("uploadError")}alert(s)}if(o=r.img,o.hasClass("uploading")&&o.parent().length>0)return e.loadImage(o,e.defaultImage,function(){var t;return o.removeData("file"),o.removeClass("uploading").removeClass("loading"),t=o.data("mask"),t&&t.remove(),o.removeData("mask")}),e.popover.active&&(e.popover.srcEl.prop("disabled",!1),e.popover.srcEl.val(e.defaultImage)),e.editor.trigger("valuechanged"),e.editor.body.find("img.uploading").length<1?e.editor.uploader.trigger("uploadready",[r,a]):void 0}}}(this)))},n.prototype._status=function(){return this._disableStatus()},n.prototype.loadImage=function(e,n,r){var i,o,s;return s=function(t){return function(){var n,r;return n=e.offset(),r=t.editor.wrapper.offset(),i.css({top:n.top-r.top,left:n.left-r.left,width:e.width(),height:e.height()}).show()}}(this),e.addClass("loading"),i=e.data("mask"),i||(i=t('<div class="simditor-image-loading">\n  <div class="progress"></div>\n</div>').hide().appendTo(this.editor.wrapper),s(),e.data("mask",i),i.data("img",e)),o=new Image,o.onload=function(a){return function(){if(e.hasClass("loading")||e.hasClass("uploading"))return e.attr({src:n}).removeClass("loading"),e.addClass("simditor-image-uploaded"),e.hasClass("uploading")?(a.editor.util.reflow(a.editor.body),s()):(i.remove(),e.removeData("mask")),t.isFunction(r)?r(o):void 0}}(this),o.onerror=function(){return t.isFunction(r)&&r(!1),i.remove(),e.removeData("mask").removeClass("loading")},o.src=n},n.prototype.createImage=function(e){var n,r;return null==e&&(e="Image"),this.editor.inputManager.focused||this.editor.focus(),r=this.editor.selection.range(),r.deleteContents(),this.editor.selection.range(r),n=t("<img/>").attr("alt",e),r.insertNode(n[0]),this.editor.selection.setRangeAfter(n,r),this.editor.trigger("valuechanged"),n},n.prototype.command=function(t){var e;return e=this.createImage(),this.loadImage(e,t||this.defaultImage,function(t){return function(){return t.editor.trigger("valuechanged"),t.editor.util.reflow(e),e.click(),t.popover.one("popovershow",function(){return t.popover.srcEl.focus(),t.popover.srcEl[0].select()})}}(this))},n}(a),g=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return B(n,e),n.prototype.offset={top:6,left:-4},n.prototype.render=function(){var e;return e='<div class="link-settings">\n  <div class="settings-field">\n    <label>'+this._t("imageUrl")+'</label>\n    <input class="image-src" type="text" tabindex="1" />\n    <a class="btn-upload" href="javascript:;"\n      title="'+this._t("uploadImage")+'" tabindex="-1">\n      <span class="simditor-icon simditor-icon-upload"></span>\n    </a>\n  </div>\n  <div class=\'settings-field\'>\n    <label>'+this._t("imageAlt")+'</label>\n    <input class="image-alt" id="image-alt" type="text" tabindex="1" />\n  </div>\n  <div class="settings-field">\n    <label>'+this._t("imageSize")+'</label>\n    <input class="image-size" id="image-width" type="text" tabindex="2" />\n    <span class="times">\xd7</span>\n    <input class="image-size" id="image-height" type="text" tabindex="3" />\n    <a class="btn-restore" href="javascript:;"\n      title="'+this._t("restoreImageSize")+'" tabindex="-1">\n      <span class="simditor-icon simditor-icon-undo"></span>\n    </a>\n  </div>\n</div>',this.el.addClass("image-popover").append(e),this.srcEl=this.el.find(".image-src"),this.widthEl=this.el.find("#image-width"),this.heightEl=this.el.find("#image-height"),this.altEl=this.el.find("#image-alt"),this.srcEl.on("keydown",function(t){return function(e){var n;if(13===e.which&&!t.target.hasClass("uploading"))return e.preventDefault(),n=document.createRange(),t.button.editor.selection.setRangeAfter(t.target,n),t.hide()}}(this)),this.srcEl.on("blur",function(t){return function(){return t._loadImage(t.srcEl.val())}}(this)),this.el.find(".image-size").on("blur",function(e){return function(n){return e._resizeImg(t(n.currentTarget)),e.el.data("popover").refresh()}}(this)),this.el.find(".image-size").on("keyup",function(e){return function(n){var r;if(r=t(n.currentTarget),13!==n.which&&27!==n.which&&9!==n.which)return e._resizeImg(r,!0)}}(this)),this.el.find(".image-size").on("keydown",function(e){return function(n){var r,i,o;return i=t(n.currentTarget),13===n.which||27===n.which?(n.preventDefault(),13===n.which?e._resizeImg(i):e._restoreImg(),r=e.target,e.hide(),o=document.createRange(),e.button.editor.selection.setRangeAfter(r,o)):9===n.which?e.el.data("popover").refresh():void 0}}(this)),this.altEl.on("keydown",function(t){return function(e){var n;if(13===e.which)return e.preventDefault(),n=document.createRange(),t.button.editor.selection.setRangeAfter(t.target,n),t.hide()}}(this)),this.altEl.on("keyup",function(t){return function(e){if(13!==e.which&&27!==e.which&&9!==e.which)return t.alt=t.altEl.val(),t.target.attr("alt",t.alt)}}(this)),this.el.find(".btn-restore").on("click",function(t){return function(){return t._restoreImg(),t.el.data("popover").refresh()}}(this)),this.editor.on("valuechanged",function(t){return function(){if(t.active)return t.refresh()}}(this)),this._initUploader()},n.prototype._initUploader=function(){var e,n;return e=this.el.find(".btn-upload"),null==this.editor.uploader?void e.remove():(n=function(n){return function(){return n.input&&n.input.remove(),n.input=t("<input/>",{type:"file",title:n._t("uploadImage"),multiple:!0,accept:"image/*"}).appendTo(e)}}(this),n(),this.el.on("click mousedown","input[type=file]",function(t){return t.stopPropagation()}),this.el.on("change","input[type=file]",function(t){return function(){return t.editor.uploader.upload(t.input,{inline:!0,img:t.target}),n()}}(this)))},n.prototype._resizeImg=function(e,n){var r,i,o;if(null==n&&(n=!1),i=1*e.val(),this.target&&(t.isNumeric(i)||i<0))return e.is(this.widthEl)?(o=i,r=this.height*i/this.width,this.heightEl.val(r)):(r=i,o=this.width*i/this.height,this.widthEl.val(o)),n?void 0:(this.target.attr({width:o,height:r}),this.editor.trigger("valuechanged"))},n.prototype._restoreImg=function(){var t,e;return e=(null!=(t=this.target.data("image-size"))?t.split(","):void 0)||[this.width,this.height],this.target.attr({width:1*e[0],height:1*e[1]}),this.widthEl.val(e[0]),this.heightEl.val(e[1]),this.editor.trigger("valuechanged")},n.prototype._loadImage=function(t,e){if(/^data:image/.test(t)&&!this.editor.uploader)return void(e&&e(!1));if(this.target.attr("src")!==t)return this.button.loadImage(this.target,t,function(n){return function(r){var i;if(r)return n.active&&(n.width=r.width,n.height=r.height,n.widthEl.val(n.width),n.heightEl.val(n.height)),/^data:image/.test(t)?(i=n.editor.util.dataURLtoBlob(t),i.name="Base64 Image.png",n.editor.uploader.upload(i,{inline:!0,img:n.target})):n.editor.trigger("valuechanged"),e?e(r):void 0}}(this))},n.prototype.show=function(){var t,e;return e=1<=arguments.length?F.call(arguments,0):[],n.__super__.show.apply(this,e),t=this.target,this.width=t.width(),this.height=t.height(),this.alt=t.attr("alt"),t.hasClass("uploading")?this.srcEl.val(this._t("uploading")).prop("disabled",!0):(this.srcEl.val(t.attr("src")).prop("disabled",!1),this.widthEl.val(this.width),this.heightEl.val(this.height),this.altEl.val(this.alt))},n}(A),I.Toolbar.addButton(m),y=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return B(e,t),e.prototype.name="indent",e.prototype.icon="indent",e.prototype._init=function(){return this.title=this._t(this.name)+" (Tab)",e.__super__._init.call(this)},e.prototype._status=function(){},e.prototype.command=function(){return this.editor.indentation.indent()},e}(a),I.Toolbar.addButton(y),C=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return B(e,t),e.prototype.name="outdent",e.prototype.icon="outdent",e.prototype._init=function(){return this.title=this._t(this.name)+" (Shift + Tab)",e.__super__._init.call(this)},e.prototype._status=function(){},e.prototype.command=function(){return this.editor.indentation.indent(!0)},e}(a),I.Toolbar.addButton(C),f=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return B(n,e),n.prototype.name="hr",n.prototype.icon="minus",n.prototype.htmlTag="hr",n.prototype._status=function(){},n.prototype.command=function(){var e,n,r,i;return i=this.editor.selection.rootNodes().first(),r=i.next(),r.length>0?this.editor.selection.save():n=t("<p/>").append(this.editor.util.phBr),e=t("<hr/>").insertAfter(i),n?(n.insertAfter(e),this.editor.selection.setRangeAtStartOf(n)):this.editor.selection.restore(),this.editor.trigger("valuechanged")},n}(a),I.Toolbar.addButton(f),R=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return B(n,e),n.prototype.name="table",n.prototype.icon="table",n.prototype.htmlTag="table",n.prototype.disableTag="pre, li, blockquote",n.prototype.menu=!0,n.prototype._init=function(){return n.__super__._init.call(this),t.merge(this.editor.formatter._allowedTags,["thead","th","tbody","tr","td","colgroup","col"]),t.extend(this.editor.formatter._allowedAttributes,{td:["rowspan","colspan"],col:["width"]}),t.extend(this.editor.formatter._allowedStyles,{td:["text-align"],th:["text-align"]}),this._initShortcuts(),this.editor.on("decorate",function(e){return function(n,r){return r.find("table").each(function(n,r){return e.decorate(t(r))})}}(this)),this.editor.on("undecorate",function(e){return function(n,r){return r.find("table").each(function(n,r){return e.undecorate(t(r))})}}(this)),this.editor.on("selectionchanged.table",function(t){return function(){var e,n;if(t.editor.body.find(".simditor-table td, .simditor-table th").removeClass("active"),n=t.editor.selection.range())return e=t.editor.selection.containerNode(),n.collapsed&&e.is(".simditor-table")&&(e=t.editor.selection.rangeAtStartOf(e)?e.find("th:first"):e.find("td:last"),t.editor.selection.setRangeAtEndOf(e)),e.closest("td, th",t.editor.body).addClass("active")}}(this)),this.editor.on("blur.table",function(t){return function(){return t.editor.body.find(".simditor-table td, .simditor-table th").removeClass("active")}}(this)),this.editor.keystroke.add("up","td",function(t){return function(e,n){return t._tdNav(n,"up"),!0}}(this)),this.editor.keystroke.add("up","th",function(t){return function(e,n){return t._tdNav(n,"up"),!0}}(this)),this.editor.keystroke.add("down","td",function(t){return function(e,n){return t._tdNav(n,"down"),!0}}(this)),this.editor.keystroke.add("down","th",function(t){return function(e,n){return t._tdNav(n,"down"),!0}}(this))},n.prototype._tdNav=function(t,e){var n,r,i,o,s;return null==e&&(e="up"),i="up"===e?"prev":"next",s="up"===e?["tbody","thead"]:["thead","tbody"],s[0],s[1],r=t.parent("tr"),n=this["_"+i+"Row"](r),!(n.length>0)||(o=r.find("td, th").index(t),this.editor.selection.setRangeAtEndOf(n.find("td, th").eq(o)))},n.prototype._nextRow=function(t){var e;return e=t.next("tr"),e.length<1&&t.parent("thead").length>0&&(e=t.parent("thead").next("tbody").find("tr:first")),e},n.prototype._prevRow=function(t){var e;return e=t.prev("tr"),e.length<1&&t.parent("tbody").length>0&&(e=t.parent("tbody").prev("thead").find("tr")),e},n.prototype.initResize=function(e){var n,r,i;return i=e.parent(".simditor-table"),n=e.find("colgroup"),n.length<1&&(n=t("<colgroup/>").prependTo(e),e.find("thead tr th").each(function(){return t("<col/>").appendTo(n)}),this.refreshTableWidth(e)),r=t("<div />",{"class":"simditor-resize-handle",contenteditable:"false"}).appendTo(i),i.on("mousemove","td, th",function(e){var o,s,a,u,l,c;if(!i.hasClass("resizing"))return s=t(e.currentTarget),c=e.pageX-t(e.currentTarget).offset().left,c<5&&s.prev().length>0&&(s=s.prev()),s.next("td, th").length<1?void r.hide():(null!=(u=r.data("td"))?u.is(s):void 0)?void r.show():(a=s.parent().find("td, th").index(s),o=n.find("col").eq(a),(null!=(l=r.data("col"))?l.is(o):void 0)?void r.show():r.css("left",s.position().left+s.outerWidth()-5).data("td",s).data("col",o).show())}),i.on("mouseleave",function(){return r.hide()}),i.on("mousedown",".simditor-resize-handle",function(e){var n,r,o,s,a,u,l,c,p,d,h;return n=t(e.currentTarget),o=n.data("td"),r=n.data("col"),a=o.next("td, th"),s=r.next("col"),d=e.pageX,c=1*o.outerWidth(),p=1*a.outerWidth(),l=parseFloat(n.css("left")),h=o.closest("table").width(),u=50,t(document).on("mousemove.simditor-resize-table",function(t){var e,i,o;return e=t.pageX-d,i=c+e,o=p-e,i<u?(i=u,e=u-c,o=p-e):o<u&&(o=u,e=p-u,i=c+e),r.attr("width",i/h*100+"%"),s.attr("width",o/h*100+"%"),n.css("left",l+e)}),t(document).one("mouseup.simditor-resize-table",function(){return t(document).off(".simditor-resize-table"),i.removeClass("resizing")}),i.addClass("resizing"),!1})},n.prototype._initShortcuts=function(){return this.editor.hotkeys.add("ctrl+alt+up",function(t){return function(){return t.editMenu.find(".menu-item[data-param=insertRowAbove]").click(),!1}}(this)),this.editor.hotkeys.add("ctrl+alt+down",function(t){return function(){return t.editMenu.find(".menu-item[data-param=insertRowBelow]").click(),!1}}(this)),this.editor.hotkeys.add("ctrl+alt+left",function(t){return function(){return t.editMenu.find(".menu-item[data-param=insertColLeft]").click(),!1}}(this)),this.editor.hotkeys.add("ctrl+alt+right",function(t){return function(){return t.editMenu.find(".menu-item[data-param=insertColRight]").click(),!1}}(this))},n.prototype.decorate=function(e){var n,r,i;return e.parent(".simditor-table").length>0&&this.undecorate(e),e.wrap('<div class="simditor-table"></div>'),e.find("thead").length<1&&(i=t("<thead />"),n=e.find("tr").first(),i.append(n),this._changeCellTag(n,"th"),r=e.find("tbody"),r.length>0?r.before(i):e.prepend(i)),this.initResize(e),e.parent()},n.prototype.undecorate=function(t){if(t.parent(".simditor-table").length>0)return t.parent().replaceWith(t)},n.prototype.renderMenu=function(){var e;return t('<div class="menu-create-table">\n</div>\n<div class="menu-edit-table">\n  <ul>\n    <li>\n      <a tabindex="-1" unselectable="on" class="menu-item"\n        href="javascript:;" data-param="deleteRow">\n        <span>'+this._t("deleteRow")+'</span>\n      </a>\n    </li>\n    <li>\n      <a tabindex="-1" unselectable="on" class="menu-item"\n        href="javascript:;" data-param="insertRowAbove">\n        <span>'+this._t("insertRowAbove")+' ( Ctrl + Alt + \u2191 )</span>\n      </a>\n    </li>\n    <li>\n      <a tabindex="-1" unselectable="on" class="menu-item"\n        href="javascript:;" data-param="insertRowBelow">\n        <span>'+this._t("insertRowBelow")+' ( Ctrl + Alt + \u2193 )</span>\n      </a>\n    </li>\n    <li><span class="separator"></span></li>\n    <li>\n      <a tabindex="-1" unselectable="on" class="menu-item"\n        href="javascript:;" data-param="deleteCol">\n        <span>'+this._t("deleteColumn")+'</span>\n      </a>\n    </li>\n    <li>\n      <a tabindex="-1" unselectable="on" class="menu-item"\n        href="javascript:;" data-param="insertColLeft">\n        <span>'+this._t("insertColumnLeft")+' ( Ctrl + Alt + \u2190 )</span>\n      </a>\n    </li>\n    <li>\n      <a tabindex="-1" unselectable="on" class="menu-item"\n        href="javascript:;" data-param="insertColRight">\n        <span>'+this._t("insertColumnRight")+' ( Ctrl + Alt + \u2192 )</span>\n      </a>\n    </li>\n    <li><span class="separator"></span></li>\n    <li>\n      <a tabindex="-1" unselectable="on" class="menu-item"\n        href="javascript:;" data-param="deleteTable">\n        <span>'+this._t("deleteTable")+"</span>\n      </a>\n    </li>\n  </ul>\n</div>").appendTo(this.menuWrapper),this.createMenu=this.menuWrapper.find(".menu-create-table"),this.editMenu=this.menuWrapper.find(".menu-edit-table"),e=this.createTable(6,6).appendTo(this.createMenu),this.createMenu.on("mouseenter","td, th",function(n){return function(r){var i,o,s,a;return n.createMenu.find("td, th").removeClass("selected"),i=t(r.currentTarget),o=i.parent(),a=o.find("td, th").index(i)+1,s=o.prevAll("tr").addBack(),o.parent().is("tbody")&&(s=s.add(e.find("thead tr"))),s.find("td:lt("+a+"), th:lt("+a+")").addClass("selected")}}(this)),this.createMenu.on("mouseleave",function(e){return t(e.currentTarget).find("td, th").removeClass("selected")}),this.createMenu.on("mousedown","td, th",function(n){return function(r){var i,o,s,a,u;if(n.wrapper.removeClass("menu-on"),n.editor.inputManager.focused)return o=t(r.currentTarget),s=o.parent(),a=s.find("td").index(o)+1,u=s.prevAll("tr").length+1,s.parent().is("tbody")&&(u+=1),e=n.createTable(u,a,!0),i=n.editor.selection.blockNodes().last(),n.editor.util.isEmptyNode(i)?i.replaceWith(e):i.after(e),n.decorate(e),n.editor.selection.setRangeAtStartOf(e.find("th:first")),n.editor.trigger("valuechanged"),!1}}(this))},n.prototype.createTable=function(e,n,r){var i,o,s,a,u,l,c,p,d,h;for(i=t("<table/>"),a=t("<thead/>").appendTo(i),o=t("<tbody/>").appendTo(i),p=l=0,d=e;0<=d?l<d:l>d;p=0<=d?++l:--l)for(u=t("<tr/>"),u.appendTo(0===p?a:o),c=0,h=n;0<=h?c<h:c>h;0<=h?++c:--c)s=t(0===p?"<th/>":"<td/>").appendTo(u),r&&s.append(this.editor.util.phBr);return i},n.prototype.refreshTableWidth=function(e){var n,r;return r=e.width(),n=e.find("col"),e.find("thead tr th").each(function(e,i){var o;return o=n.eq(e),o.attr("width",t(i).outerWidth()/r*100+"%")})},n.prototype.setActive=function(t){return n.__super__.setActive.call(this,t),t?(this.createMenu.hide(),this.editMenu.show()):(this.createMenu.show(),this.editMenu.hide())},n.prototype._changeCellTag=function(e,n){return e.find("td, th").each(function(e,r){var i;return i=t(r),i.replaceWith("<"+n+">"+i.html()+"</"+n+">")})},n.prototype.deleteRow=function(t){var e,n,r;return n=t.parent("tr"),n.closest("table").find("tr").length<1?this.deleteTable(t):(e=this._nextRow(n),e.length>0||(e=this._prevRow(n)),r=n.find("td, th").index(t),n.parent().is("thead")&&(e.appendTo(n.parent()),this._changeCellTag(e,"th")),n.remove(),this.editor.selection.setRangeAtEndOf(e.find("td, th").eq(r)))},n.prototype.insertRow=function(e,n){var r,i,o,s,a,u,l,c;for(null==n&&(n="after"),o=e.parent("tr"),i=o.closest("table"),a=0,i.find("tr").each(function(e,n){return a=Math.max(a,t(n).find("td").length)}),u=o.find("td, th").index(e),r=t("<tr/>"),s="td","after"===n&&o.parent().is("thead")?o.parent().next("tbody").prepend(r):"before"===n&&o.parent().is("thead")?(o.before(r),o.parent().next("tbody").prepend(o),this._changeCellTag(o,"td"),s="th"):o[n](r),l=1,c=a;1<=c?l<=c:l>=c;1<=c?++l:--l)t("<"+s+"/>").append(this.editor.util.phBr).appendTo(r);return this.editor.selection.setRangeAtStartOf(r.find("td, th").eq(u))},n.prototype.deleteCol=function(e){var n,r,i,o,s,a;return i=e.parent("tr"),a=i.closest("table").find("tr").length<2,s=e.siblings("td, th").length<1,a&&s?this.deleteTable(e):(o=i.find("td, th").index(e),n=e.next("td, th"),n.length>0||(n=i.prev("td, th")),r=i.closest("table"),r.find("col").eq(o).remove(),r.find("tr").each(function(e,n){return t(n).find("td, th").eq(o).remove()}),this.refreshTableWidth(r),this.editor.selection.setRangeAtEndOf(n))},n.prototype.insertCol=function(e,n){var r,i,o,s,a,u,l,c;return null==n&&(n="after"),a=e.parent("tr"),u=a.find("td, th").index(e),s=e.closest("table"),r=s.find("col").eq(u),s.find("tr").each(function(e){return function(r,i){var o,s;return s=t(i).parent().is("thead")?"th":"td",o=t("<"+s+"/>").append(e.editor.util.phBr),t(i).find("td, th").eq(u)[n](o)}}(this)),i=t("<col/>"),r[n](i),l=s.width(),c=Math.max(parseFloat(r.attr("width"))/2,50/l*100),r.attr("width",c+"%"),i.attr("width",c+"%"),this.refreshTableWidth(s),o="after"===n?e.next("td, th"):e.prev("td, th"),this.editor.selection.setRangeAtStartOf(o)},n.prototype.deleteTable=function(t){var e,n;if(n=t.closest(".simditor-table"),e=n.next("p"),n.remove(),e.length>0)return this.editor.selection.setRangeAtStartOf(e)},n.prototype.command=function(t){var e;if(e=this.editor.selection.containerNode().closest("td, th"),e.length>0){if("deleteRow"===t)this.deleteRow(e);else if("insertRowAbove"===t)this.insertRow(e,"before");else if("insertRowBelow"===t)this.insertRow(e);else if("deleteCol"===t)this.deleteCol(e);else if("insertColLeft"===t)this.insertCol(e,"before");else if("insertColRight"===t)this.insertCol(e);else{if("deleteTable"!==t)return;this.deleteTable(e)}return this.editor.trigger("valuechanged")}},n}(a),I.Toolbar.addButton(R),D=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return B(n,e),n.prototype.name="strikethrough",n.prototype.icon="strikethrough",n.prototype.htmlTag="strike",n.prototype.disableTag="pre",n.prototype._activeStatus=function(){var t;return t=!0===document.queryCommandState("strikethrough"),this.setActive(t),this.active},n.prototype.command=function(){return document.execCommand("strikethrough"),this.editor.util.support.oninput||this.editor.trigger("valuechanged"),t(document).trigger("selectionchange")},n}(a),I.Toolbar.addButton(D),i=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return B(e,t),e.prototype.name="alignment",e.prototype.icon="align-left",e.prototype.htmlTag="p, h1, h2, h3, h4, td, th",e.prototype._init=function(){return this.menu=[{name:"left",text:this._t("alignLeft"),icon:"align-left",param:"left"},{name:"center",text:this._t("alignCenter"),icon:"align-center",param:"center"},{name:"right",text:this._t("alignRight"),icon:"align-right",param:"right"}],e.__super__._init.call(this)},e.prototype.setActive=function(t,n){return null==n&&(n="left"),"left"!==n&&"center"!==n&&"right"!==n&&(n="left"),"left"===n?e.__super__.setActive.call(this,!1):e.__super__.setActive.call(this,t),this.el.removeClass("align-left align-center align-right"),t&&this.el.addClass("align-"+n),this.setIcon("align-"+n),this.menuEl.find(".menu-item").show().end().find(".menu-item-"+n).hide()},e.prototype._status=function(){return this.nodes=this.editor.selection.nodes().filter(this.htmlTag),this.nodes.length<1?(this.setDisabled(!0),this.setActive(!1)):(this.setDisabled(!1),this.setActive(!0,this.nodes.first().css("text-align")))},e.prototype.command=function(t){if("left"!==t&&"center"!==t&&"right"!==t)throw new Error("simditor alignment button: invalid align "+t);return this.nodes.css({"text-align":"left"===t?"":t}),this.editor.trigger("valuechanged"),this.editor.inputManager.throttledSelectionChanged()},e}(a),I.Toolbar.addButton(i),I});var UUID;UUID=function(t){function e(){}return e.generate=function(){var t=e._getRandomInt,n=e._hexAligner;return n(t(32),8)+"-"+n(t(16),4)+"-"+n(16384|t(12),4)+"-"+n(32768|t(14),4)+"-"+n(t(48),12)},e._getRandomInt=function(t){if(0>t||53<t)return NaN;var e=0|1073741824*Math.random();return 30<t?e+1073741824*(0|Math.random()*(1<<t-30)):e>>>30-t},e._hexAligner=function(t,e){for(var n=t.toString(16),r=e-n.length,i="0";0<r;r>>>=1,i+=i)1&r&&(n=i+n);return n},e.overwrittenUUID=t,"object"==typeof module&&"object"==typeof module.exports&&(module.exports=e),e}(UUID),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.hotkeys=e()}(this,function(){"use strict";function t(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent&&t.attachEvent("on"+e,function(){n(window.event)})}function e(t,e){for(var n=e.slice(0,e.length-1),r=0;r<n.length;r++)n[r]=t[n[r].toLowerCase()];return n}function n(t){t||(t="");for(var e=(t=t.replace(/\s/g,"")).split(","),n=e.lastIndexOf("");0<=n;)e[n-1]+=",",e.splice(n,1),n=e.lastIndexOf("");return e}function r(t,e){for(var n=t.length<e.length?e:t,r=t.length<e.length?t:e,i=!0,o=0;o<n.length;o++)-1===r.indexOf(n[o])&&(i=!1);return i}function i(t){g=t||"all"}function o(){return g||"all"}function s(t,e,n){var r=void 0;if(e.scope===n||"all"===e.scope){for(var i in r=0<e.mods.length,h)Object.prototype.hasOwnProperty.call(h,i)&&(!h[i]&&-1<e.mods.indexOf(+i)||h[i]&&-1===e.mods.indexOf(+i))&&(r=!1);(0!==e.mods.length||h[16]||h[18]||h[17]||h[91])&&!r&&"*"!==e.shortcut||!1===e.method(t,e)&&(t.preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation&&t.stopPropagation(),t.cancelBubble&&(t.cancelBubble=!0))}}function a(r,i,u){var l=n(r),m=[],g="all",b=document,_=0;for(void 0===u&&"function"==typeof i&&(u=i),"[object Object]"===toString.call(i)&&(i.scope&&(g=i.scope),i.element&&(b=i.element)),"string"==typeof i&&(g=i);_<l.length;_++)m=[],1<(r=l[_].split("+")).length&&(m=e(c,r)),(r="*"===(r=r[r.length-1])?"*":v(r))in f||(f[r]=[]),f[r].push({scope:g,mods:m,shortcut:l[_],method:u,key:l[_]});void 0===b||y||(y=!0,t(b,"keydown",function(t){!function(t){var e=f["*"],n=t.keyCode||t.which||t.charCode;if(-1===p.indexOf(n)&&p.push(n),93!==n&&224!==n||(n=91),n in h){for(var r in h[n]=!0,c)c[r]===n&&(a[r]=!0);if(!e)return}for(var i in h)Object.prototype.hasOwnProperty.call(h,i)&&(h[i]=t[d[i]]);if(a.filter.call(this,t)){var u=o();if(e)for(var l=0;l<e.length;l++)e[l].scope===u&&s(t,e[l],u);if(n in f)for(var m=0;m<f[n].length;m++)s(t,f[n][m],u)}}(t)}),t(b,"keyup",function(t){!function(t){var e=p.indexOf(n),n=t.keyCode||t.which||t.charCode;if(e<0||p.splice(e,1),93!==n&&224!==n||(n=91),n in h)for(var r in h[n]=!1,c)c[r]===n&&(a[r]=!1)}(t)}))}for(var u="undefined"!=typeof navigator&&0<navigator.userAgent.toLowerCase().indexOf("firefox"),l={backspace:8,tab:9,clear:12,enter:13,"return":13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,"delete":46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,"\u21ea":20,",":188,".":190,"/":191,"`":192,"-":u?173:189,"=":u?61:187,";":u?59:186,"'":222,"[":219,"]":221,"\\":220},c={"\u21e7":16,shift:16,"\u2325":18,alt:18,option:18,"\u2303":17,ctrl:17,control:17,"\u2318":u?224:91,cmd:u?224:91,command:u?224:91},p=[],d={16:"shiftKey",18:"altKey",17:"ctrlKey"},h={16:!1,18:!1,17:!1},f={},m=1;m<20;m++)l["f"+m]=111+m;d[u?224:91]="metaKey";var g="all",y=h[u?224:91]=!1,v=function(t){return l[t.toLowerCase()]||t.toUpperCase().charCodeAt(0)},b={setScope:i,getScope:o,deleteScope:function(t,e){var n=void 0,r=void 0;for(var s in t||(t=o()),f)if(Object.prototype.hasOwnProperty.call(f,s))for(n=f[s],r=0;r<n.length;)n[r].scope===t?n.splice(r,1):r++;o()===t&&i(e||"all")},getPressedKeyCodes:function(){return p.slice(0)},isPressed:function(t){return"string"==typeof t&&(t=v(t)),-1!==p.indexOf(t)},filter:function(t){var e=t.target.tagName||t.srcElement.tagName;return!("INPUT"===e||"SELECT"===e||"TEXTAREA"===e)},unbind:function(t,i){for(var s=n(t),a=void 0,u=[],l=void 0,p=0;p<s.length;p++){if(1<(a=s[p].split("+")).length&&(u=e(c,a)),t="*"===(t=a[a.length-1])?"*":v(t),i||(i=o()),!f[t])return;for(var d=0;d<f[t].length;d++)(l=f[t][d]).scope===i&&r(l.mods,u)&&(f[t][d]={})}}};for(var _ in b)Object.prototype.hasOwnProperty.call(b,_)&&(a[_]=b[_]);if("undefined"!=typeof window){var w=window.hotkeys;a.noConflict=function(t){return t&&window.hotkeys===a&&(window.hotkeys=w),a},window.hotkeys=a}return a}),require=function t(e,n,r){function i(s,a){if(!n[s]){if(!e[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(o)return o(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[s]={exports:{}};e[s][0].call(c.exports,function(t){var n=e[s][1][t];return i(n||t)},c,c.exports,t,e,n,r)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(t,e,n){"use strict";!function(t){function r(t,e,n){var r,i,o,s,a,h,f,m,g=0,y=[],v=0,b=!1,_=!1,w=[],E=[],T=!1;if(n=n||{},r=n.encoding||"UTF8",m=n.numRounds||1,o=d(e,r),m!==parseInt(m,10)||1>m)throw Error("numRounds must a integer >= 1");if("SHA-1"===t)a=512,h=M,f=j,s=160;else if(h=function(e,n){return B(e,n,t)},f=function(e,n,r,i){var o,s;if("SHA-224"===t||"SHA-256"===t)o=15+(n+65>>>9<<4),s=16;else{if("SHA-384"!==t&&"SHA-512"!==t)throw Error("Unexpected error in SHA-2 implementation");o=31+(n+129>>>10<<5),s=32}for(;e.length<=o;)e.push(0);for(e[n>>>5]|=128<<24-n%32,e[o]=n+r,r=e.length,n=0;n<r;n+=s)i=B(e.slice(n,n+s),i,t);if("SHA-224"===t)e=[i[0],i[1],i[2],i[3],i[4],i[5],i[6]];else if("SHA-256"===t)e=i;else if("SHA-384"===t)e=[i[0].a,i[0].b,i[1].a,i[1].b,i[2].a,i[2].b,i[3].a,i[3].b,i[4].a,i[4].b,i[5].a,i[5].b];else{if("SHA-512"!==t)throw Error("Unexpected error in SHA-2 implementation");e=[i[0].a,i[0].b,i[1].a,i[1].b,i[2].a,i[2].b,i[3].a,i[3].b,i[4].a,i[4].b,i[5].a,i[5].b,i[6].a,i[6].b,i[7].a,i[7].b]}return e},"SHA-224"===t)a=512,s=224;else if("SHA-256"===t)a=512,s=256;else if("SHA-384"===t)a=1024,s=384;else{if("SHA-512"!==t)throw Error("Chosen SHA variant is not supported");a=1024,s=512}i=O(t),this.setHMACKey=function(e,n,o){var s;if(!0===_)throw Error("HMAC key already set");if(!0===b)throw Error("Cannot set HMAC key after finalizing hash");if(!0===T)throw Error("Cannot set HMAC key after calling update");if(r=(o||{}).encoding||"UTF8",n=d(n,r)(e),e=n.binLen,n=n.value,s=a>>>3,o=s/4-1,s<e/8){for(n=f(n,e,0,O(t));n.length<=o;)n.push(0);n[o]&=4294967040}else if(s>e/8){for(;n.length<=o;)n.push(0);n[o]&=4294967040}for(e=0;e<=o;e+=1)w[e]=909522486^n[e],E[e]=1549556828^n[e];i=h(w,i),g=a,_=!0},this.update=function(t){var e,n,r,s=0,u=a>>>5;for(e=o(t,y,v),t=e.binLen,n=e.value,e=t>>>5,r=0;r<e;r+=u)s+a<=t&&(i=h(n.slice(r,r+u),i),s+=a);g+=s,y=n.slice(s>>>5),v=t%a,T=!0},this.getHash=function(e,n){var r,o,a;if(!0===_)throw Error("Cannot call getHash after setting HMAC key");switch(a=p(n),e){case"HEX":r=function(t){return u(t,a)};break;case"B64":r=function(t){return l(t,a)};break;case"BYTES":r=c;break;default:throw Error("format must be HEX, B64, or BYTES")}if(!1===b)for(i=f(y,v,g,i),o=1;o<m;o+=1)i=f(i,s,0,O(t));return b=!0,r(i)},this.getHMAC=function(e,n){var r,o,d;if(!1===_)throw Error("Cannot call getHMAC without first setting HMAC key");switch(d=p(n),e){case"HEX":r=function(t){return u(t,d)};break;case"B64":r=function(t){return l(t,d)};break;case"BYTES":r=c;break;default:throw Error("outputFormat must be HEX, B64, or BYTES")}return!1===b&&(o=f(y,v,g,i),i=h(E,O(t)),i=f(o,s,a,i)),b=!0,r(i)}}function i(t,e){this.a=t,this.b=e}function o(t,e,n){var r,i,o,s,a,u=t.length;if(e=e||[0],n=n||0,a=n>>>3,0!=u%2)throw Error("String of HEX type must be in byte increments");for(r=0;r<u;r+=2){if(i=parseInt(t.substr(r,2),16),isNaN(i))throw Error("String of HEX type contains invalid characters");for(s=(r>>>1)+a,o=s>>>2;e.length<=o;)e.push(0);e[o]|=i<<8*(3-s%4)}return{value:e,binLen:4*u+n}}function s(t,e,n){var r,i,o,s,a=[],a=e||[0];for(n=n||0,i=n>>>3,r=0;r<t.length;r+=1)e=t.charCodeAt(r),s=r+i,o=s>>>2,a.length<=o&&a.push(0),a[o]|=e<<8*(3-s%4);return{value:a,binLen:8*t.length+n}}function a(t,e,n){var r,i,o,s,a,u,l=[],c=0,l=e||[0];if(n=n||0,e=n>>>3,-1===t.search(/^[a-zA-Z0-9=+\/]+$/))throw Error("Invalid character in base-64 string");if(i=t.indexOf("="),t=t.replace(/\=/g,""),-1!==i&&i<t.length)throw Error("Invalid '=' found in base-64 string");for(i=0;i<t.length;i+=4){for(a=t.substr(i,4),o=s=0;o<a.length;o+=1)r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(a[o]),s|=r<<18-6*o;for(o=0;o<a.length-1;o+=1){for(u=c+e,r=u>>>2;l.length<=r;)l.push(0);l[r]|=(s>>>16-8*o&255)<<8*(3-u%4),c+=1}}return{value:l,binLen:8*c+n}}function u(t,e){var n,r,i="",o=4*t.length;for(n=0;n<o;n+=1)r=t[n>>>2]>>>8*(3-n%4),i+="0123456789abcdef".charAt(r>>>4&15)+"0123456789abcdef".charAt(15&r);return e.outputUpper?i.toUpperCase():i}function l(t,e){var n,r,i,o="",s=4*t.length;for(n=0;n<s;n+=3)for(i=n+1>>>2,r=t.length<=i?0:t[i],i=n+2>>>2,i=t.length<=i?0:t[i],i=(t[n>>>2]>>>8*(3-n%4)&255)<<16|(r>>>8*(3-(n+1)%4)&255)<<8|i>>>8*(3-(n+2)%4)&255,r=0;4>r;r+=1)8*n+6*r<=32*t.length?o+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(i>>>6*(3-r)&63):o+=e.b64Pad;return o}function c(t){var e,n,r="",i=4*t.length;for(e=0;e<i;e+=1)n=t[e>>>2]>>>8*(3-e%4)&255,r+=String.fromCharCode(n);return r}function p(t){var e={outputUpper:!1,b64Pad:"="};if(t=t||{},e.outputUpper=t.outputUpper||!1,
!0===t.hasOwnProperty("b64Pad")&&(e.b64Pad=t.b64Pad),"boolean"!=typeof e.outputUpper)throw Error("Invalid outputUpper formatting option");if("string"!=typeof e.b64Pad)throw Error("Invalid b64Pad formatting option");return e}function d(t,e){var n;switch(e){case"UTF8":case"UTF16BE":case"UTF16LE":break;default:throw Error("encoding must be UTF8, UTF16BE, or UTF16LE")}switch(t){case"HEX":n=o;break;case"TEXT":n=function(t,n,r){var i,o,s,a,u,l=[],c=[],p=0,l=n||[0];if(n=r||0,s=n>>>3,"UTF8"===e)for(i=0;i<t.length;i+=1)for(r=t.charCodeAt(i),c=[],128>r?c.push(r):2048>r?(c.push(192|r>>>6),c.push(128|63&r)):55296>r||57344<=r?c.push(224|r>>>12,128|r>>>6&63,128|63&r):(i+=1,r=65536+((1023&r)<<10|1023&t.charCodeAt(i)),c.push(240|r>>>18,128|r>>>12&63,128|r>>>6&63,128|63&r)),o=0;o<c.length;o+=1){for(u=p+s,a=u>>>2;l.length<=a;)l.push(0);l[a]|=c[o]<<8*(3-u%4),p+=1}else if("UTF16BE"===e||"UTF16LE"===e)for(i=0;i<t.length;i+=1){for(r=t.charCodeAt(i),"UTF16LE"===e&&(o=255&r,r=o<<8|r>>>8),u=p+s,a=u>>>2;l.length<=a;)l.push(0);l[a]|=r<<8*(2-u%4),p+=2}return{value:l,binLen:8*p+n}};break;case"B64":n=a;break;case"BYTES":n=s;break;default:throw Error("format must be HEX, TEXT, B64, or BYTES")}return n}function h(t,e){return t<<e|t>>>32-e}function f(t,e){return t>>>e|t<<32-e}function m(t,e){var n=null,n=new i(t.a,t.b);return n=32>=e?new i(n.a>>>e|n.b<<32-e&4294967295,n.b>>>e|n.a<<32-e&4294967295):new i(n.b>>>e-32|n.a<<64-e&4294967295,n.a>>>e-32|n.b<<64-e&4294967295)}function g(t,e){return 32>=e?new i(t.a>>>e,t.b>>>e|t.a<<32-e&4294967295):new i(0,t.a>>>e-32)}function y(t,e,n){return t&e^~t&n}function v(t,e,n){return new i(t.a&e.a^~t.a&n.a,t.b&e.b^~t.b&n.b)}function b(t,e,n){return t&e^t&n^e&n}function _(t,e,n){return new i(t.a&e.a^t.a&n.a^e.a&n.a,t.b&e.b^t.b&n.b^e.b&n.b)}function w(t){return f(t,2)^f(t,13)^f(t,22)}function E(t){var e=m(t,28),n=m(t,34);return t=m(t,39),new i(e.a^n.a^t.a,e.b^n.b^t.b)}function T(t){return f(t,6)^f(t,11)^f(t,25)}function x(t){var e=m(t,14),n=m(t,18);return t=m(t,41),new i(e.a^n.a^t.a,e.b^n.b^t.b)}function S(t){return f(t,7)^f(t,18)^t>>>3}function C(t){var e=m(t,1),n=m(t,8);return t=g(t,7),new i(e.a^n.a^t.a,e.b^n.b^t.b)}function A(t){return f(t,17)^f(t,19)^t>>>10}function k(t){var e=m(t,19),n=m(t,61);return t=g(t,6),new i(e.a^n.a^t.a,e.b^n.b^t.b)}function I(t,e){var n=(65535&t)+(65535&e);return((t>>>16)+(e>>>16)+(n>>>16)&65535)<<16|65535&n}function D(t,e,n,r){var i=(65535&t)+(65535&e)+(65535&n)+(65535&r);return((t>>>16)+(e>>>16)+(n>>>16)+(r>>>16)+(i>>>16)&65535)<<16|65535&i}function R(t,e,n,r,i){var o=(65535&t)+(65535&e)+(65535&n)+(65535&r)+(65535&i);return((t>>>16)+(e>>>16)+(n>>>16)+(r>>>16)+(i>>>16)+(o>>>16)&65535)<<16|65535&o}function L(t,e){var n,r,o;return n=(65535&t.b)+(65535&e.b),r=(t.b>>>16)+(e.b>>>16)+(n>>>16),o=(65535&r)<<16|65535&n,n=(65535&t.a)+(65535&e.a)+(r>>>16),r=(t.a>>>16)+(e.a>>>16)+(n>>>16),new i((65535&r)<<16|65535&n,o)}function N(t,e,n,r){var o,s,a;return o=(65535&t.b)+(65535&e.b)+(65535&n.b)+(65535&r.b),s=(t.b>>>16)+(e.b>>>16)+(n.b>>>16)+(r.b>>>16)+(o>>>16),a=(65535&s)<<16|65535&o,o=(65535&t.a)+(65535&e.a)+(65535&n.a)+(65535&r.a)+(s>>>16),s=(t.a>>>16)+(e.a>>>16)+(n.a>>>16)+(r.a>>>16)+(o>>>16),new i((65535&s)<<16|65535&o,a)}function P(t,e,n,r,o){var s,a,u;return s=(65535&t.b)+(65535&e.b)+(65535&n.b)+(65535&r.b)+(65535&o.b),a=(t.b>>>16)+(e.b>>>16)+(n.b>>>16)+(r.b>>>16)+(o.b>>>16)+(s>>>16),u=(65535&a)<<16|65535&s,s=(65535&t.a)+(65535&e.a)+(65535&n.a)+(65535&r.a)+(65535&o.a)+(a>>>16),a=(t.a>>>16)+(e.a>>>16)+(n.a>>>16)+(r.a>>>16)+(o.a>>>16)+(s>>>16),new i((65535&a)<<16|65535&s,u)}function O(t){var e,n;if("SHA-1"===t)t=[1732584193,4023233417,2562383102,271733878,3285377520];else switch(e=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428],n=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],t){case"SHA-224":t=e;break;case"SHA-256":t=n;break;case"SHA-384":t=[new i(3418070365,e[0]),new i(1654270250,e[1]),new i(2438529370,e[2]),new i(355462360,e[3]),new i(1731405415,e[4]),new i(41048885895,e[5]),new i(3675008525,e[6]),new i(1203062813,e[7])];break;case"SHA-512":t=[new i(n[0],4089235720),new i(n[1],2227873595),new i(n[2],4271175723),new i(n[3],1595750129),new i(n[4],2917565137),new i(n[5],725511199),new i(n[6],4215389547),new i(n[7],327033209)];break;default:throw Error("Unknown SHA variant")}return t}function M(t,e){var n,r,i,o,s,a,u,l=[];for(n=e[0],r=e[1],i=e[2],o=e[3],s=e[4],u=0;80>u;u+=1)l[u]=16>u?t[u]:h(l[u-3]^l[u-8]^l[u-14]^l[u-16],1),a=20>u?R(h(n,5),r&i^~r&o,s,1518500249,l[u]):40>u?R(h(n,5),r^i^o,s,1859775393,l[u]):60>u?R(h(n,5),b(r,i,o),s,2400959708,l[u]):R(h(n,5),r^i^o,s,3395469782,l[u]),s=o,o=i,i=h(r,30),r=n,n=a;return e[0]=I(n,e[0]),e[1]=I(r,e[1]),e[2]=I(i,e[2]),e[3]=I(o,e[3]),e[4]=I(s,e[4]),e}function j(t,e,n,r){var i;for(i=15+(e+65>>>9<<4);t.length<=i;)t.push(0);for(t[e>>>5]|=128<<24-e%32,t[i]=e+n,n=t.length,e=0;e<n;e+=16)r=M(t.slice(e,e+16),r);return r}function B(t,e,n){var r,o,s,a,u,l,c,p,d,h,f,m,g,O,M,j,B,F,H,V,W,K,z,G=[];if("SHA-224"===n||"SHA-256"===n)h=64,m=1,K=Number,g=I,O=D,M=R,j=S,B=A,F=w,H=T,W=b,V=y,z=q;else{if("SHA-384"!==n&&"SHA-512"!==n)throw Error("Unexpected error in SHA-2 implementation");h=80,m=2,K=i,g=L,O=N,M=P,j=C,B=k,F=E,H=x,W=_,V=v,z=U}for(n=e[0],r=e[1],o=e[2],s=e[3],a=e[4],u=e[5],l=e[6],c=e[7],f=0;f<h;f+=1)16>f?(d=f*m,p=t.length<=d?0:t[d],d=t.length<=d+1?0:t[d+1],G[f]=new K(p,d)):G[f]=O(B(G[f-2]),G[f-7],j(G[f-15]),G[f-16]),p=M(c,H(a),V(a,u,l),z[f],G[f]),d=g(F(n),W(n,r,o)),c=l,l=u,u=a,a=g(s,p),s=o,o=r,r=n,n=g(p,d);return e[0]=g(n,e[0]),e[1]=g(r,e[1]),e[2]=g(o,e[2]),e[3]=g(s,e[3]),e[4]=g(a,e[4]),e[5]=g(u,e[5]),e[6]=g(l,e[6]),e[7]=g(c,e[7]),e}var q,U;q=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],U=[new i(q[0],3609767458),new i(q[1],602891725),new i(q[2],3964484399),new i(q[3],2173295548),new i(q[4],4081628472),new i(q[5],3053834265),new i(q[6],2937671579),new i(q[7],3664609560),new i(q[8],2734883394),new i(q[9],1164996542),new i(q[10],1323610764),new i(q[11],3590304994),new i(q[12],4068182383),new i(q[13],991336113),new i(q[14],633803317),new i(q[15],3479774868),new i(q[16],2666613458),new i(q[17],944711139),new i(q[18],2341262773),new i(q[19],2007800933),new i(q[20],1495990901),new i(q[21],1856431235),new i(q[22],3175218132),new i(q[23],2198950837),new i(q[24],3999719339),new i(q[25],766784016),new i(q[26],2566594879),new i(q[27],3203337956),new i(q[28],1034457026),new i(q[29],2466948901),new i(q[30],3758326383),new i(q[31],168717936),new i(q[32],1188179964),new i(q[33],1546045734),new i(q[34],1522805485),new i(q[35],2643833823),new i(q[36],2343527390),new i(q[37],1014477480),new i(q[38],1206759142),new i(q[39],344077627),new i(q[40],1290863460),new i(q[41],3158454273),new i(q[42],3505952657),new i(q[43],106217008),new i(q[44],3606008344),new i(q[45],1432725776),new i(q[46],1467031594),new i(q[47],851169720),new i(q[48],3100823752),new i(q[49],1363258195),new i(q[50],3750685593),new i(q[51],3785050280),new i(q[52],3318307427),new i(q[53],3812723403),new i(q[54],2003034995),new i(q[55],3602036899),new i(q[56],1575990012),new i(q[57],1125592928),new i(q[58],2716904306),new i(q[59],442776044),new i(q[60],593698344),new i(q[61],3733110249),new i(q[62],2999351573),new i(q[63],3815920427),new i(3391569614,3928383900),new i(3515267271,566280711),new i(3940187606,3454069534),new i(4118630271,4000239992),new i(116418474,1914138554),new i(174292421,2731055270),new i(289380356,3203993006),new i(460393269,320620315),new i(685471733,587496836),new i(852142971,1086792851),new i(1017036298,365543100),new i(1126000580,2618297676),new i(1288033470,3409855158),new i(1501505948,4234509866),new i(1607167915,987167468),new i(1816402316,1246189591)],"function"==typeof define&&define.amd?define(function(){return r}):void 0!==n?void 0!==e&&e.exports?e.exports=n=r:n=r:t.jsSHA=r}(this)},{}],2:[function(t,e,n){!function(t){if("object"==typeof n)e.exports=t();else if("function"==typeof define&&define.amd)define(t);else{var r;try{r=window}catch(t){r=self}r.SparkMD5=t()}}(function(t){"use strict";function e(t,e,n,r,i,o){return e=v(v(e,t),v(r,o)),v(e<<i|e>>>32-i,n)}function n(t,n,r,i,o,s,a){return e(n&r|~n&i,t,n,o,s,a)}function r(t,n,r,i,o,s,a){return e(n&i|r&~i,t,n,o,s,a)}function i(t,n,r,i,o,s,a){return e(n^r^i,t,n,o,s,a)}function o(t,n,r,i,o,s,a){return e(r^(n|~i),t,n,o,s,a)}function s(t,e){var s=t[0],a=t[1],u=t[2],l=t[3];s=n(s,a,u,l,e[0],7,-680876936),l=n(l,s,a,u,e[1],12,-389564586),u=n(u,l,s,a,e[2],17,606105819),a=n(a,u,l,s,e[3],22,-1044525330),s=n(s,a,u,l,e[4],7,-176418897),l=n(l,s,a,u,e[5],12,1200080426),u=n(u,l,s,a,e[6],17,-1473231341),a=n(a,u,l,s,e[7],22,-45705983),s=n(s,a,u,l,e[8],7,1770035416),l=n(l,s,a,u,e[9],12,-1958414417),u=n(u,l,s,a,e[10],17,-42063),a=n(a,u,l,s,e[11],22,-1990404162),s=n(s,a,u,l,e[12],7,1804603682),l=n(l,s,a,u,e[13],12,-40341101),u=n(u,l,s,a,e[14],17,-1502002290),a=n(a,u,l,s,e[15],22,1236535329),s=r(s,a,u,l,e[1],5,-165796510),l=r(l,s,a,u,e[6],9,-1069501632),u=r(u,l,s,a,e[11],14,643717713),a=r(a,u,l,s,e[0],20,-373897302),s=r(s,a,u,l,e[5],5,-701558691),l=r(l,s,a,u,e[10],9,38016083),u=r(u,l,s,a,e[15],14,-660478335),a=r(a,u,l,s,e[4],20,-405537848),s=r(s,a,u,l,e[9],5,568446438),l=r(l,s,a,u,e[14],9,-1019803690),u=r(u,l,s,a,e[3],14,-187363961),a=r(a,u,l,s,e[8],20,1163531501),s=r(s,a,u,l,e[13],5,-1444681467),l=r(l,s,a,u,e[2],9,-51403784),u=r(u,l,s,a,e[7],14,1735328473),a=r(a,u,l,s,e[12],20,-1926607734),s=i(s,a,u,l,e[5],4,-378558),l=i(l,s,a,u,e[8],11,-2022574463),u=i(u,l,s,a,e[11],16,1839030562),a=i(a,u,l,s,e[14],23,-35309556),s=i(s,a,u,l,e[1],4,-1530992060),l=i(l,s,a,u,e[4],11,1272893353),u=i(u,l,s,a,e[7],16,-155497632),a=i(a,u,l,s,e[10],23,-1094730640),s=i(s,a,u,l,e[13],4,681279174),l=i(l,s,a,u,e[0],11,-358537222),u=i(u,l,s,a,e[3],16,-722521979),a=i(a,u,l,s,e[6],23,76029189),s=i(s,a,u,l,e[9],4,-640364487),l=i(l,s,a,u,e[12],11,-421815835),u=i(u,l,s,a,e[15],16,530742520),a=i(a,u,l,s,e[2],23,-995338651),s=o(s,a,u,l,e[0],6,-198630844),l=o(l,s,a,u,e[7],10,1126891415),u=o(u,l,s,a,e[14],15,-1416354905),a=o(a,u,l,s,e[5],21,-57434055),s=o(s,a,u,l,e[12],6,1700485571),l=o(l,s,a,u,e[3],10,-1894986606),u=o(u,l,s,a,e[10],15,-1051523),a=o(a,u,l,s,e[1],21,-2054922799),s=o(s,a,u,l,e[8],6,1873313359),l=o(l,s,a,u,e[15],10,-30611744),u=o(u,l,s,a,e[6],15,-1560198380),a=o(a,u,l,s,e[13],21,1309151649),s=o(s,a,u,l,e[4],6,-145523070),l=o(l,s,a,u,e[11],10,-1120210379),u=o(u,l,s,a,e[2],15,718787259),a=o(a,u,l,s,e[9],21,-343485551),t[0]=v(s,t[0]),t[1]=v(a,t[1]),t[2]=v(u,t[2]),t[3]=v(l,t[3])}function a(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}function u(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t[e]+(t[e+1]<<8)+(t[e+2]<<16)+(t[e+3]<<24);return n}function l(t){var e,n,r,i,o,u,l=t.length,c=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=l;e+=64)s(c,a(t.substring(e-64,e)));for(t=t.substring(e-64),n=t.length,r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e=0;e<n;e+=1)r[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(r[e>>2]|=128<<(e%4<<3),e>55)for(s(c,r),e=0;e<16;e+=1)r[e]=0;return i=8*l,i=i.toString(16).match(/(.*?)(.{0,8})$/),o=parseInt(i[2],16),u=parseInt(i[1],16)||0,r[14]=o,r[15]=u,s(c,r),c}function c(t){var e,n,r,i,o,a,l=t.length,c=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=l;e+=64)s(c,u(t.subarray(e-64,e)));for(t=e-64<l?t.subarray(e-64):new Uint8Array(0),n=t.length,r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e=0;e<n;e+=1)r[e>>2]|=t[e]<<(e%4<<3);if(r[e>>2]|=128<<(e%4<<3),e>55)for(s(c,r),e=0;e<16;e+=1)r[e]=0;return i=8*l,i=i.toString(16).match(/(.*?)(.{0,8})$/),o=parseInt(i[2],16),a=parseInt(i[1],16)||0,r[14]=o,r[15]=a,s(c,r),c}function p(t){var e,n="";for(e=0;e<4;e+=1)n+=b[t>>8*e+4&15]+b[t>>8*e&15];return n}function d(t){var e;for(e=0;e<t.length;e+=1)t[e]=p(t[e]);return t.join("")}function h(t){return/[\u0080-\uFFFF]/.test(t)&&(t=unescape(encodeURIComponent(t))),t}function f(t,e){var n,r=t.length,i=new ArrayBuffer(r),o=new Uint8Array(i);for(n=0;n<r;n++)o[n]=t.charCodeAt(n);return e?o:i}function m(t){return String.fromCharCode.apply(null,new Uint8Array(t))}function g(t,e,n){var r=new Uint8Array(t.byteLength+e.byteLength);return r.set(new Uint8Array(t)),r.set(new Uint8Array(e),t.byteLength),n?r:r.buffer}function y(){this.reset()}var v=function(t,e){return t+e&4294967295},b=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];return"5d41402abc4b2a76b9719d911017c592"!==d(l("hello"))&&(v=function(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}),"undefined"!=typeof ArrayBuffer&&!ArrayBuffer.prototype.slice&&function(){function e(t,e){return t=0|t||0,t<0?Math.max(t+e,0):Math.min(t,e)}ArrayBuffer.prototype.slice=function(n,r){var i,o,s,a,u=this.byteLength,l=e(n,u),c=u;return r!==t&&(c=e(r,u)),l>c?new ArrayBuffer(0):(i=c-l,o=new ArrayBuffer(i),s=new Uint8Array(o),a=new Uint8Array(this,l,i),s.set(a),o)}}(),y.prototype.append=function(t){return this.appendBinary(h(t)),this},y.prototype.appendBinary=function(t){this._buff+=t,this._length+=t.length;var e,n=this._buff.length;for(e=64;e<=n;e+=64)s(this._hash,a(this._buff.substring(e-64,e)));return this._buff=this._buff.substring(e-64),this},y.prototype.end=function(t){var e,n,r=this._buff,i=r.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<i;e+=1)o[e>>2]|=r.charCodeAt(e)<<(e%4<<3);return this._finish(o,i),n=t?this._hash:d(this._hash),this.reset(),n},y.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},y.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash}},y.prototype.setState=function(t){return this._buff=t.buff,this._length=t.length,this._hash=t.hash,this},y.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},y.prototype._finish=function(t,e){var n,r,i,o=e;if(t[o>>2]|=128<<(o%4<<3),o>55)for(s(this._hash,t),o=0;o<16;o+=1)t[o]=0;n=8*this._length,n=n.toString(16).match(/(.*?)(.{0,8})$/),r=parseInt(n[2],16),i=parseInt(n[1],16)||0,t[14]=r,t[15]=i,s(this._hash,t)},y.hash=function(t,e){return y.hashBinary(h(t),e)},y.hashBinary=function(t,e){var n=l(t);return e?n:d(n)},y.ArrayBuffer=function(){this.reset()},y.ArrayBuffer.prototype.append=function(t){var e,n=g(this._buff.buffer,t,!0),r=n.length;for(this._length+=t.byteLength,e=64;e<=r;e+=64)s(this._hash,u(n.subarray(e-64,e)));return this._buff=e-64<r?new Uint8Array(n.buffer.slice(e-64)):new Uint8Array(0),this},y.ArrayBuffer.prototype.end=function(t){var e,n,r=this._buff,i=r.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<i;e+=1)o[e>>2]|=r[e]<<(e%4<<3);return this._finish(o,i),n=t?this._hash:d(this._hash),this.reset(),n},y.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},y.ArrayBuffer.prototype.getState=function(){var t=y.prototype.getState.call(this);return t.buff=m(t.buff),t},y.ArrayBuffer.prototype.setState=function(t){return t.buff=f(t.buff,!0),y.prototype.setState.call(this,t)},y.ArrayBuffer.prototype.destroy=y.prototype.destroy,y.ArrayBuffer.prototype._finish=y.prototype._finish,y.ArrayBuffer.hash=function(t,e){var n=c(new Uint8Array(t));return e?n:d(n)},y})},{}],3:[function(t,e){window.ALY=e.exports=t("./lib/core"),t("./lib/http/xhr"),t("./lib/services/oss"),t("./lib/services/opensearch"),t("./lib/services/batchcompute"),ALY.ECS=ALY.Service.defineService("ecs",["2014-05-26"]),ALY.RDS=ALY.Service.defineService("rds",["2014-08-15"]),ALY.SLB=ALY.Service.defineService("slb",["2014-05-15"]),ALY.CDN=ALY.Service.defineService("cdn",["2014-11-11"]),ALY.STS=ALY.Service.defineService("sts",["2015-04-01"])},{"./lib/core":5,"./lib/http/xhr":8,"./lib/services/batchcompute":21,"./lib/services/opensearch":22,"./lib/services/oss":23}],4:[function(t){var e=t("./core");e.Config=e.util.inherit({constructor:function(t){t===undefined&&(t={}),e.util.each.call(this,this.keys,function(e,n){this.set(e,t[e],n)})},clear:function(){e.util.each.call(this,this.keys,function(t){delete this[t]}),this.set("credentials",undefined),this.set("credentialProvider",undefined)},getCredentials:function(){return{accessKeyId:this.accessKeyId,secretAccessKey:this.secretAccessKey,securityToken:this.securityToken}},set:function(t,e,n){e===undefined?(n===undefined&&(n=this.keys[t]),this[t]="function"==typeof n?n.call(this):n):this[t]=e},keys:{accessKeyId:null,secretAccessKey:null,region:null,logger:null,apiVersions:{},apiVersion:null,endpoint:undefined,httpOptions:{},maxRetries:undefined,maxRedirects:10,paramValidation:!0,sslEnabled:!0,computeChecksums:!0,securityToken:""}})},{"./core":5}],5:[function(t,e){var n={};e.exports=n,t("./util"),n.util.update(n,{VERSION:"1.0.0",ServiceInterface:{},Signers:{},XML:{}}),t("./service"),t("./config"),t("./http"),t("./sequential_executor"),t("./event_listeners"),t("./request"),t("./signers/request_signer"),t("./param_validator"),n.events=new n.SequentialExecutor},{"./config":4,"./event_listeners":6,"./http":7,"./param_validator":10,"./request":11,"./sequential_executor":12,"./service":13,"./signers/request_signer":30,"./util":33}],6:[function(t){var e=t("./core");t("./sequential_executor"),t("./service_interface/json"),t("./service_interface/query"),t("./service_interface/rest"),t("./service_interface/rest_json"),t("./service_interface/rest_xml"),t("./service_interface/pop"),t("./service_interface/top"),e.EventListeners={Core:{}},e.EventListeners={Core:(new e.SequentialExecutor).addNamedListeners(function(t,n){t("VALIDATE_PARAMETERS","validate",function(t){var n=t.service.api.operations[t.operation].input;(new e.ParamValidator).validate(n,t.params)}),t("SET_CONTENT_LENGTH","afterBuild",function(t){if(t.httpRequest.headers["Content-Length"]===undefined){var n=e.util.string.byteLength(t.httpRequest.body);t.httpRequest.headers["Content-Length"]=n}}),t("SET_HTTP_HOST","afterBuild",function(t){t.httpRequest.headers.Host=t.httpRequest.endpoint.host}),n("SIGN","sign",function(t,n){if(!t.service.api.signatureVersion)return n();var r=t.service.config.getCredentials();try{var i=e.util.date.getDate();new(t.service.getSignerClass(t))(t.httpRequest,t.service.api.signingName).addAuthorization(r,i)}catch(e){t.response.error=e}n()}),t("VALIDATE_RESPONSE","validateResponse",function(t){this.service.successfulResponse(t,this)?(t.data={},t.error=null):(t.data=null,t.error=e.util.error(new Error,{code:"UnknownError",message:"An unknown error occurred."}))}),n("SEND","send",function(t,n){function r(r){t.httpResponse.stream=r,t.httpResponse._abortCallback=n,r.on("headers",function(n,i){t.request.emit("httpHeaders",[n,i,t]),t.request.httpRequest._streaming||(2===e.HttpClient.streamsApiVersion?r.on("readable",function(){var e=r.read();null!==e&&t.request.emit("httpData",[e,t])}):r.on("data",function(e){t.request.emit("httpData",[e,t])}))}),r.on("end",function(){t.request.emit("httpDone"),n()})}function i(e){e.on("sendProgress",function(e){t.request.emit("httpUploadProgress",[e,t])}),e.on("receiveProgress",function(e){t.request.emit("httpDownloadProgress",[e,t])})}function o(r){t.error=e.util.error(r,{code:"NetworkingError",region:t.request.httpRequest.region,hostname:t.request.httpRequest.endpoint.hostname,retryable:!0}),t.request.emit("httpError",[t.error,t],function(){n()})}t.error=null,t.data=null;var s=e.HttpClient.getInstance(),a=t.request.service.config.httpOptions||{};this.httpRequest.debug(),i(s.handleRequest(this.httpRequest,a,r,o))}),t("HTTP_HEADERS","httpHeaders",function(t,n,r){r.httpResponse.statusCode=t,r.httpResponse.headers=n,r.httpResponse.body=new e.util.Buffer(""),r.httpResponse.buffers=[],r.httpResponse.numBytes=0}),t("HTTP_DATA","httpData",function(t,n){if(t){if(e.util.isNode()){n.httpResponse.numBytes+=t.length;var r=n.httpResponse.headers["content-length"],i={loaded:n.httpResponse.numBytes,total:r};n.request.emit("httpDownloadProgress",[i,n])}n.httpResponse.buffers.push(new e.util.Buffer(t))}}),t("HTTP_DONE","httpDone",function(t){if(t.httpResponse.buffers&&t.httpResponse.buffers.length>0){var n=e.util.buffer.concat(t.httpResponse.buffers);t.httpResponse.body=n}delete t.httpResponse.numBytes,delete t.httpResponse.buffers}),t("FINALIZE_ERROR","retry",function(t){t.httpResponse.statusCode&&(t.error.statusCode=t.httpResponse.statusCode,t.error.retryable===undefined&&(t.error.retryable=this.service.retryableError(t.error,this)))})}),Logger:(new e.SequentialExecutor).addNamedListeners(function(n){n("LOG_REQUEST","complete",function(n){function r(){var r=e.util.date.getDate().getTime(),s=(r-i.startTime.getTime())/1e3,a=!!o.isTTY,u=n.httpResponse.statusCode,l=t("util").inspect(i.params,!0,!0),c="";return a&&(c+="\x1b[33m"),c+="[ALY "+i.service.serviceIdentifier+" "+u,c+=" "+s.toString()+"s "+n.retryCount+" retries]",a&&(c+="\x1b[0;1m"),c+=" "+i.operation+"("+l+")",a&&(c+="\x1b[0m"),c}var i=n.request,o=i.service.config.logger;if(o){var s=r();"function"==typeof o.log?o.log(s):"function"==typeof o.write&&o.write(s+"\n")}})}),Json:(new e.SequentialExecutor).addNamedListeners(function(t){var n=e.ServiceInterface.Json;t("BUILD","build",n.buildRequest),t("EXTRACT_DATA","extractData",n.extractData),t("EXTRACT_ERROR","extractError",n.extractError)}),Rest:(new e.SequentialExecutor).addNamedListeners(function(t){var n=e.ServiceInterface.Rest;t("BUILD","build",n.buildRequest),t("EXTRACT_DATA","extractData",n.extractData),t("EXTRACT_ERROR","extractError",n.extractError)}),RestJson:(new e.SequentialExecutor).addNamedListeners(function(t){var n=e.ServiceInterface.RestJson;t("BUILD","build",n.buildRequest),t("EXTRACT_DATA","extractData",n.extractData),t("EXTRACT_ERROR","extractError",n.extractError)}),Pop:(new e.SequentialExecutor).addNamedListeners(function(t){var n=e.ServiceInterface.Pop;t("BUILD","build",n.buildRequest),t("EXTRACT_DATA","extractData",n.extractData),t("EXTRACT_ERROR","extractError",n.extractError)}),Top:(new e.SequentialExecutor).addNamedListeners(function(t){var n=e.ServiceInterface.Top;t("BUILD","build",n.buildRequest),t("EXTRACT_DATA","extractData",n.extractData),t("EXTRACT_ERROR","extractError",n.extractError)}),RestXml:(new e.SequentialExecutor).addNamedListeners(function(t){var n=e.ServiceInterface.RestXml;t("BUILD","build",n.buildRequest),t("EXTRACT_DATA","extractData",n.extractData),t("EXTRACT_ERROR","extractError",n.extractError)}),Query:(new e.SequentialExecutor).addNamedListeners(function(t){var n=e.ServiceInterface.Query;t("BUILD","build",n.buildRequest),t("EXTRACT_DATA","extractData",n.extractData),t("EXTRACT_ERROR","extractError",n.extractError)})}},{"./core":5,"./sequential_executor":12,"./service_interface/json":14,"./service_interface/pop":15,"./service_interface/query":16,"./service_interface/rest":17,"./service_interface/rest_json":18,"./service_interface/rest_xml":19,"./service_interface/top":20,util:150}],7:[function(t){(function(e){var n=t("./core"),r=n.util.inherit;n.Endpoint=r({constructor:function(t){if(n.util.hideProperties(this,["slashes","auth","hash","search","query"]),void 0===t||null===t)throw new Error("Invalid endpoint: "+t);if(!t.match(/^http/))throw new Error("\u9519\u8bef\u7684 endpoint \u683c\u5f0f, \u9700\u8981\u4ee5 http \u6216\u8005 https \u5f00\u5934");n.util.update(this,n.util.urlParse(t)),this.port?this.port=parseInt(this.port,10):this.port="https:"===this.protocol?443:80}}),n.HttpRequest=r({constructor:function(t,e){this.method="POST",this.path=t.path||"/",this.headers={},this.body="",this.endpoint=t,this.region=e,this.setUserAgent()},setUserAgent:function(){this.headers["User-Agent"]=n.util.userAgent()},pathname:function(){return this.path.split("?",1)[0]},search:function(){return this.path.split("?",2)[1]||""},debug:function(){if("aliyun"==e.env.DEBUG){console.log("-------- HttpRequest Start: --------"),console.log("method:",this.method),console.log("path:",this.path),console.log("headers:");for(var t in this.headers)"constructor"!=t&&console.log(t,":",this.headers[t])}}}),n.HttpResponse=r({constructor:function(){this.statusCode=undefined,this.headers={},this.body=undefined}}),n.HttpClient=r({}),n.HttpClient.getInstance=function(){return this.singleton===undefined&&(this.singleton=new this),this.singleton}}).call(this,t("_process"))},{"./core":5,_process:125}],8:[function(t){var e=t("../core"),n=t("events").EventEmitter;t("../http"),e.XHRClient=e.util.inherit({handleRequest:function(t,r,i,o){var s=this,a=t.endpoint,u=new n,l=a.protocol+"//"+a.hostname;80!=a.port&&443!=a.port&&(l+=":"+a.port),l+=t.path;var c=new XMLHttpRequest;return t.stream=c,r.timeout&&(c.timeout=r.timeout),c.addEventListener("readystatechange",function(){try{if(0===c.status)return}catch(t){return}if(this.readyState===this.HEADERS_RECEIVED){try{c.responseType="arraybuffer"}catch(t){}u.statusCode=c.status,u.headers=s.parseHeaders(c.getAllResponseHeaders()),u.emit("headers",u.statusCode,u.headers)}else this.readyState===this.DONE&&s.finishRequest(c,u)},!1),c.upload.addEventListener("progress",function(t){u.emit("sendProgress",t)}),c.addEventListener("progress",function(t){u.emit("receiveProgress",t)},!1),c.addEventListener("timeout",function(){o(e.util.error(new Error("Timeout"),{code:"TimeoutError"}))},!1),c.addEventListener("error",function(){o(e.util.error(new Error("Network Failure"),{code:"NetworkingError"}))},!1),i(u),c.open(t.method,l,!0),e.util.each(t.headers,function(t,e){"Content-Length"!==t&&"User-Agent"!==t&&"Host"!==t&&"Date"!==t&&c.setRequestHeader(t,e)}),t.body&&"object"==typeof t.body.buffer?c.send(t.body.buffer):c.send(t.body),u},parseHeaders:function(t){var n={};return e.util.arrayEach(t.split(/\r?\n/),function(t){var e=t.split(":",1)[0],r=t.substring(e.length+2);e.length>0&&(n[e]=r)}),n},finishRequest:function(t,n){var r;if("arraybuffer"===t.responseType&&t.response){var i=t.response;r=new e.util.Buffer(i.byteLength);for(var o=new Uint8Array(i),s=0;s<r.length;++s)r[s]=o[s]}try{!r&&"string"==typeof t.responseText&&(r=new e.util.Buffer(t.responseText))}catch(t){}r&&n.emit("data",r),n.emit("end")}}),e.HttpClient.prototype=e.XHRClient.prototype,e.HttpClient.streamsApiVersion=1},{"../core":5,"../http":7,events:122}],9:[function(t){var e=t("../core"),n=e.util.inherit;e.JSON={},e.JSON.Builder=n({constructor:function(t,e){this.rules=t,this.timestampFormat=e.timestampFormat},build:function(t){return JSON.stringify(this.translate(this.rules,t))},translate:function(t,n){if(null===n||n===undefined)return undefined;if("structure"==t.type){var r={};return e.util.each.call(this,n,function(e,n){var i=t.members[e]||{},o=this.translate(i,n);o!==undefined&&(r[e]=o)}),r}if("list"==t.type){var i=[];return e.util.arrayEach.call(this,n,function(e){var n=t.members||{},r=this.translate(n,e);r!==undefined&&i.push(r)}),i}if("map"==t.type){var o={};return e.util.each.call(this,n,function(e,n){var r=t.members||{},i=this.translate(r,n);i!==undefined&&(o[e]=i)}),o}if("timestamp"==t.type){var s=t.format||this.timestampFormat;return e.util.date.format(n,s)}return"integer"==t.type?parseInt(n,10):"float"==t.type?parseFloat(n):n}})},{"../core":5}],10:[function(t){var e=t("./core");e.ParamValidator=e.util.inherit({validate:function(t,n,r){var i=(t||{}).members||{},o=t?t.xml:null;return o&&(i=e.util.merge(i,(i[o]||{}).members||{}),delete i[o]),this.validateStructure(i,n||{},r||"params")},validateStructure:function(t,e,n){this.validateType(n,e,["object"],"structure");for(var r in t)if(t.hasOwnProperty(r)){var i=e[r],o=i===undefined||null===i;o&&(t[r]["default"]?e[r]=t[r]["default"]:t[r].required&&this.fail("MissingRequiredParameter","Missing required key '"+r+"' in "+n))}for(r in e)if(e.hasOwnProperty(r)){var s=e[r],a=t[r];if(a!==undefined){var u=[n,r].join(".");this.validateMember(a,s,u)}else this.fail("UnexpectedParameter","Unexpected key '"+r+"' found in "+n)}return!0},validateMember:function(t,e,n){var r=t.members||{};switch(t.type){case"structure":return this.validateStructure(r,e,n);case"list":return this.validateList(r,e,n);case"map":return this.validateMap(r,e,n);default:return this.validateScalar(t,e,n)}},validateList:function(t,e,n){this.validateType(n,e,[Array]);for(var r=0;r<e.length;r++)this.validateMember(t,e[r],n+"["+r+"]")},validateMap:function(t,e,n){this.validateType(n,e,["object"],"map");for(var r in e)e.hasOwnProperty(r)&&this.validateMember(t,e[r],n+"['"+r+"']")},validateScalar:function(t,e,n){switch(t.type){case null:case undefined:case"string":return this.validateType(n,e,["string"]);case"base64":case"binary":return this.validatePayload(n,e);case"integer":case"float":return this.validateNumber(n,e);case"boolean":return this.validateType(n,e,["boolean"]);case"timestamp":return this.validateType(n,e,[Date,/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(\.\d+)?Z$/,"number"],"Date object, ISO-8601 string, or a UNIX timestamp");default:return this.fail("UnkownType","Unhandled type "+t.type+" for "+n)}},fail:function(t,n){throw e.util.error(new Error(n),{code:t})},validateType:function(t,n,r,i){if(null!==n&&n!==undefined){for(var o=!1,s=0;s<r.length;s++){if("string"==typeof r[s]){if(typeof n===r[s])return}else if(r[s]instanceof RegExp){if((n||"").toString().match(r[s]))return}else{if(n instanceof r[s])return;if(e.util.isType(n,r[s]))return;!i&&!o&&(r=r.slice()),r[s]=e.util.typeName(r[s])}o=!0}var a=i;a||(a=r.join(", ").replace(/,([^,]+)$/,", or$1"));var u=a.match(/^[aeiou]/i)?"n":"";this.fail("InvalidParameterType","Expected "+t+" to be a"+u+" "+a)}},validateNumber:function(t,e){if(null!==e&&e!==undefined){if("string"==typeof e){var n=parseFloat(e);n.toString()===e&&(e=n)}return this.validateType(t,e,["number"])}},validatePayload:function(n,r){if(null!==r&&r!==undefined&&"string"!=typeof r&&(!r||"number"!=typeof r.byteLength)){if(e.util.isNode()){var i=t("stream").Stream;if(e.util.Buffer.isBuffer(r)||r instanceof i)return}var o=["Buffer","Stream","File","Blob","ArrayBuffer","DataView"];if(r)for(var s=0;s<o.length;s++){if(e.util.isType(r,o[s]))return;if(e.util.typeName(r.constructor)===o[s])return}this.fail("InvalidParameterType","Expected "+n+" to be a string, Buffer, Stream, Blob, or typed array object")}}})},{"./core":5,stream:145}],11:[function(t){(function(e){function n(t,e){this.currentState=e||null,this.states=t||{}}var r=t("./core"),i=r.util.inherit;n.prototype.runTo=function(t,e,n,r){"function"==typeof t&&(r=n,n=e,e=t,t=null);var i=this,o=i.states[i.currentState];o.fn.call(n||i,r,function(r){if(r){if(n.logger&&n.logger.log(i.currentState,"->",o.fail,r),!o.fail)return e?e(r):null;i.currentState=o.fail}else{if(n.logger&&n.logger.log(i.currentState,"->",o.accept),!o.accept)return e?e():null;i.currentState=o.accept}if(i.currentState===t)return e?e(r):null;i.runTo(t,e,n,r)})},n.prototype.addState=function(t,e,n,r){return"function"==typeof e?(r=e,e=null,n=null):"function"==typeof n&&(r=n,n=null),this.currentState||(this.currentState=t),this.states[t]={accept:e,fail:n,fn:r},this};var o=new n;o.setupStates=function(){var t=["success","error","complete"],e=function(e,n){try{var r=this,i=r.response.error;r.emit(r._asm.currentState,function(){r.response.error&&i!=r.response.error&&t.indexOf(this._asm.currentState)>=0&&(this._hardError=!0),n(r.response.error)})}catch(e){this.response.error=e,t.indexOf(this._asm.currentState)>=0&&(this._hardError=!0),n(e)}};this.addState("validate","build","error",e),this.addState("restart","build","error",function(t,e){return(t=this.response.error)?t.retryable?void(this.response.retryCount<this.service.config.maxRetries?(this.response.retryCount++,e()):e(t)):e(t):e()}),this.addState("build","afterBuild","restart",e),this.addState("afterBuild","sign","restart",e),this.addState("sign","send","retry",e),this.addState("retry","afterRetry","afterRetry",e),this.addState("afterRetry","sign","error",e),this.addState("send","validateResponse","retry",e),this.addState("validateResponse","extractData","extractError",e),this.addState("extractError","extractData","retry",e),this.addState("extractData","success","retry",e),this.addState("success","complete","complete",e),this.addState("error","complete","complete",e),this.addState("complete",null,"uncaughtException",e),this.addState("uncaughtException",function(t,e){try{
r.SequentialExecutor.prototype.unhandledErrorCallback.call(this,t)}catch(e){if(this._hardError)throw t}e(t)})},o.setupStates(),r.Request=i({constructor:function(t,e,i){var s=new r.Endpoint(t.config.endpoint),a=t.config.region;this.service=t,this.operation=e,this.params=i||{},this.httpRequest=new r.HttpRequest(s,a),this.startTime=r.util.date.getDate(),this.response=new r.Response(this),this.restartCount=0,this._asm=new n(o.states,"validate"),r.SequentialExecutor.call(this),this.emit=this.emitEvent},send:function(t){return t&&this.on("complete",function(e){try{t.call(e,e.error,e.data)}catch(t){throw e.request._hardError=!0,t}}),this.runTo(),this.response},build:function(t){return this._hardError=!t,this.runTo("send",t)},runTo:function(t,e){return this._asm.runTo(t,e,this),this},abort:function(){return this.removeAllListeners("validateResponse"),this.removeAllListeners("extractError"),this.on("validateResponse",function(t){t.error=r.util.error(new Error("Request aborted by user"),{code:"RequestAbortedError",retryable:!1})}),this.httpRequest.stream&&(this.httpRequest.stream.abort(),this.httpRequest._abortCallback()),this},eachPage:function(t){function e(n){!1!==t.call(n,n.error,n.data)&&(n.hasNextPage()?n.nextPage().on("complete",e).send():t.call(n,null,null))}this.on("complete",e).send()},eachItem:function(t){function e(e,n){if(e)return t(e,null);if(null===n)return t(null,null);var i=this.request.service.paginationConfig(this.request.operation),o=i.resultKey;Array.isArray(o)&&(o=o[0]);var s=r.util.jamespath.query(o,n);r.util.arrayEach(s,function(e){r.util.arrayEach(e,function(e){t(null,e)})})}this.eachPage(e)},isPageable:function(){return!!this.service.paginationConfig(this.operation)},createReadStream:function(){var n=t("stream"),i=this,o=null,s=!1;return 2===r.HttpClient.streamsApiVersion?(o=new n.Readable,o._read=function(){o.push("")}):(o=new n.Stream,o.readable=!0),o.sent=!1,o.on("newListener",function(t){!o.sent&&("data"===t||"readable"===t)&&("data"===t&&(s=!0),o.sent=!0,e.nextTick(function(){i.send(function(){})}))}),this.on("httpHeaders",function(t,e,n){if(t<300){this.httpRequest._streaming=!0,i.removeListener("httpData",r.EventListeners.Core.HTTP_DATA),i.removeListener("httpError",r.EventListeners.Core.HTTP_ERROR),i.on("httpError",function(t,e){e.error=t,e.error.retryable=!1});var a=n.httpResponse.stream;o.response=n,o._read=function(){for(var t;t=a.read();)o.push(t);o.push("")};var u=["end","error",s?"data":"readable"];r.util.arrayEach(u,function(t){a.on(t,function(e){o.emit(t,e)})})}}),this.on("error",function(t){o.emit("error",t)}),o},emitEvent:function(t,e,n){"function"==typeof e&&(n=e,e=null),n||(n=this.unhandledErrorCallback),e||(e=this.eventParameters(t,this.response)),r.SequentialExecutor.prototype.emit.call(this,t,e,function(t){t&&(this.response.error=t),n.call(this,t)})},eventParameters:function(t){switch(t){case"validate":case"sign":case"build":case"afterBuild":return[this];case"error":return[this.response.error,this.response];default:return[this.response]}}}),r.util.mixin(r.Request,r.SequentialExecutor),r.Response=i({constructor:function(t){this.request=t,this.data=null,this.error=null,this.retryCount=0,this.redirectCount=0,this.httpResponse=new r.HttpResponse},nextPage:function(t){var e,n=this.request.service,i=this.request.operation;try{e=n.paginationConfig(i,!0)}catch(t){this.error=t}if(!this.hasNextPage()){if(t)t(this.error,null);else if(this.error)throw this.error;return null}var o=r.util.copy(this.request.params);if(!this.nextPageTokens)return t?t(null,null):null;var s=e.inputToken;"string"==typeof s&&(s=[s]);for(var a=0;a<s.length;a++)o[s[a]]=this.nextPageTokens[a];return n.makeRequest(this.request.operation,o,t)},hasNextPage:function(){return this.cacheNextPageTokens(),!!this.nextPageTokens||this.nextPageTokens===undefined&&undefined},cacheNextPageTokens:function(){if(this.hasOwnProperty("nextPageTokens"))return this.nextPageTokens;this.nextPageTokens=undefined;var t=this.request.service.paginationConfig(this.request.operation);if(!t)return this.nextPageTokens;if(this.nextPageTokens=null,t.moreResults&&!r.util.jamespath.find(t.moreResults,this.data))return this.nextPageTokens;var e=t.outputToken;return"string"==typeof e&&(e=[e]),r.util.arrayEach.call(this,e,function(t){var e=r.util.jamespath.find(t,this.data);e&&(this.nextPageTokens=this.nextPageTokens||[],this.nextPageTokens.push(e))}),this.nextPageTokens}})}).call(this,t("_process"))},{"./core":5,_process:125,stream:145}],12:[function(t){(function(e){var n=t("./core"),r=n.util.nodeRequire("domain");n.SequentialExecutor=n.util.inherit({constructor:function(){this.domain=r&&r.active,this._events={}},listeners:function(t){return this._events[t]?this._events[t].slice(0):[]},on:function(t,e){return this._events[t]?this._events[t].push(e):this._events[t]=[e],this},onAsync:function(t,e){return e._isAsync=!0,this.on(t,e)},removeListener:function(t,e){var n=this._events[t];if(n){for(var r=n.length,i=-1,o=0;o<r;++o)n[o]===e&&(i=o);i>-1&&n.splice(i,1)}return this},removeAllListeners:function(t){return t?delete this._events[t]:this._events={},this},emit:function(t,n,i){i||(i=this.unhandledErrorCallback),r&&this.domain instanceof r.Domain&&this.domain.enter(),"aliyun"==e.env.DEBUG&&console.log("emit",t);var o=this.listeners(t),s=o.length;return this.callListeners(o,n,i),s>0},callListeners:function(t,e,n){if(0===t.length)n.call(this),r&&this.domain instanceof r.Domain&&this.domain.exit();else{var i=t.shift();if(i._isAsync){var o=function(i){i?(n.call(this,i),r&&this.domain instanceof r.Domain&&this.domain.exit()):this.callListeners(t,e,n)}.bind(this);i.apply(this,e.concat([o]))}else try{i.apply(this,e),this.callListeners(t,e,n)}catch(t){n.call(this,t),r&&this.domain instanceof r.Domain&&this.domain.exit()}}},addListeners:function(t){var e=this;return t._events&&(t=t._events),n.util.each(t,function(t,r){"function"==typeof r&&(r=[r]),n.util.arrayEach(r,function(n){e.on(t,n)})}),e},addNamedListener:function(t,e,n){return this[t]=n,this.addListener(e,n),this},addNamedAsyncListener:function(t,e,n){return n._isAsync=!0,this.addNamedListener(t,e,n)},addNamedListeners:function(t){var e=this;return t(function(){e.addNamedListener.apply(e,arguments)},function(){e.addNamedAsyncListener.apply(e,arguments)}),this},unhandledErrorCallback:function(t){if(t){if(!(r&&this.domain instanceof r.Domain))throw t;t.domainEmitter=this,t.domain=this.domain,t.domainThrown=!1,this.domain.emit("error",t)}}}),n.SequentialExecutor.prototype.addListener=n.SequentialExecutor.prototype.on,n.SequentialExecutor.prototype.addAsyncListener=n.SequentialExecutor.prototype.onAsync}).call(this,t("_process"))},{"./core":5,_process:125}],13:[function(t){(function(e){var n=t("./core"),r=n.util.inherit;n.Service=r({constructor:function(t){if(!this.loadServiceClass)throw n.util.error(new Error,"Service must be constructed with `new' operator");var e=this.loadServiceClass(t||{});if(e)return new e(t);this.initialize(t)},initialize:function(t){this.config=new n.Config(t)},loadServiceClass:function(t){if(n.util.isEmpty(this.api)&&this.constructor.services)return this.getLatestServiceClass(t.apiVersion)},getLatestServiceClass:function(t){return null===this.constructor.services[t]&&n.Service.defineServiceApi(this.constructor,t),this.constructor.services[t]},api:{},defaultRetryCount:3,makeRequest:function(t,e,r){if("function"==typeof e&&(r=e,e=null),e=e||{},this.config.params){var i=this.api.operations[t];i&&(e=n.util.copy(e),n.util.each(this.config.params,function(t,n){i.input.members[t]&&(e[t]===undefined||null===e[t])&&(e[t]=n)}))}var o=new n.Request(this,t,e);return this.addAllRequestListeners(o),r&&o.send(r),o},makeUnauthenticatedRequest:function(t,e,r){"function"==typeof e&&(r=e,e={});var i=this.makeRequest(t,e);return i.removeListener("sign",n.EventListeners.Core.SIGN),"query"===this.api.format&&i.addListener("build",function(t){t.httpRequest.method="GET",t.httpRequest.path="/?"+t.httpRequest.body,t.httpRequest.body="",delete t.httpRequest.headers["Content-Length"],delete t.httpRequest.headers["Content-Type"]}),r?i.send(r):i},addAllRequestListeners:function(t){for(var e=[n.events,n.EventListeners.Core,this.serviceInterface()],r=0;r<e.length;r++)e[r]&&t.addListeners(e[r]);this.config.paramValidation||t.removeListener("validate",n.EventListeners.Core.VALIDATE_PARAMETERS),this.config.logger&&t.addListeners(n.EventListeners.Logger),this.setupRequestListeners(t)},setupRequestListeners:function(){},getSignerClass:function(){var t=this.api.signatureVersion;return n.Signers.RequestSigner.getVersion(t)},serviceInterface:function(){switch(this.api.format){case"query":return n.EventListeners.Query;case"json":return n.EventListeners.Json;case"rest":return n.EventListeners.Rest;case"rest-json":return n.EventListeners.RestJson;case"pop":return n.EventListeners.Pop;case"top":return n.EventListeners.Top;case"rest-xml":return n.EventListeners.RestXml}if(this.api.format)throw new Error("Invalid service `format' "+this.api.format+" in API config")},successfulResponse:function(t){return t.httpResponse.statusCode<300},numRetries:function(){return this.config.maxRetries!==undefined?this.config.maxRetries:this.defaultRetryCount},retryDelays:function(){for(var t=this.numRetries(),e=[],n=0;n<t;++n)e[n]=30*Math.pow(2,n);return e},retryableError:function(t){return!!this.networkingError(t)||(!!this.throttledError(t)||t.statusCode>=500)},networkingError:function(t){return"NetworkingError"==t.code},throttledError:function(t){return"ProvisionedThroughputExceededException"==t.code},isRegionCN:function(){return!!this.config.region&&!!this.config.region.match(/^cn-/)},isRegionV4:function(){return this.isRegionCN()},paginationConfig:function(t,e){function r(t){if(e){var r=new Error;throw n.util.error(r,"No pagination configuration for "+t)}return null}return this.api.pagination?this.api.pagination[t]?this.api.pagination[t]:r(t):r("service")}}),n.util.update(n.Service,{defineMethods:function(t){n.util.each(t.prototype.api.operations,function(e){t.prototype[e]||(t.prototype[e]=function(t,n){return this.makeRequest(e,t,n)})})},defineService:function(t,e,i){Array.isArray(e)||(i=e,e=[]);var o=r(n.Service,i||{});if("string"==typeof t){for(var s={},a=0;a<e.length;a++)s[e[a]]=null;o.services=o.services||s,o.apiVersions=Object.keys(o.services).sort(),o.serviceIdentifier=o.serviceIdentifier||t}else o.prototype.api=t,n.Service.defineMethods(o);return o},defineServiceApi:function(i,o){var s=r(i,{serviceIdentifier:i.serviceIdentifier});if("string"==typeof o){var a=i.serviceIdentifier+"-"+o,u=e+"/../apis/"+a+".json";try{if(n.util.isBrowser())s.prototype.api=t(a+".json");else{var l=t("fs");s.prototype.api=JSON.parse(l.readFileSync(u))}}catch(t){throw n.util.error(t,{message:"Could not find API configuration "+a})}i.services.hasOwnProperty(o)||i.apiVersions.push(o),i.services[o]=s}else setApi(o);return n.Service.defineMethods(s),s}})}).call(this,"/lib")},{"./core":5,fs:116}],14:[function(t){var e=t("../core");t("../json/builder"),e.ServiceInterface.Json={buildRequest:function(t){var n=t.httpRequest,r=t.service.api,i=r.targetPrefix+"."+r.operations[t.operation].name,o=r.jsonVersion||"1.0",s=r.operations[t.operation].input,a=new e.JSON.Builder(s,r);n.path="/",n.body=a.build(t.params||{}),n.headers["Content-Type"]="application/x-amz-json-"+o,n.headers["X-Amz-Target"]=i},extractError:function(t){var n={},r=t.httpResponse;if(r.body.length>0){var i=JSON.parse(r.body.toString());i.__type||i.code?n.code=(i.__type||i.code).split("#").pop():n.code="UnknownError","RequestEntityTooLarge"===n.code?n.message="Request body must be less than 1 MB":n.message=i.message||i.Message||null}else n.code=r.statusCode,n.message=null;t.error=e.util.error(new Error,n)},extractData:function(t){t.data=JSON.parse(t.httpResponse.body.toString()||"{}")}}},{"../core":5,"../json/builder":9}],15:[function(t){var e=t("../core");t("./rest"),t("./json"),e.ServiceInterface.Pop={buildRequest:function(t){e.ServiceInterface.Rest.buildRequest(t),e.ServiceInterface.Pop.populateBody(t)},extractError:function(t){e.ServiceInterface.Json.extractError(t)},extractData:function(t){t.data=JSON.parse(t.httpResponse.body.toString())},populateBody:function(t){t.httpRequest.headers["Content-Type"]="application/x-www-form-urlencoded;charset=UTF-8";var n=t.params;n.Format="JSON",n.Version=t.service.api.apiVersion,n.AccessKeyId=t.service.config.accessKeyId,n.SignatureVersion="1.0",n.SignatureMethod="HMAC-SHA1",n.SignatureNonce=Math.round(1e6*Math.random()),n.Timestamp=e.util.date.iso8601(e.util.date.getDate());var r=[];e.util.each(n,function(t){r.push(t)}),r.sort(function(t,e){return t<e?-1:1});var i="";e.util.arrayEach.call(this,r,function(t){i+="&"+t+"="+e.util.popEscape(n[t])});var o="POST&%2F&"+e.util.popEscape(i.substr(1));n.Signature=e.util.crypto.hmac(t.service.config.secretAccessKey+"&",o,"base64","sha1");var s=e.util.queryParamsToString(n);t.httpRequest.body=s},buildJSON:function(t,n,r){return new e.JSON.Builder(n,r).build(t)}}},{"../core":5,"./json":14,"./rest":17}],16:[function(t){var e=t("../core"),n=e.util.inherit;e.ServiceInterface.Query={buildRequest:function(t){var n=t.service.api.operations[t.operation],r=t.httpRequest;r.method="GET",r.headers["Content-Type"]="application/x-www-form-urlencoded; charset=utf-8",r.params={Action:n.name,Version:t.service.api.apiVersion,Timestamp:e.util.date.iso8601(e.util.date.getDate()),Format:"json",AccessKeyId:t.service.config.accessKeyId,SignatureVersion:"1.0",SignatureMethod:"HMAC-SHA1",SignatureNonce:e.util.uuid()};var i=n.input;i&&(i=i.members),new e.QueryParamSerializer(i,t.service.api).serialize(t.params,function(t,e){r.params[t]=e}),r.path="/?"+e.util.queryParamsToString(r.params)},extractError:function(t){var n=JSON.parse(t.httpResponse.body.toString());n.Code?t.error=e.util.error(new Error,{code:n.Code,message:n.Message,RequestId:n.RequestId}):t.error=e.util.error(new Error,{code:t.httpResponse.statusCode,message:null,RequestId:n.RequestId})},extractData:function(t){t.data=t.httpResponse.body.toString()}},e.QueryParamSerializer=n({constructor:function(t,e){this.rules=t,this.timestampFormat=e?e.timestampFormat:"iso8601"},serialize:function(t,e){this.serializeStructure("",t,this.rules,e)},serializeStructure:function(t,n,r,i){var o=this;e.util.each(n,function(e,n){var s=r[e].name||e,a=t?t+"."+s:s;o.serializeMember(a,n,r[e],i)})},serializeMap:function(t,n,r,i){var o=1,s=this;e.util.each(n,function(e,n){var a=r.flattened?".":".entry.",u=a+o+++".",l=u+(r.keys.name||"key"),c=u+(r.members.name||"value");s.serializeMember(t+l,e,r.keys,i),s.serializeMember(t+c,n,r.members,i)})},serializeList:function(t,n,r,i){var o=this,s=r.members||{};e.util.arrayEach(n,function(e,n){var a="."+(n+1);if(r.flattened){if(s.name){var u=t.split(".");u.pop(),u.push(s.name),t=u.join(".")}}else a=".member"+a;o.serializeMember(t+a,e,s,i)})},serializeMember:function(t,n,r,i){if(null!==n&&n!==undefined)if("structure"===r.type)this.serializeStructure(t,n,r.members,i);else if("list"===r.type)this.serializeList(t,n,r,i);else if("map"===r.type)this.serializeMap(t,n,r,i);else if("timestamp"===r.type){var o=r.format||this.timestampFormat;i.call(this,t,e.util.date.format(n,o))}else i.call(this,t,String(n))}})},{"../core":5}],17:[function(t){var e=t("../core");e.ServiceInterface.Rest={buildRequest:function(t){e.ServiceInterface.Rest.populateMethod(t),e.ServiceInterface.Rest.populateURI(t),e.ServiceInterface.Rest.populateHeaders(t)},extractError:function(){},extractData:function(t){var n=t.request,r={},i=t.httpResponse,o=n.service.api.operations[n.operation],s=(o.output||{}).members||{},a={};e.util.each(i.headers,function(t,e){a[t.toLowerCase()]=e}),e.util.each(s,function(t,n){if("header"===n.location){var o=(n.name||t).toLowerCase();"map"==n.type&&(r[t]={},e.util.each(i.headers,function(e,i){var o=e.match(new RegExp("^"+n.name+"(.+)","i"));null!==o&&(r[t][o[1]]=i)})),a[o]!==undefined&&(r[t]=a[o])}"status"===n.location&&(r[t]=parseInt(i.statusCode,10))}),t.data=r},populateMethod:function(t){t.httpRequest.method=t.service.api.operations[t.operation].http.method},populateURI:function(t){var n=t.service.api.operations[t.operation],r=n.http.uri,i=r.split(/\?/)[0],o=(n.input||{}).members||{},s=t.service.escapePathParam||e.ServiceInterface.Rest.escapePathParam,a=t.service.escapeQuerystringParam||e.ServiceInterface.Rest.escapeQuerystringParam;e.util.each.call(this,o,function(e,n){if("uri"==n.location&&null!=t.params[e]){var o=i.match("{"+e+"}")?s(t.params[e]):a(t.params[e]);r=r.replace("{"+e+"}",o)}});var u=r.split("?")[0],l=r.split("?")[1];if(l){var c=[];e.util.arrayEach(l.split("&"),function(t){t.match("{\\w+}")||c.push(t)}),r=c.length>0?u+"?"+c.join("&"):u}else r=u;t.httpRequest.path=r},escapePathParam:function(t){return e.util.uriEscape(String(t))},escapeQuerystringParam:function(t){return e.util.uriEscape(String(t))},populateHeaders:function(t){var n=t.service.api.operations[t.operation],r=(n.input||{}).members||{};e.util.each.call(this,r,function(n,r){if("header"===r.location&&t.params[n])if("map"===r.type)e.util.each(t.params[n],function(e,n){t.httpRequest.headers[r.name+e]=n});else{var i=t.params[n];if("timestamp"===r.type){var o=r.format||t.service.api.timestampFormat;i=e.util.date.format(i,o)}t.httpRequest.headers[r.name||n]=i}}),t.service.config.securityToken&&(t.httpRequest.headers["x-oss-security-token"]=t.service.config.securityToken)}}},{"../core":5}],18:[function(t){var e=t("../core");t("./rest"),t("./json"),e.ServiceInterface.RestJson={buildRequest:function(t){e.ServiceInterface.Rest.buildRequest(t),e.ServiceInterface.RestJson.populateBody(t)},extractError:function(t){e.ServiceInterface.Json.extractError(t)},extractData:function(t){var n=t.request,r=n.service.api.operations[n.operation].output||{};if(r.payload&&r.members[r.payload])r.members[r.payload].streaming?t.data[r.payload]=t.httpResponse.body:t.data[r.payload]=t.httpResponse.body.toString();else{var i=t.data;e.ServiceInterface.Json.extractData(t),t.data=e.util.merge(i,t.data)}},populateBody:function(t){var n=t.service.api.operations[t.operation].input,r=n.payload,i={};if("string"==typeof r){var o=n.members[r];if((i=t.params[r])===undefined)return;"structure"===o.type?t.httpRequest.body=this.buildJSON(i,n,t.service.api):t.httpRequest.body=i}else r&&(e.util.arrayEach(r,function(e){t.params[e]!==undefined&&(i[e]=t.params[e])}),t.httpRequest.body=this.buildJSON(i,n,t.service.api))},buildJSON:function(t,n,r){return new e.JSON.Builder(n,r).build(t)}}},{"../core":5,"./json":14,"./rest":17}],19:[function(t){var e=t("../core");t("../xml/builder"),t("../xml/parser"),t("./rest"),e.ServiceInterface.RestXml={buildRequest:function(t){e.ServiceInterface.Rest.buildRequest(t),e.ServiceInterface.RestXml.populateBody(t)},extractError:function(t){try{var n=new e.XML.Parser({}).parse(t.httpResponse.body.toString());n.Errors&&(n=n.Errors),n.Error&&(n=n.Error),n.Code?t.error=e.util.error(new Error,{code:n.Code,message:n.Message}):t.error=e.util.error(new Error,{code:t.httpResponse.statusCode,message:null})}catch(n){t.error=e.util.error(new Error,{code:t.httpResponse.statusCode,message:t.httpResponse.body.toString()})}},extractData:function(t){e.ServiceInterface.Rest.extractData(t);var n=t.request,r=t.httpResponse,i=n.service.api.operations[n.operation],o=i.output.members,s=i.output,a=s.payload;if(a)o[a].streaming?t.data[a]=r.body:t.data[a]=r.body.toString();else if(r.body.length>0)try{var u=new e.XML.Parser(i.output||{});e.util.update(t.data,u.parse(r.body.toString()))}catch(t){}t.data.RequestId=r.headers["x-oss-request-id"]||r.headers["x-oss-requestid"]},populateBody:function(t){var n=t.service.api.operations[t.operation].input,r=n.payload,i={},o=null,s=t.params;if("string"==typeof r){if(i=n.members[r],(s=s[r])===undefined)return;"structure"===i.type?(o=new e.XML.Builder(r,i.members,t.service.api),t.httpRequest.body=o.toXML(s)):t.httpRequest.body=s}else r&&(e.util.arrayEach(r,function(t){i[t]=n.members[t]}),o=new e.XML.Builder(n.wrapper,i,t.service.api),t.httpRequest.body=o.toXML(s))}}},{"../core":5,"../xml/builder":34,"../xml/parser":35,"./rest":17}],20:[function(t){var e=t("../core");t("./rest"),t("./json"),e.ServiceInterface.Top={buildRequest:function(t){e.ServiceInterface.Top.populateMethod(t),e.ServiceInterface.Top.populateBodyAndURI(t)},extractError:function(t){e.ServiceInterface.Json.extractError(t)},extractData:function(t){t.data=JSON.parse(t.httpResponse.body.toString())},populateMethod:function(t){t.httpRequest.method=t.service.api.operations[t.operation].http.method},populateBodyAndURI:function(t){t.httpRequest.headers["Content-Type"]="application/x-www-form-urlencoded;charset=UTF-8",t.httpRequest.headers["Cache-Control"]="no-cache",t.httpRequest.headers.Connection="Keep-Alive";var n=t.params;e.util.each(n,function(t){var e=n[t];null!==e&&"object"==typeof e&&(n[t]=JSON.stringify(e))});var r={format:"json",app_key:t.service.config.accessKeyId,sign_method:"md5",v:"2.0",timestamp:e.util.date.unixMilliseconds(e.util.date.getDate()),partner_id:"taobao-sdk-python-20151223",method:n.method};delete n.method;var i=[];e.util.each(r,function(t){i.push(t)}),e.util.each(n,function(t){i.push(t)}),i.sort(function(t,e){return t.toLowerCase()<e.toLowerCase()?-1:1});var o="";e.util.arrayEach.call(this,i,function(t){o+=t+(r[t]||n[t])});var s=t.service.config.secretAccessKey+o+t.service.config.secretAccessKey;r.sign=e.util.crypto.md5(s,"hex").toUpperCase(),t.httpRequest.body=e.util.queryParamsToString(n),t.httpRequest.path="/router/rest?"+e.util.queryParamsToString(r)},buildJSON:function(t,n,r){return new e.JSON.Builder(n,r).build(t)}}},{"../core":5,"./json":14,"./rest":17}],21:[function(t,e){var n=t("../core");t("url").parse;n.BatchCompute=n.Service.defineService("batchcompute",["2015-06-30","2015-11-11"],{initialize:function(t){n.Service.prototype.initialize.call(this,t)},setupRequestListeners:function(t){var e=this,r=n.ServiceInterface.RestJson;t.addListener("build",this.addContentType),t.removeListener("extractData",r.extractData),t.addListener("extractError",this.extractError),t.addListener("extractData",function(n){e.extractData(n,t.operation)})},addContentType:function(t){var e=t.httpRequest,n=e.headers;n["x-acs-version"]=t.service.config.apiVersion,"updateJobPriority"===t.operation&&(e.body=JSON.parse(e.body).priority+"",n["Content-Type"]="application/octet-stream")},extractData:function(t,e){t.data=JSON.parse(t.httpResponse.body.toString().trim()||"{}");var n=t.data;delete n.RequestId;var r=t.httpResponse.headers["request-id"];if(t.data={code:t.httpResponse.statusCode,message:t.httpResponse.headers.status,headers:t.httpResponse.headers,requestId:r||""},"2015-06-30"==t.request.httpRequest.headers["x-acs-version"])switch(e){case"listJobs":t.data.data=this.getFormatters().formatJobList(n);break;case"getJob":t.data.data=this.getFormatters().formatJob(n);break;case"getJobDescription":t.data.data=this.getFormatters().formatJobDescription(n);break;case"listTasks":t.data.data=this.getFormatters().formatTaskList(n);break;case"listImages":t.data.data=this.getFormatters().formatImageList(n);break;case"createJob":t.data.data=this.getFormatters().formatJob(n)}else t.data.data=n},getFormatters:function(){function t(t){switch(t){case 0:return"Init";case 1:return"Waiting";case 2:return"Running";case 3:return"Finished";case 4:return"Failed";case 5:return"Stopped";default:return"Unkowned"}}return{formatJob:function(t){return t.JobId=t.ResourceId,t.JobName=t.Name,t.CreationTime=t.CreateTime,delete t.Name,delete t.ResourceId,delete t.CreateTime,"Terminated"==t.State&&(t.State="Finished"),t},formatJobList:function(t){var e=this,n=[];return Object.keys(t).forEach(function(r){n.push(e.formatJob(t[r]))}),n.sort(function(t,e){return t.JobId>e.JobId?1:-1}),n},formatTaskList:function(e){var n=[];return Object.keys(e).forEach(function(r){var i=e[r];i.TaskName=r,i.State=t(i.State),i.InstanceList=i.InstanceStatusVector,delete i.InstanceStatusVector,delete i.UnfinishedInstances,i.InstanceList&&i.InstanceList.forEach(function(e){e.State=t(e.State),delete e.WorkerStartTime,delete e.WorkerEndTime}),n.push(e[r])}),n.sort(function(t,e){return 0==t.StartTime?0==e.StartTime&&t.TaskName>e.TaskName?1:-1:0==e.StartTime?-1:t.StartTime>e.StartTime?1:-1}),n},formatImageList:function(t){var e=[];return Object.keys(t).forEach(function(n){var r=t[n];r.ImageId=n,r.ImageName=r.Name,delete r.Name,e.push(t[n])}),e.sort(function(t,e){return t.ImageId>e.ImageId?1:-1}),e},formatJobDescription:function(t){var e=t.TaskDag.TaskDescMap;return Object.keys(e).forEach(function(t){var n=e[t];delete n.BlockDeviceMapping,delete n.CreateSnapshotAfterTerminated,delete n.LoadImage,delete n.SaveImage,delete n.LoadPreparedData,delete n.MaxReplica,delete n.MinReplica}),t}}},extractError:function(t){var e=t.httpResponse.headers,r=t.httpResponse.body,i=r.toString();try{i=JSON.parse(i)}catch(t){i={}}t.error=n.util.error(new Error(i.Message),{code:i.Code||i.ErrorCode,headers:e,requestId:e["request-id"]})}}),e.exports=n.BatchCompute},{"../core":5,url:147}],22:[function(t,e){var n=t("../core"),r=t("url").parse;n.OpenSearch=n.Service.defineService("opensearch",["2015-01-01"],{initialize:function(t){n.Service.prototype.initialize.call(this,t)},setupRequestListeners:function(t){t.addListener("build",this.addContentType),t.addListener("build",this.buildContent),t.removeListener("validate",n.EventListeners.Core.VALIDATE_REGION),t.addListener("extractError",this.extractError),t.addListener("extractData",this.extractData)},populateURI:function(t){var e=t.httpRequest.endpoint.hostname,i=t.params.projectName,o=i+"."+e;if(!/^[0-9.]+$/.test(e)){var s=t.httpRequest.endpoint.protocol,a=t.httpRequest.endpoint.port,u=r(s+"//"+o+":"+a);n.util.update(t.httpRequest,{endpoint:u})}t.httpRequest.headers.Host=o,delete t.httpRequest.headers.projectName},addContentType:function(t){t.httpRequest.headers["Content-Type"]="application/x-www-form-urlencoded;charset=UTF-8"},buildContent:function(t){var e=t.service.api.operations[t.operation].input,r=e.payload,i={};if("string"==typeof r){var o=e.members[r];if((i=t.params[r])===undefined)return;"structure"===o.type?t.httpRequest.body=this.buildJSON(i,e,t.service.api):t.httpRequest.body=i}else if(r){var s=[];n.util.arrayEach(r,function(e){t.params[e]!==undefined&&(i[e]=t.params[e],"items"==e?s.push(e+"="+encodeURIComponent(JSON.stringify(t.params[e]))):s.push(e+"="+t.params[e]))}),t.httpRequest.body=s.join("&")}},willComputeChecksums:function(t){if(t.service.api.operations[t.operation].input.ContentMD5)return!0},computeContentMd5:function(t){if(t.service.willComputeChecksums(t)){var e=n.util.crypto.md5(t.httpRequest.body,"hex").toUpperCase();t.httpRequest.headers["Content-MD5"]=e}},computeSha256:function(t){t.service.getSignerClass(t)===n.Signers.V4&&(t.httpRequest.headers["X-Amz-Content-Sha256"]=n.util.crypto.sha256(t.httpRequest.body||"","hex"))},escapePathParam:function(t){return n.util.uriEscapePath(String(t))},successfulResponse:function(t){return t.httpResponse.statusCode<300},retryableError:function(t,e){return n.Service.prototype.retryableError.call(this,t,e)},extractData:function(t){n.ServiceInterface.Rest.extractData(t);var e=t.request,r=e.service.api.operations[e.operation].output||{};if(r.payload&&r.members[r.payload])r.members[r.payload].streaming?t.data[r.payload]=t.httpResponse.body:t.data[r.payload]=t.httpResponse.body.toString();else{var i=t.data;n.ServiceInterface.Json.extractData(t),t.data=n.util.merge(i,t.data)}},extractError:function(t){var e={},r=t.httpResponse;if(r.body.length>0){var i=JSON.parse(r.body.toString());i.__type||i.code?e.code=(i.__type||i.code).split("#").pop():e.code="UnknownError","RequestEntityTooLarge"===e.code?e.message="Request body must be less than 1 MB":e.message=i.message||i.Message||null}else e.code=r.statusCode,e.message=null;t.error=n.util.error(new Error,e)}}),e.exports=n.OpenSearch},{"../core":5,url:147}],23:[function(t,e){var n=t("../core");n.OSS=n.Service.defineService("oss",["2013-10-15"],{initialize:function(t){n.Service.prototype.initialize.call(this,t)},setupRequestListeners:function(t){t.addListener("build",this.addContentType),t.addListener("build",this.populateURI),t.addListener("build",this.computeContentMd5),t.addListener("extractError",this.extractError),t.addListener("extractData",this.extractData)},populateURI:function(t){var e=t.httpRequest,n=t.params.Bucket;n&&(e.endpoint.host=e.endpoint.hostname=n+"."+e.endpoint.hostname,e.virtualHostedBucket=n,e.path=e.path.replace(new RegExp("^/"+n),""),"/"!==e.path[0]&&(e.path="/"+e.path))},addContentType:function(t){var e=t.httpRequest;if(e.headers["Content-Type"]||(e.headers["Content-Type"]="application/octet-stream"),n.util.isBrowser()&&window.navigator.userAgent.match(/Firefox/)&&!e.headers["Content-Type"].match(/;/)){e.headers["Content-Type"]+="; charset=UTF-8"}},willComputeChecksums:function(t){if(t.service.api.operations[t.operation].input.members.ContentMD5&&!t.params.ContentMD5)return!0},computeContentMd5:function(t){if(t.service.willComputeChecksums(t)){var e=n.util.crypto.md5(t.httpRequest.body,"base64");t.httpRequest.headers["Content-MD5"]=e}},escapePathParam:function(t){return n.util.uriEscapePath(String(t))},successfulResponse:function(t){var e=t.request,n=t.httpResponse;return("completeMultipartUpload"!==e.operation||!n.body.toString().match("<Error>"))&&n.statusCode<300},retryableError:function(t,e){return"completeMultipartUpload"==e.operation&&200===t.statusCode||n.Service.prototype.retryableError.call(this,t,e)},extractData:function(t){if("getBucketLocation"===t.request.operation){var e=t.httpResponse.body.toString().match(/>(.+)<\/Location/);e&&(delete t.data._,t.data.LocationConstraint=e[1])}t.data.RequestId=t.httpResponse.headers["x-oss-request-id"]||t.httpResponse.headers["x-oss-requestid"]},extractError:function(t){var e={304:"NotModified",403:"Forbidden",400:"BadRequest",404:"NotFound"},r=t.httpResponse.statusCode,i=t.httpResponse.body;if(e[r]&&0===i.length)t.error=n.util.error(new Error,{code:e[t.httpResponse.statusCode],message:null,headers:t.httpResponse.headers});else{var o;try{o=new n.XML.Parser({}).parse(i.toString()),t.error=n.util.error(new Error,{code:o.Code||r,message:o.Message||null,headers:t.httpResponse.headers})}catch(e){o=i.toString(),t.error=n.util.error(new Error,{code:r,message:o,headers:t.httpResponse.headers})}}},getSignedUrl:function(t,e,r){function i(){delete a.httpRequest.headers["User-Agent"],a.service.getSignerClass()===n.Signers.V4?a.httpRequest.headers[u]=s:a.httpRequest.headers[u]=parseInt(n.util.date.unixSeconds()+s,10).toString()}function o(){var t={};n.util.each(a.httpRequest.headers,function(e,n){e===u&&(e="Expires"),t[e]=n}),delete a.httpRequest.headers[u];var e=t.Authorization.split(" ");"OSS"===e[0]&&(e=e[1].split(":"),t.OSSAccessKeyId=e[0],t.Signature=e[1]),delete t.Authorization,delete t.Host;var r=a.httpRequest.endpoint,i=n.util.urlParse(a.httpRequest.path),o=n.util.queryParamsToString(t);r.pathname=i.pathname,r.search=i.search?i.search+"&"+o:o}e=n.util.copy(e||{});var s=e.Expires||900;delete e.Expires;var a=this.makeRequest(t,e),u="presigned-expires";if(a.on("build",i),a.on("sign",o),a.removeListener("build",this.addContentType),a.removeAllListeners("afterBuild"),e.Body||a.removeListener("build",this.computeContentMd5),!r)return a.build(),n.util.urlFormat(a.httpRequest.endpoint);a.build(function(){a.response.error?r(a.response.error,null):r(null,n.util.urlFormat(a.httpRequest.endpoint))})}}),e.exports=n.OSS},{"../core":5}],24:[function(t,e){(function(n){var r=t("../core"),i=r.util.inherit;r.Signers.BatchCompute=i(r.Signers.RequestSigner,{addAuthorization:function(t,e){var n=this.request.headers;n["x-acs-date"]=r.util.date.rfc822(e),n["x-acs-signature-method"]="HMAC-SHA1",n["x-acs-signature-version"]="1.0",n["x-sdk-client"]="node.js/1.0.0",n.Accept="application/json";var i=this.sign(t.secretAccessKey,this.stringToSign()),o="acs "+t.accessKeyId+":"+i;n.Authorization=o},stringToSign:function(){var t=this.request;"GET"!=t.method&&"HEAD"!=t.method&&(t.headers["Content-Type"]=t.headers["Content-Type"]||"text/plain;charset=UTF-8");var e=[];e.push(t.method),e.push(t.headers.Accept||""),e.push(t.headers["Content-MD5"]||""),e.push(t.headers["Content-Type"]||""),e.push(t.headers["x-acs-date"]||t.headers.Date||"");var n=this.canonicalizedAmzHeaders();return n&&e.push(n),e.push(this.canonicalizedResource()),e.join("\n")},canonicalizedAmzHeaders:function(){var t=[];r.util.each(this.request.headers,function(e){e.match(/^x-acs-/i)&&t.push(e)}),t.sort(function(t,e){return t.toLowerCase()<e.toLowerCase()?-1:1});var e=[];return r.util.arrayEach.call(this,t,function(t){e.push(t.toLowerCase()+":"+String(this.request.headers[t]))}),e.join("\n")},
canonicalizedResource:function(){var t=this.request,e=t.path.split("?"),n=e[0],i=e[1],o="";if(o+=decodeURIComponent(n),i){var s=[],a=i.replace(/(^&*)|(&*$)/g,"").split("&");r.util.arrayEach.call(this,a,function(t){var e=t.split("="),n=e[0],r=e.length>1?decodeURIComponent(e[1]):"",i={name:n};r!==undefined&&(i.value=r),s.push(i)}),s.sort(function(t,e){return t.name<e.name?-1:1}),s.length&&(i=[],r.util.arrayEach(s,function(t){t.value===undefined?i.push(t.name):null!=t.value&&""!=t.value?i.push(t.name+"="+t.value):i.push(t.name)}),o+="?"+i.join("&"))}return o},sign:function(t,e){return"aliyun"==n.env.DEBUG&&(console.log("----------- sign string start -----------"),console.log(e),console.log("----------- sign string end -----------")),r.util.crypto.hmac(t,e,"base64","sha1")}}),e.exports=r.Signers.BatchCompute}).call(this,t("_process"))},{"../core":5,_process:125}],25:[function(t,e){(function(n){function r(t){for(var e="",n=0;n<t;n++)e+=Math.floor(10*Math.random());return e}var i=t("../core"),o=i.util.inherit;i.Signers.CMS=o(i.Signers.RequestSigner,{addAuthorization:function(t,e){var e=new Date,n={Format:"JSON",Version:"2015-10-20",AccessKeyId:t.accessKeyId,SignatureMethod:"HMAC-SHA1",SignatureVersion:"1.0",SignatureNonce:String(e.getTime())+r(4),Timestamp:e.toISOString().replace(/\.\d{3}/,"")},i=[];Object.keys(n).forEach(function(t){i.push(t+"="+encodeURIComponent(n[t]))}),this.request.path+=(-1==this.request.path.indexOf("?")?"?":"&")+i.join("&");var o=this.sign(t.secretAccessKey,this.stringToSign());this.request.path+="&Signature="+encodeURIComponent(o)},stringToSign:function(){return this.request.method+"&%2F&"+encodeURIComponent(this.canonicalizedQueryString())},canonicalizedQueryString:function(){var t=this,e=this.request,n=e.path.split("?")[1],r="";if(e.body&&(n+="&"+e.body),n){var o=[];i.util.arrayEach.call(this,n.split("&"),function(t){var e=t.indexOf("="),n=t.slice(0,e),r=t.slice(e+1),i={name:n};r!==undefined&&(i.value=decodeURIComponent(r)),o.push(i)}),o.sort(function(t,e){return t.name<e.name?-1:1}),o.length&&(n=[],i.util.arrayEach(o,function(e){e.value===undefined?n.push(t.cmsEscape(e.name)):n.push(t.cmsEscape(e.name)+"="+t.cmsEscape(e.value))}),r+=n.join("&"))}return r},cmsEscape:function(t){return encodeURIComponent(t).replace(/\!/gi,"%21").replace(/\'/gi,"%27").replace(/\(/gi,"%28").replace(/\)/gi,"%29").replace(/\*/gi,"%2A")},sign:function(t,e){return"aliyun"==n.env.DEBUG&&(console.log("----------- sign string start -----------"),console.log(e),console.log("----------- sign string end -----------")),i.util.crypto.hmac(t+"&",e,"base64","sha1")}}),e.exports=i.Signers.CMS}).call(this,t("_process"))},{"../core":5,_process:125}],26:[function(t,e){(function(n){function r(t){for(var e="",n=0;n<t;n++)e+=Math.floor(10*Math.random());return e}var i=t("../core"),o=i.util.inherit;i.Signers.OpenSearch=o(i.Signers.RequestSigner,{addAuthorization:function(t,e){var e=new Date,n={Version:"v2",AccessKeyId:t.accessKeyId,SignatureMethod:"HMAC-SHA1",SignatureVersion:"1.0",SignatureNonce:String(e.getTime())+r(4),Timestamp:e.toISOString().replace(/\.\d{3}/,"")},i=[];Object.keys(n).forEach(function(t){i.push(t+"="+encodeURIComponent(n[t]))}),this.request.path+=(-1==this.request.path.indexOf("?")?"?":"&")+i.join("&");var o=this.sign(t.secretAccessKey,this.stringToSign());this.request.path+="&Signature="+encodeURIComponent(o)},stringToSign:function(){return this.request.method+"&%2F&"+encodeURIComponent(this.canonicalizedQueryString())},canonicalizedQueryString:function(){var t=this.request,e=t.path.split("?")[1],n="";if(t.body&&(e+="&"+t.body),e){var r=[];i.util.arrayEach.call(this,e.split("&"),function(t){var e=t.indexOf("="),n=t.slice(0,e),i=t.slice(e+1),o={name:n};i!==undefined&&(o.value=decodeURIComponent(i)),r.push(o)}),r.sort(function(t,e){return t.name<e.name?-1:1}),r.length&&(e=[],i.util.arrayEach(r,function(t){t.value===undefined?e.push(i.util.opensearchEscape(t.name)):e.push(i.util.opensearchEscape(t.name)+"="+i.util.opensearchEscape(t.value))}),n+=e.join("&"))}return n},sign:function(t,e){return"aliyun"==n.env.DEBUG&&(console.log("----------- sign string start -----------"),console.log(e),console.log("----------- sign string end -----------")),i.util.crypto.hmac(t+"&",e,"base64","sha1")}}),e.exports=i.Signers.OpenSearch}).call(this,t("_process"))},{"../core":5,_process:125}],27:[function(t,e){(function(n){var r=t("../core"),i=r.util.inherit;r.Signers.OSS=i(r.Signers.RequestSigner,{subResources:{acl:1,cors:1,lifecycle:1,"delete":1,location:1,logging:1,notification:1,partNumber:1,policy:1,requestPayment:1,restore:1,tagging:1,torrent:1,uploadId:1,uploads:1,versionId:1,versioning:1,versions:1,website:1},responseHeaders:{"response-content-type":1,"response-content-language":1,"response-expires":1,"response-cache-control":1,"response-content-disposition":1,"response-content-encoding":1},addAuthorization:function(t,e){this.request.headers["presigned-expires"]||(r.util.isBrowser()?this.request.headers["x-oss-date"]=r.util.date.rfc822(e):this.request.headers.Date=r.util.date.rfc822(e));var n=this.sign(t.secretAccessKey,this.stringToSign()),i="OSS "+t.accessKeyId+":"+n;this.request.headers.Authorization=i},stringToSign:function(){var t=this.request,e=[];e.push(t.method),e.push(t.headers["Content-MD5"]||""),e.push(t.headers["Content-Type"]||""),e.push(t.headers["presigned-expires"]||t.headers["x-oss-date"]||t.headers.Date||"");var n=this.canonicalizedHeaders();return n&&e.push(n),e.push(this.canonicalizedResource()),e.join("\n")},canonicalizedHeaders:function(){var t=[];r.util.each(this.request.headers,function(e){e.match(/^x-oss-/i)&&t.push(e)}),t.sort(function(t,e){return t.toLowerCase()<e.toLowerCase()?-1:1});var e=[];return r.util.arrayEach.call(this,t,function(t){e.push(t.toLowerCase()+":"+String(this.request.headers[t]))}),e.join("\n")},canonicalizedResource:function(){var t=this.request,e=t.path.split("?"),n=e[0],i=e[1],o="";if(t.virtualHostedBucket&&(o+="/"+t.virtualHostedBucket),o+=decodeURIComponent(n),i){var s=[];r.util.arrayEach.call(this,i.split("&"),function(t){var e=t.split("=")[0],n=t.split("=")[1];if(this.subResources[e]||this.responseHeaders[e]){var r={name:e};n!==undefined&&(this.subResources[e]?r.value=n:r.value=decodeURIComponent(n)),s.push(r)}}),s.sort(function(t,e){return t.name<e.name?-1:1}),s.length&&(i=[],r.util.arrayEach(s,function(t){t.value===undefined?i.push(t.name):i.push(t.name+"="+t.value)}),o+="?"+i.join("&"))}return o},sign:function(t,e){return"aliyun"==n.env.DEBUG&&(console.log("----------- sign string start -----------"),console.log(e),console.log("----------- sign string end -----------")),r.util.crypto.hmac(t,e,"base64","sha1")}}),e.exports=r.Signers.OSS}).call(this,t("_process"))},{"../core":5,_process:125}],28:[function(t,e){(function(n){var r=t("../core"),i=r.util.inherit;r.Signers.OTS=i(r.Signers.RequestSigner,{subResources:{acl:1,cors:1,lifecycle:1,"delete":1,location:1,logging:1,notification:1,partNumber:1,policy:1,requestPayment:1,restore:1,tagging:1,torrent:1,uploadId:1,uploads:1,versionId:1,versioning:1,versions:1,website:1},responseHeaders:{"response-content-type":1,"response-content-language":1,"response-expires":1,"response-cache-control":1,"response-content-disposition":1,"response-content-encoding":1},addAuthorization:function(t,e){this.request.headers["x-ots-date"]=r.util.date.rfc822(e),this.request.headers["x-ots-accesskeyid"]=t.accessKeyId;var n=this.sign(t.secretAccessKey,this.stringToSign());this.request.headers["x-ots-signature"]=n},stringToSign:function(){var t=this.request,e=[];e.push(t.path),e.push(t.method+"\n");var n=this.canonicalizedHeaders();return n&&e.push(n),e.join("\n")+"\n"},canonicalizedHeaders:function(){var t=[];r.util.each(this.request.headers,function(e){e.match(/^x-ots-/i)&&t.push(e)}),t.sort(function(t,e){return t.toLowerCase()<e.toLowerCase()?-1:1});var e=[];return r.util.arrayEach.call(this,t,function(t){e.push(t.toLowerCase()+":"+String(this.request.headers[t]))}),e.join("\n")},canonicalizedResource:function(){var t=this.request,e=t.path.split("?"),n=e[0],i=e[1],o="";if(t.virtualHostedBucket&&(o+="/"+t.virtualHostedBucket),o+=decodeURIComponent(n),i){var s=[];r.util.arrayEach.call(this,i.split("&"),function(t){var e=t.split("=")[0],n=t.split("=")[1];if(this.subResources[e]||this.responseHeaders[e]){var r={name:e};n!==undefined&&(this.subResources[e]?r.value=n:r.value=decodeURIComponent(n)),s.push(r)}}),s.sort(function(t,e){return t.name<e.name?-1:1}),s.length&&(i=[],r.util.arrayEach(s,function(t){t.value===undefined?i.push(t.name):i.push(t.name+"="+t.value)}),o+="?"+i.join("&"))}return o},sign:function(t,e){return"aliyun"==n.env.DEBUG&&(console.log("----------- sign string start -----------"),console.log(e),console.log("----------- sign string end -----------")),r.util.crypto.hmac(t,e,"base64","sha1")}}),e.exports=r.Signers.OSS}).call(this,t("_process"))},{"../core":5,_process:125}],29:[function(t,e){var n=t("../core"),r=n.util.inherit;n.Signers.POP=r(n.Signers.RequestSigner,{addAuthorization:function(){}}),e.exports=n.Signers.POP},{"../core":5}],30:[function(t){var e=t("../core"),n=e.util.inherit;e.Signers.RequestSigner=n({constructor:function(t){this.request=t}}),e.Signers.RequestSigner.getVersion=function(t){switch(t){case"oss":return e.Signers.OSS;case"ots":return e.Signers.OTS;case"sls":return e.Signers.SLS;case"top":return e.Signers.TOP;case"pop":return e.Signers.POP;case"opensearch":return e.Signers.OpenSearch;case"batchcompute":return e.Signers.BatchCompute;case"cms":return e.Signers.CMS}throw new Error("Unknown signing version "+t)},t("./oss"),t("./ots"),t("./sls"),t("./opensearch"),t("./top"),t("./pop"),t("./batchcompute"),t("./cms")},{"../core":5,"./batchcompute":24,"./cms":25,"./opensearch":26,"./oss":27,"./ots":28,"./pop":29,"./sls":31,"./top":32}],31:[function(t,e){(function(n){var r=t("../core"),i=r.util.inherit;r.Signers.SLS=i(r.Signers.RequestSigner,{responseHeaders:{"response-content-type":1,"response-content-language":1,"response-expires":1,"response-cache-control":1,"response-content-disposition":1,"response-content-encoding":1},addAuthorization:function(t,e){this.request.headers.Date=r.util.date.rfc822(e);var n=this.sign(t.secretAccessKey,this.stringToSign()),i="LOG "+t.accessKeyId+":"+n;this.request.headers.Authorization=i},stringToSign:function(){var t=this.request,e=[];e.push(t.method),e.push(t.headers["Content-MD5"]||""),e.push(t.headers["Content-Type"]||""),e.push(t.headers.Date||"");var n=this.canonicalizedAmzHeaders();return n&&e.push(n),e.push(this.canonicalizedResource()),e.join("\n")},canonicalizedAmzHeaders:function(){var t=[];r.util.each(this.request.headers,function(e){e.match(/^x-log-/i)&&t.push(e)}),t.sort(function(t,e){return t.toLowerCase()<e.toLowerCase()?-1:1});var e=[];return r.util.arrayEach.call(this,t,function(t){e.push(t.toLowerCase()+":"+String(this.request.headers[t]))}),e.join("\n")},canonicalizedResource:function(){var t=this.request,e=t.path.split("?"),n=e[0],i=e[1],o="";if(o+=decodeURIComponent(n),i){var s=[],a=i.replace(/(^&*)|(&*$)/g,"").split("&");r.util.arrayEach.call(this,a,function(t){var e=t.split("="),n=e[0],r=e.length>1?decodeURIComponent(e[1]):"",i={name:n};r!==undefined&&(i.value=r),s.push(i)}),s.sort(function(t,e){return t.name<e.name?-1:1}),s.length&&(i=[],r.util.arrayEach(s,function(t){t.value===undefined?i.push(t.name):i.push(t.name+"="+t.value)}),o+="?"+i.join("&"))}return o},sign:function(t,e){return"aliyun"==n.env.DEBUG&&(console.log("----------- sign string start -----------"),console.log(e),console.log("----------- sign string end -----------")),r.util.crypto.hmac(t,e,"base64","sha1")}}),e.exports=r.Signers.SLS}).call(this,t("_process"))},{"../core":5,_process:125}],32:[function(t,e){var n=t("../core"),r=n.util.inherit;n.Signers.TOP=r(n.Signers.RequestSigner,{addAuthorization:function(){}}),e.exports=n.Signers.TOP},{"../core":5}],33:[function(t,e){(function(n){var r=t("./core"),i=t("../bower_components/jsSHA/src/sha.js"),o=t("../bower_components/spark-md5/spark-md5.js"),s=t("buffer").Buffer;r.util={engine:function(){return r.util.isBrowser()&&"undefined"!=typeof navigator?navigator.userAgent:n.platform+"/"+n.version},userAgent:function(){return""},isBrowser:function(){return"undefined"!=typeof window},isNode:function(){return!r.util.isBrowser()},nodeRequire:function(e){if(r.util.isNode())return t(e)},hexToBase64:function(t){return btoa(String.fromCharCode.apply(null,t.replace(/\r|\n/g,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ")))},topEscape:function(t){var e="",n=0;t=t.toString();for(var r=/(^[a-zA-Z0-9-_.~]*)/;n<t.length;){var i=r.exec(t.substr(n));if(null!=i&&i.length>1&&""!=i[1])e+=i[1],n+=i[1].length;else{if(" "==t[n])e+="%20";else{var o=t.charCodeAt(n),s=o.toString(16);e+="%"+(s.length<2?"0":"")+s.toUpperCase()}n++}}return e},popEscape:function(t){return t=t.toString(),t=encodeURIComponent(t).replace(/\!/gi,"%21").replace(/\'/gi,"%27").replace(/\(/gi,"%28").replace(/\)/gi,"%29").replace(/\*/gi,"%2A")},opensearchEscape:function(t){return encodeURIComponent(t).replace(/\!/gi,"%21").replace(/\'/gi,"%27").replace(/\(/gi,"%28").replace(/\)/gi,"%29").replace(/\*/gi,"%2A")},uriEscape:function(t){var e=encodeURIComponent(t);return e=e.replace(/[^A-Za-z0-9_.~\-%]+/g,escape),e=e.replace(/[*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})},uriEscapePath:function(t){var e=[];return r.util.arrayEach(t.split("/"),function(t){e.push(r.util.uriEscape(t))}),e.join("/")},urlParse:function(e){return t("url").parse(e)},urlFormat:function(e){return t("url").format(e)},uuid:function(){var t=(new Date).getTime();return window.performance&&"function"==typeof window.performance.now&&(t+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var n=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==e?n:3&n|8).toString(16)})},queryParamsToString:function(t){var e=[],n=r.util.uriEscape,i=Object.keys(t).sort();return r.util.arrayEach(i,function(i){var o=t[i],s=n(i),a=s;if(Array.isArray(o)){var u=[];r.util.arrayEach(o,function(t){u.push(n(t))}),a=s+"="+u.sort().join("&"+s+"=")}else o!==undefined&&null!==o&&(a=s+"="+n(o));e.push(a)}),e.join("&")},readFileSync:function(e){return"undefined"!=typeof window?null:t("fs").readFileSync(e,"utf-8")},base64:{encode:function(t){return new s(t).toString("base64")},decode:function(t){return new s(t,"base64").toString()}},Buffer:s,buffer:{concat:function(t){var e,n=0,r=0,i=null;for(e=0;e<t.length;e++)n+=t[e].length;for(i=new s(n),e=0;e<t.length;e++)t[e].copy(i,r),r+=t[e].length;return i}},string:{byteLength:function(e){if(null===e||e===undefined)return 0;if("string"==typeof e&&(e=new s(e)),"number"==typeof e.byteLength)return e.byteLength;if("number"==typeof e.length)return e.length;if("number"==typeof e.size)return e.size;if("string"==typeof e.path)return t("fs").lstatSync(e.path).size;throw r.util.error(new Error("Cannot determine length of "+e),{object:e})}},jamespath:{query:function(t,e){if(!e)return[];var n=[],i=t.split(/\s+or\s+/);return r.util.arrayEach.call(this,i,function(t){var i=[e],o=t.split(".");if(r.util.arrayEach.call(this,o,function(t){var e=t.match("^(.+?)(?:\\[(-?\\d+|\\*)\\])?$"),n=[];if(r.util.arrayEach.call(this,i,function(t){"*"===e[1]?r.util.arrayEach.call(this,t,function(t){n.push(t)}):t.hasOwnProperty(e[1])&&n.push(t[e[1]])}),i=n,e[2]&&(n=[],r.util.arrayEach.call(this,i,function(t){if(Array.isArray(t))if("*"===e[2])n=n.concat(t);else{var r=parseInt(e[2],10);r<0&&(r=t.length+r),n.push(t[r])}}),i=n),0===i.length)return r.util.abort}),i.length>0)return n=i,r.util.abort}),n},find:function(t,e){return r.util.jamespath.query(t,e)[0]}},date:{getDate:function(){return new Date},top:function(t,e){function n(t){return t.toString().length<2?"0"+t:t}return e=e||"%Y-%M-%dT%H:%m:%sZ",e.replace(/%([a-zA-Z])/g,function(e,r){switch(r){case"Y":return t.getUTCFullYear();case"M":return n(t.getUTCMonth()+1);case"d":return n(t.getUTCDate());case"H":return n(t.getUTCHours());case"m":return n(t.getUTCMinutes());case"s":return n(t.getUTCSeconds());default:throw new Error("Unsupported format code: "+r)}})},iso8601:function(t){return t===undefined&&(t=r.util.date.getDate()),t.toISOString()},rfc822:function(t){return t===undefined&&(t=r.util.date.getDate()),t.toUTCString()},unixSeconds:function(t){return t===undefined&&(t=r.util.date.getDate()),Math.floor(t.getTime()/1e3)},unixMilliseconds:function(t){return t===undefined&&(t=r.util.date.getDate()),t.getTime()},from:function(t){return"number"==typeof t?10==t.toString().length?new Date(1e3*t):new Date(t):"[object Date]"===Object.prototype.toString.call(t)?t:new Date(t)},format:function(t,e){return e||(e="unixSeconds"),r.util.date[e](r.util.date.from(t))}},crypto:{crc32Table:[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],crc32:function(t){var e=r.util.crypto.crc32Table,n=-1;"string"==typeof t&&(t=new s(t));for(var i=0;i<t.length;i++){n=n>>>8^e[255&(n^t.readUInt8(i))]}return(-1^n)>>>0},hmac:function(t,e,n,r){if(n||(n="binary"),"buffer"===n)return n=undefined,"";if(r||(r="sha256"),"string"!=typeof e)return"";var o;switch(r){case"md5":return"";case"sha1":o=new i("SHA-1","TEXT");break;case"sha256":o=new i("SHA-256","TEXT");break;case"sha512":o=new i("SHA-512","TEXT");break;default:return""}switch(o.setHMACKey(t,"TEXT"),o.update(e),n){case"binary":return o.getHMAC("BYTES");case"hex":return o.getHMAC("HEX");case"base64":return o.getHMAC("B64");default:return""}},md5:function(t,e){if(e||(e="binary"),"buffer"===e)return e=undefined,"";if("string"==typeof t)switch(e){case"binary":return o.hash(t,!0);case"hex":return o.hash(t);case"base64":return r.util.hexToBase64(o.hash(t));default:return""}else switch(e){case"binary":return o.ArrayBuffer.hash(t,!0);case"hex":return o.ArrayBuffer.hash(t);case"base64":return r.util.hexToBase64(o.ArrayBuffer.hash(t));default:return""}},sha256:function(){return""},toHex:function(t){for(var e=[],n=0;n<t.length;n++)e.push(("0"+t.charCodeAt(n).toString(16)).substr(-2,2));return e.join("")}},abort:{},each:function(t,e){for(var n in t)if(t.hasOwnProperty(n)){var i=e.call(this,n,t[n]);if(i===r.util.abort)break}},arrayEach:function(t,e){for(var n in t)if(t.hasOwnProperty(n)){var i=e.call(this,t[n],parseInt(n,10));if(i===r.util.abort)break}},update:function(t,e){return r.util.each(e,function(e,n){t[e]=n}),t},merge:function(t,e){return r.util.update(r.util.copy(t),e)},copy:function(t){if(null===t||t===undefined)return t;var e={};for(var n in t)e[n]=t[n];return e},isEmpty:function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0},isType:function(t,e){return"function"==typeof e&&(e=r.util.typeName(e)),Object.prototype.toString.call(t)==="[object "+e+"]"},typeName:function(t){if(t.hasOwnProperty("name"))return t.name;var e=t.toString(),n=e.match(/^\s*function (.+)\(/);return n?n[1]:e},error:function(t,e){var n=null;return"string"==typeof t.message&&""!==t.message&&("string"==typeof e||e&&e.message)&&(n=r.util.copy(t),n.message=t.message),t.message=t.message||null,"string"==typeof e?t.message=e:r.util.update(t,e),"function"==typeof Object.defineProperty&&(Object.defineProperty(t,"name",{writable:!0,enumerable:!1}),Object.defineProperty(t,"message",{enumerable:!0})),t.name=t.name||t.code||"Error",t.time=new Date,n&&(t.originalError=n),t},inherit:function(t,e){var n=null;if(e===undefined)e=t,t=Object,n={};else{var i=function(){};i.prototype=t.prototype,n=new i}return e.constructor===Object&&(e.constructor=function(){if(t!==Object)return t.apply(this,arguments)}),e.constructor.prototype=n,r.util.update(e.constructor.prototype,e),e.constructor.__super__=t,e.constructor},mixin:function(){for(var t=arguments[0],e=1;e<arguments.length;e++)for(var n in arguments[e].prototype){var r=arguments[e].prototype[n];"constructor"!=n&&(t.prototype[n]=r)}return t},hideProperties:function(t,e){"function"==typeof Object.defineProperty&&r.util.arrayEach(e,function(e){Object.defineProperty(t,e,{enumerable:!1,writable:!0,configurable:!0})})}},e.exports=r.util}).call(this,t("_process"))},{"../bower_components/jsSHA/src/sha.js":1,"../bower_components/spark-md5/spark-md5.js":2,"./core":5,_process:125,buffer:118,fs:116,url:147}],34:[function(t){var e=t("../core"),n=t("xmlbuilder"),r=e.util.inherit;e.XML.Builder=r({constructor:function(t,e,n){this.root=t,this.rules=e,this.xmlns=n.xmlnamespace,this.timestampFormat=n.timestampFormat},toXML:function(t){var e=n.create(this.root);return this.xmlns&&e.att("xmlns",this.xmlns),this.serializeStructure(this.rules,t,e),e.root().toString()},serializeStructure:function(t,n,r){e.util.each.call(this,t||{},function(t,e){var i=n[t];i!==undefined&&(e.attribute?r.att(e.name,i):this.serializeMember(t,e,i,r))})},serializeList:function(t,n,r,i){n.flattened?e.util.arrayEach.call(this,r,function(e){this.serializeMember(n.name||t,n.members,e,i)}):(i=i.ele(n.name||t),e.util.arrayEach.call(this,r,function(t){var e=n.members.name||"member";this.serializeMember(e,n.members,t,i)}))},serializeMember:function(t,n,r,i){if(null!==r&&r!==undefined){var o=t;if("structure"===n.type)i=i.ele(o),this.serializeStructure(n.members,r,i);else if("list"===n.type)this.serializeList(o,n,r,i);else if("timestamp"===n.type){var s=n.format||this.timestampFormat,a=e.util.date.format(r,s);i=i.ele(o,String(a))}else i=i.ele(o,String(r));this.applyNamespaces(i,n)}},applyNamespaces:function(t,e){if(e.xmlns){var n="xmlns";e.xmlns.prefix&&(n+=":"+e.xmlns.prefix),t.att(n,e.xmlns.uri)}}})},{"../core":5,xmlbuilder:56}],35:[function(t){var e=t("../core"),n=e.util.inherit,r=t("xml2js");e.XML.Parser=n({constructor:function(t){this.rules=(t||{}).members||{}},options:{explicitCharkey:!1,trim:!1,normalize:!1,explicitRoot:!1,emptyTag:null,explicitArray:!0,ignoreAttrs:!1,mergeAttrs:!1,validator:null},parse:function(t){var n=null,i=null;if(new r.Parser(this.options).parseString(t,function(t,e){i=t,n=e}),n)return delete n.xmlns,this.parseStructure(n,this.rules);if(i)throw e.util.error(i,{code:"XMLParserError"});return this.parseStructure({},this.rules)},parseStructure:function(t,n){var r={};return e.util.each.call(this,n,function(t,e){"list"==e.type&&(r[e.name||t]=[])}),e.util.each.call(this,t,function(t,i){if("$"==t)e.util.each.call(this,i,function(e,i){if(n[e]){var o=n[e];r[o.name||t]=this.parseMember([i],o)}});else{var o=n[t]||{};r[o.name||t]=this.parseMember(i,o)}}),r},parseMap:function(t,n){var r={},i=n.keys||{},o=n.members||{},s=i.name||"key",a=o.name||"value";return n.flattened||(t=t[0].entry),e.util.arrayEach.call(this,t,function(t){var e=this.parseMember(t[a],o);r[t[s][0]]=e}),r},parseList:function(t,n){var r=[],i=n.members||{},o=i.name||"member";return n.flattened?e.util.arrayEach.call(this,t,function(t){r.push(this.parseMember([t],i))}):e.util.arrayEach.call(this,t,function(t){e.util.arrayEach.call(this,t[o],function(t){r.push(this.parseMember([t],i))})}),r},parseMember:function(t,n){if(null===t[0])return"structure"===n.type?{}:"list"===n.type?[]:"map"===n.type?{}:null;if(t[0].$&&"base64"==t[0].$.encoding)return e.util.base64.decode(t[0]._);if(n.type||("string"==typeof t[0]?n.type="string":t[0]._?(n.type="string",t=[t[0]._]):n.type="structure"),"string"===n.type)return t[0];if("structure"===n.type)return this.parseStructure(t[0],n.members||{});if("list"===n.type)return this.parseList(t,n);if("map"===n.type)return this.parseMap(t,n);if("integer"===n.type)return parseInt(t[0],10);if("float"===n.type)return parseFloat(t[0]);if("timestamp"===n.type)return this.parseTimestamp(t[0]);if("boolean"===n.type)return"true"===t[0];var r="unhandled type: "+n.type;throw e.util.error(new Error(r),{code:"XMLParserError"})},parseTimestamp:function(t){if(t.match(/^\d+$/))return new Date(1e3*t);if(t.match(/^\d{4}/))return new Date(t);if(t.match(/^\w{3},/))return new Date(t);throw e.util.error(new Error("unhandled timestamp format: "+t),{code:"TimestampParserError"})}})},{"../core":5,xml2js:38}],36:[function(t,e,n){(function(){t("../lib/xml2js"),n.stripBOM=function(t){return"\ufeff"===t[0]?t.substring(1):t}}).call(this)},{"../lib/xml2js":38}],37:[function(t,e,n){(function(){var t;t=new RegExp(/(?!xmlns)^.*:/),n.normalize=function(t){return t.toLowerCase()},n.firstCharLowerCase=function(t){return t.charAt(0).toLowerCase()+t.slice(1)},n.stripPrefix=function(e){return e.replace(t,"")}}).call(this)},{}],38:[function(t,e,n){(function(e){(function(){var r,i,o,s,a,u,l,c={}.hasOwnProperty,p=function(t,e){function n(){this.constructor=t}for(var r in e)c.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},d=function(t,e){return function(){return t.apply(e,arguments)}};l=t("sax"),o=t("events"),i=t("xmlbuilder"),r=t("./bom"),u=t("./processors"),s=function(t){return"object"==typeof t&&null!=t&&0===Object.keys(t).length},a=function(t,e){var n,r,i;for(r=0,i=t.length;r<i;r++)n=t[r],e=n(e);return e},n.processors=u,n.defaults={.1:{explicitCharkey:!1,trim:!0,normalize:!0,normalizeTags:!1,attrkey:"@",charkey:"#",explicitArray:!1,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!1,validator:null,xmlns:!1,explicitChildren:!1,childkey:"@@",charsAsChildren:!1,async:!1,strict:!0,attrNameProcessors:null,tagNameProcessors:null},.2:{explicitCharkey:!1,trim:!1,normalize:!1,normalizeTags:!1,attrkey:"$",charkey:"_",explicitArray:!0,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!0,validator:null,xmlns:!1,explicitChildren:!1,childkey:"$$",charsAsChildren:!1,async:!1,strict:!0,attrNameProcessors:null,tagNameProcessors:null,rootName:"root",xmldec:{version:"1.0",encoding:"UTF-8",standalone:!0},doctype:null,renderOpts:{pretty:!0,indent:"  ",newline:"\n"},headless:!1}},n.ValidationError=function(t){function e(t){this.message=t}return p(e,t),e}(Error),n.Builder=function(){function t(t){var e,r,i;this.options={},i=n.defaults[.2];for(e in i)c.call(i,e)&&(r=i[e],this.options[e]=r);for(e in t)c.call(t,e)&&(r=t[e],this.options[e]=r)}return t.prototype.buildObject=function(t){var e,r,o,s,a;return e=this.options.attrkey,r=this.options.charkey,1===Object.keys(t).length&&this.options.rootName===n.defaults[.2].rootName?(a=Object.keys(t)[0],t=t[a]):a=this.options.rootName,o=function(t,n){var i,o,s,a,u,l,p,d;if("object"!=typeof n)t.txt(n);else for(u in n)if(c.call(n,u))if(o=n[u],u===e){if("object"==typeof o)for(i in o)l=o[i],t=t.att(i,l)}else if(u===r)t=t.txt(o);else if("object"==typeof o&&null!=(null!=o?o.constructor:void 0)&&null!=(null!=o&&null!=(p=o.constructor)?p.name:void 0)&&"Array"===(null!=o&&null!=(d=o.constructor)?d.name:void 0))for(a in o)c.call(o,a)&&(s=o[a],t="string"==typeof s?t.ele(u,s).up():arguments.callee(t.ele(u),s).up());else t="object"==typeof o?arguments.callee(t.ele(u),o).up():t.ele(u,o.toString()).up();return t},s=i.create(a,this.options.xmldec,this.options.doctype,{headless:this.options.headless}),o(s,t).end(this.options.renderOpts)},t}(),n.Parser=function(t){function i(t){this.parseString=d(this.parseString,this),this.reset=d(this.reset,this),this.assignOrPush=d(this.assignOrPush,this);var e,r,i;if(!(this instanceof n.Parser))return new n.Parser(t);this.options={},i=n.defaults[.2];for(e in i)c.call(i,e)&&(r=i[e],this.options[e]=r);for(e in t)c.call(t,e)&&(r=t[e],this.options[e]=r);this.options.xmlns&&(this.options.xmlnskey=this.options.attrkey+"ns"),this.options.normalizeTags&&(this.options.tagNameProcessors||(this.options.tagNameProcessors=[]),this.options.tagNameProcessors.unshift(u.normalize)),this.reset()}return p(i,t),i.prototype.assignOrPush=function(t,e,n){return e in t?(t[e]instanceof Array||(t[e]=[t[e]]),t[e].push(n)):this.options.explicitArray?t[e]=[n]:t[e]=n},i.prototype.reset=function(){var t,e,n,r;return this.removeAllListeners(),this.saxParser=l.parser(this.options.strict,{trim:!1,normalize:!1,xmlns:this.options.xmlns}),this.saxParser.errThrown=!1,this.saxParser.onerror=function(t){return function(e){if(t.saxParser.resume(),!t.saxParser.errThrown)return t.saxParser.errThrown=!0,t.emit("error",e)}}(this),this.saxParser.ended=!1,this.EXPLICIT_CHARKEY=this.options.explicitCharkey,this.resultObject=null,r=[],t=this.options.attrkey,e=this.options.charkey,this.saxParser.onopentag=function(n){return function(i){var o,s,u,l,p;if(u={},u[e]="",!n.options.ignoreAttrs){p=i.attributes;for(o in p)c.call(p,o)&&(!(t in u)&&!n.options.mergeAttrs&&(u[t]={}),s=i.attributes[o],l=n.options.attrNameProcessors?a(n.options.attrNameProcessors,o):o,n.options.mergeAttrs?n.assignOrPush(u,l,s):u[t][l]=s)}return u["#name"]=n.options.tagNameProcessors?a(n.options.tagNameProcessors,i.name):i.name,n.options.xmlns&&(u[n.options.xmlnskey]={uri:i.uri,local:i.local}),r.push(u)}}(this),this.saxParser.onclosetag=function(t){return function(){var n,i,o,a,u,l,c,p,d;if(l=r.pop(),u=l["#name"],delete l["#name"],n=l.cdata,delete l.cdata,p=r[r.length-1],l[e].match(/^\s*$/)&&!n?(i=l[e],delete l[e]):(t.options.trim&&(l[e]=l[e].trim()),t.options.normalize&&(l[e]=l[e].replace(/\s{2,}/g," ").trim()),1===Object.keys(l).length&&e in l&&!t.EXPLICIT_CHARKEY&&(l=l[e])),s(l)&&(l=void 0!==t.options.emptyTag?t.options.emptyTag:i),null!=t.options.validator){d="/"+function(){var t,e,n;for(n=[],t=0,e=r.length;t<e;t++)a=r[t],n.push(a["#name"]);return n}().concat(u).join("/");try{l=t.options.validator(d,p&&p[u],l)}catch(e){o=e,t.emit("error",o)}}return t.options.explicitChildren&&!t.options.mergeAttrs&&"object"==typeof l&&(a={},t.options.attrkey in l&&(a[t.options.attrkey]=l[t.options.attrkey],delete l[t.options.attrkey]),!t.options.charsAsChildren&&t.options.charkey in l&&(a[t.options.charkey]=l[t.options.charkey],delete l[t.options.charkey]),Object.getOwnPropertyNames(l).length>0&&(a[t.options.childkey]=l),l=a),r.length>0?t.assignOrPush(p,u,l):(t.options.explicitRoot&&(c=l,l={},l[u]=c),t.resultObject=l,t.saxParser.ended=!0,t.emit("end",t.resultObject))}}(this),n=function(){return function(t){var n;if(n=r[r.length-1])return n[e]+=t,n}}(),this.saxParser.ontext=n,this.saxParser.oncdata=function(){return function(t){var e;if(e=n(t))return e.cdata=!0}}()},i.prototype.parseString=function(t,n){var i;if(null!=n&&"function"==typeof n&&(this.on("end",function(t){return this.reset(),
this.options.async?e.nextTick(function(){return n(null,t)}):n(null,t)}),this.on("error",function(t){return this.reset(),this.options.async?e.nextTick(function(){return n(t)}):n(t)})),""===t.toString().trim())return this.emit("end",null),!0;try{return this.saxParser.write(r.stripBOM(t.toString())).close()}catch(t){if(i=t,!this.saxParser.errThrown&&!this.saxParser.ended)return this.emit("error",i),this.saxParser.errThrown=!0}},i}(o.EventEmitter),n.parseString=function(t,e,r){var i,o,s;return null!=r?("function"==typeof r&&(i=r),"object"==typeof e&&(o=e)):("function"==typeof e&&(i=e),o={}),s=new n.Parser(o),s.parseString(t,i)}}).call(this)}).call(this,t("_process"))},{"./bom":36,"./processors":37,_process:125,events:122,sax:39,xmlbuilder:56}],39:[function(t,e,n){(function(e){!function(n){function r(t,e){if(!(this instanceof r))return new r(t,e);var i=this;o(i),i.q=i.c="",i.bufferCheckPosition=n.MAX_BUFFER_LENGTH,i.opt=e||{},i.opt.lowercase=i.opt.lowercase||i.opt.lowercasetags,i.looseCase=i.opt.lowercase?"toLowerCase":"toUpperCase",i.tags=[],i.closed=i.closedRoot=i.sawRoot=!1,i.tag=i.error=null,i.strict=!!t,i.noscript=!!t||!!i.opt.noscript,i.state=V.BEGIN,i.ENTITIES=Object.create(n.ENTITIES),i.attribList=[],i.opt.xmlns&&(i.ns=Object.create(U)),i.trackPosition=!1!==i.opt.position,i.trackPosition&&(i.position=i.line=i.column=0),h(i,"onready")}function i(t){for(var e=Math.max(n.MAX_BUFFER_LENGTH,10),r=0,i=0,o=A.length;i<o;i++){var s=t[A[i]].length;if(s>e)switch(A[i]){case"textNode":m(t);break;case"cdata":f(t,"oncdata",t.cdata),t.cdata="";break;case"script":f(t,"onscript",t.script),t.script="";break;default:y(t,"Max buffer length exceeded: "+A[i])}r=Math.max(r,s)}t.bufferCheckPosition=n.MAX_BUFFER_LENGTH-r+t.position}function o(t){for(var e=0,n=A.length;e<n;e++)t[A[e]]=""}function s(t){m(t),""!==t.cdata&&(f(t,"oncdata",t.cdata),t.cdata=""),""!==t.script&&(f(t,"onscript",t.script),t.script="")}function a(t,e){return new u(t,e)}function u(t,e){if(!(this instanceof u))return new u(t,e);k.apply(this),this._parser=new r(t,e),this.writable=!0,this.readable=!0;var n=this;this._parser.onend=function(){n.emit("end")},this._parser.onerror=function(t){n.emit("error",t),n._parser.error=null},this._decoder=null,I.forEach(function(t){Object.defineProperty(n,"on"+t,{get:function(){return n._parser["on"+t]},set:function(e){if(!e)return n.removeAllListeners(t),n._parser["on"+t]=e;n.on(t,e)},enumerable:!0,configurable:!1})})}function l(t){return t.split("").reduce(function(t,e){return t[e]=!0,t},{})}function c(t){return"[object RegExp]"===Object.prototype.toString.call(t)}function p(t,e){return c(t)?!!e.match(t):t[e]}function d(t,e){return!p(t,e)}function h(t,e,n){t[e]&&t[e](n)}function f(t,e,n){t.textNode&&m(t),h(t,e,n)}function m(t){t.textNode=g(t.opt,t.textNode),t.textNode&&h(t,"ontext",t.textNode),t.textNode=""}function g(t,e){return t.trim&&(e=e.trim()),t.normalize&&(e=e.replace(/\s+/g," ")),e}function y(t,e){return m(t),t.trackPosition&&(e+="\nLine: "+t.line+"\nColumn: "+t.column+"\nChar: "+t.c),e=new Error(e),t.error=e,h(t,"onerror",e),t}function v(t){return t.closedRoot||b(t,"Unclosed root tag"),t.state!==V.BEGIN&&t.state!==V.TEXT&&y(t,"Unexpected end"),m(t),t.c="",t.closed=!0,h(t,"onend"),r.call(t,t.strict,t.opt),t}function b(t,e){if(!("object"==typeof t&&t instanceof r))throw new Error("bad call to strictFail");t.strict&&y(t,e)}function _(t){t.strict||(t.tagName=t.tagName[t.looseCase]());var e=t.tags[t.tags.length-1]||t,n=t.tag={name:t.tagName,attributes:{}};t.opt.xmlns&&(n.ns=e.ns),t.attribList.length=0}function w(t,e){var n=t.indexOf(":"),r=n<0?["",t]:t.split(":"),i=r[0],o=r[1];return e&&"xmlns"===t&&(i="xmlns",o=""),{prefix:i,local:o}}function E(t){if(t.strict||(t.attribName=t.attribName[t.looseCase]()),-1!==t.attribList.indexOf(t.attribName)||t.tag.attributes.hasOwnProperty(t.attribName))return t.attribName=t.attribValue="";if(t.opt.xmlns){var e=w(t.attribName,!0),n=e.prefix,r=e.local;if("xmlns"===n)if("xml"===r&&t.attribValue!==B)b(t,"xml: prefix must be bound to "+B+"\nActual: "+t.attribValue);else if("xmlns"===r&&t.attribValue!==q)b(t,"xmlns: prefix must be bound to "+q+"\nActual: "+t.attribValue);else{var i=t.tag,o=t.tags[t.tags.length-1]||t;i.ns===o.ns&&(i.ns=Object.create(o.ns)),i.ns[r]=t.attribValue}t.attribList.push([t.attribName,t.attribValue])}else t.tag.attributes[t.attribName]=t.attribValue,f(t,"onattribute",{name:t.attribName,value:t.attribValue});t.attribName=t.attribValue=""}function T(t,e){if(t.opt.xmlns){var n=t.tag,r=w(t.tagName);n.prefix=r.prefix,n.local=r.local,n.uri=n.ns[r.prefix]||"",n.prefix&&!n.uri&&(b(t,"Unbound namespace prefix: "+JSON.stringify(t.tagName)),n.uri=r.prefix);var i=t.tags[t.tags.length-1]||t;n.ns&&i.ns!==n.ns&&Object.keys(n.ns).forEach(function(e){f(t,"onopennamespace",{prefix:e,uri:n.ns[e]})});for(var o=0,s=t.attribList.length;o<s;o++){var a=t.attribList[o],u=a[0],l=a[1],c=w(u,!0),p=c.prefix,d=c.local,h=""==p?"":n.ns[p]||"",m={name:u,value:l,prefix:p,local:d,uri:h};p&&"xmlns"!=p&&!h&&(b(t,"Unbound namespace prefix: "+JSON.stringify(p)),m.uri=p),t.tag.attributes[u]=m,f(t,"onattribute",m)}t.attribList.length=0}t.tag.isSelfClosing=!!e,t.sawRoot=!0,t.tags.push(t.tag),f(t,"onopentag",t.tag),e||(t.noscript||"script"!==t.tagName.toLowerCase()?t.state=V.TEXT:t.state=V.SCRIPT,t.tag=null,t.tagName=""),t.attribName=t.attribValue="",t.attribList.length=0}function x(t){if(!t.tagName)return b(t,"Weird empty close tag."),t.textNode+="</>",t.state=V.TEXT,void 0;if(t.script){if("script"!==t.tagName)return t.script+="</"+t.tagName+">",t.tagName="",t.state=V.SCRIPT,void 0;f(t,"onscript",t.script),t.script=""}var e=t.tags.length,n=t.tagName;t.strict||(n=n[t.looseCase]());for(var r=n;e--;){if(t.tags[e].name===r)break;b(t,"Unexpected close tag")}if(e<0)return b(t,"Unmatched closing tag: "+t.tagName),t.textNode+="</"+t.tagName+">",t.state=V.TEXT,void 0;t.tagName=n;for(var i=t.tags.length;i-- >e;){var o=t.tag=t.tags.pop();t.tagName=t.tag.name,f(t,"onclosetag",t.tagName);var s={};for(var a in o.ns)s[a]=o.ns[a];var u=t.tags[t.tags.length-1]||t;t.opt.xmlns&&o.ns!==u.ns&&Object.keys(o.ns).forEach(function(e){var n=o.ns[e];f(t,"onclosenamespace",{prefix:e,uri:n})})}0===e&&(t.closedRoot=!0),t.tagName=t.attribValue=t.attribName="",t.attribList.length=0,t.state=V.TEXT}function S(t){var e,n=t.entity,r=n.toLowerCase(),i="";return t.ENTITIES[n]?t.ENTITIES[n]:t.ENTITIES[r]?t.ENTITIES[r]:(n=r,"#"===n.charAt(0)&&("x"===n.charAt(1)?(n=n.slice(2),e=parseInt(n,16),i=e.toString(16)):(n=n.slice(1),e=parseInt(n,10),i=e.toString(10))),n=n.replace(/^0+/,""),i.toLowerCase()!==n?(b(t,"Invalid character entity"),"&"+t.entity+";"):String.fromCodePoint(e))}function C(t){var e=this;if(this.error)throw this.error;if(e.closed)return y(e,"Cannot write after close. Assign an onready handler.");if(null===t)return v(e);for(var n=0,r="";e.c=r=t.charAt(n++);)switch(e.trackPosition&&(e.position++,"\n"===r?(e.line++,e.column=0):e.column++),e.state){case V.BEGIN:"<"===r?(e.state=V.OPEN_WAKA,e.startTagPosition=e.position):d(D,r)&&(b(e,"Non-whitespace before first tag."),e.textNode=r,e.state=V.TEXT);continue;case V.TEXT:if(e.sawRoot&&!e.closedRoot){for(var o=n-1;r&&"<"!==r&&"&"!==r;)(r=t.charAt(n++))&&e.trackPosition&&(e.position++,"\n"===r?(e.line++,e.column=0):e.column++);e.textNode+=t.substring(o,n-1)}"<"===r?(e.state=V.OPEN_WAKA,e.startTagPosition=e.position):(d(D,r)&&(!e.sawRoot||e.closedRoot)&&b(e,"Text data outside of root node."),"&"===r?e.state=V.TEXT_ENTITY:e.textNode+=r);continue;case V.SCRIPT:"<"===r?e.state=V.SCRIPT_ENDING:e.script+=r;continue;case V.SCRIPT_ENDING:"/"===r?e.state=V.CLOSE_TAG:(e.script+="<"+r,e.state=V.SCRIPT);continue;case V.OPEN_WAKA:if("!"===r)e.state=V.SGML_DECL,e.sgmlDecl="";else if(!p(D,r))if(p(F,r))e.state=V.OPEN_TAG,e.tagName=r;else if("/"===r)e.state=V.CLOSE_TAG,e.tagName="";else if("?"===r)e.state=V.PROC_INST,e.procInstName=e.procInstBody="";else{if(b(e,"Unencoded <"),e.startTagPosition+1<e.position){var s=e.position-e.startTagPosition;r=new Array(s).join(" ")+r}e.textNode+="<"+r,e.state=V.TEXT}continue;case V.SGML_DECL:(e.sgmlDecl+r).toUpperCase()===M?(f(e,"onopencdata"),e.state=V.CDATA,e.sgmlDecl="",e.cdata=""):e.sgmlDecl+r==="--"?(e.state=V.COMMENT,e.comment="",e.sgmlDecl=""):(e.sgmlDecl+r).toUpperCase()===j?(e.state=V.DOCTYPE,(e.doctype||e.sawRoot)&&b(e,"Inappropriately located doctype declaration"),e.doctype="",e.sgmlDecl=""):">"===r?(f(e,"onsgmldeclaration",e.sgmlDecl),e.sgmlDecl="",e.state=V.TEXT):p(N,r)?(e.state=V.SGML_DECL_QUOTED,e.sgmlDecl+=r):e.sgmlDecl+=r;continue;case V.SGML_DECL_QUOTED:r===e.q&&(e.state=V.SGML_DECL,e.q=""),e.sgmlDecl+=r;continue;case V.DOCTYPE:">"===r?(e.state=V.TEXT,f(e,"ondoctype",e.doctype),e.doctype=!0):(e.doctype+=r,"["===r?e.state=V.DOCTYPE_DTD:p(N,r)&&(e.state=V.DOCTYPE_QUOTED,e.q=r));continue;case V.DOCTYPE_QUOTED:e.doctype+=r,r===e.q&&(e.q="",e.state=V.DOCTYPE);continue;case V.DOCTYPE_DTD:e.doctype+=r,"]"===r?e.state=V.DOCTYPE:p(N,r)&&(e.state=V.DOCTYPE_DTD_QUOTED,e.q=r);continue;case V.DOCTYPE_DTD_QUOTED:e.doctype+=r,r===e.q&&(e.state=V.DOCTYPE_DTD,e.q="");continue;case V.COMMENT:"-"===r?e.state=V.COMMENT_ENDING:e.comment+=r;continue;case V.COMMENT_ENDING:"-"===r?(e.state=V.COMMENT_ENDED,e.comment=g(e.opt,e.comment),e.comment&&f(e,"oncomment",e.comment),e.comment=""):(e.comment+="-"+r,e.state=V.COMMENT);continue;case V.COMMENT_ENDED:">"!==r?(b(e,"Malformed comment"),e.comment+="--"+r,e.state=V.COMMENT):e.state=V.TEXT;continue;case V.CDATA:"]"===r?e.state=V.CDATA_ENDING:e.cdata+=r;continue;case V.CDATA_ENDING:"]"===r?e.state=V.CDATA_ENDING_2:(e.cdata+="]"+r,e.state=V.CDATA);continue;case V.CDATA_ENDING_2:">"===r?(e.cdata&&f(e,"oncdata",e.cdata),f(e,"onclosecdata"),e.cdata="",e.state=V.TEXT):"]"===r?e.cdata+="]":(e.cdata+="]]"+r,e.state=V.CDATA);continue;case V.PROC_INST:"?"===r?e.state=V.PROC_INST_ENDING:p(D,r)?e.state=V.PROC_INST_BODY:e.procInstName+=r;continue;case V.PROC_INST_BODY:if(!e.procInstBody&&p(D,r))continue;"?"===r?e.state=V.PROC_INST_ENDING:e.procInstBody+=r;continue;case V.PROC_INST_ENDING:">"===r?(f(e,"onprocessinginstruction",{name:e.procInstName,body:e.procInstBody}),e.procInstName=e.procInstBody="",e.state=V.TEXT):(e.procInstBody+="?"+r,e.state=V.PROC_INST_BODY);continue;case V.OPEN_TAG:p(H,r)?e.tagName+=r:(_(e),">"===r?T(e):"/"===r?e.state=V.OPEN_TAG_SLASH:(d(D,r)&&b(e,"Invalid character in tag name"),e.state=V.ATTRIB));continue;case V.OPEN_TAG_SLASH:">"===r?(T(e,!0),x(e)):(b(e,"Forward-slash in opening tag not followed by >"),e.state=V.ATTRIB);continue;case V.ATTRIB:if(p(D,r))continue;">"===r?T(e):"/"===r?e.state=V.OPEN_TAG_SLASH:p(F,r)?(e.attribName=r,e.attribValue="",e.state=V.ATTRIB_NAME):b(e,"Invalid attribute name");continue;case V.ATTRIB_NAME:"="===r?e.state=V.ATTRIB_VALUE:">"===r?(b(e,"Attribute without value"),e.attribValue=e.attribName,E(e),T(e)):p(D,r)?e.state=V.ATTRIB_NAME_SAW_WHITE:p(H,r)?e.attribName+=r:b(e,"Invalid attribute name");continue;case V.ATTRIB_NAME_SAW_WHITE:if("="===r)e.state=V.ATTRIB_VALUE;else{if(p(D,r))continue;b(e,"Attribute without value"),e.tag.attributes[e.attribName]="",e.attribValue="",f(e,"onattribute",{name:e.attribName,value:""}),e.attribName="",">"===r?T(e):p(F,r)?(e.attribName=r,e.state=V.ATTRIB_NAME):(b(e,"Invalid attribute name"),e.state=V.ATTRIB)}continue;case V.ATTRIB_VALUE:if(p(D,r))continue;p(N,r)?(e.q=r,e.state=V.ATTRIB_VALUE_QUOTED):(b(e,"Unquoted attribute value"),e.state=V.ATTRIB_VALUE_UNQUOTED,e.attribValue=r);continue;case V.ATTRIB_VALUE_QUOTED:if(r!==e.q){"&"===r?e.state=V.ATTRIB_VALUE_ENTITY_Q:e.attribValue+=r;continue}E(e),e.q="",e.state=V.ATTRIB_VALUE_CLOSED;continue;case V.ATTRIB_VALUE_CLOSED:p(D,r)?e.state=V.ATTRIB:">"===r?T(e):"/"===r?e.state=V.OPEN_TAG_SLASH:p(F,r)?(b(e,"No whitespace between attributes"),e.attribName=r,e.attribValue="",e.state=V.ATTRIB_NAME):b(e,"Invalid attribute name");continue;case V.ATTRIB_VALUE_UNQUOTED:if(d(O,r)){"&"===r?e.state=V.ATTRIB_VALUE_ENTITY_U:e.attribValue+=r;continue}E(e),">"===r?T(e):e.state=V.ATTRIB;continue;case V.CLOSE_TAG:if(e.tagName)">"===r?x(e):p(H,r)?e.tagName+=r:e.script?(e.script+="</"+e.tagName,e.tagName="",e.state=V.SCRIPT):(d(D,r)&&b(e,"Invalid tagname in closing tag"),e.state=V.CLOSE_TAG_SAW_WHITE);else{if(p(D,r))continue;d(F,r)?e.script?(e.script+="</"+r,e.state=V.SCRIPT):b(e,"Invalid tagname in closing tag."):e.tagName=r}continue;case V.CLOSE_TAG_SAW_WHITE:if(p(D,r))continue;">"===r?x(e):b(e,"Invalid characters in closing tag");continue;case V.TEXT_ENTITY:case V.ATTRIB_VALUE_ENTITY_Q:case V.ATTRIB_VALUE_ENTITY_U:switch(e.state){case V.TEXT_ENTITY:var a=V.TEXT,u="textNode";break;case V.ATTRIB_VALUE_ENTITY_Q:var a=V.ATTRIB_VALUE_QUOTED,u="attribValue";break;case V.ATTRIB_VALUE_ENTITY_U:var a=V.ATTRIB_VALUE_UNQUOTED,u="attribValue"}";"===r?(e[u]+=S(e),e.entity="",e.state=a):p(P,r)?e.entity+=r:(b(e,"Invalid character entity"),e[u]+="&"+e.entity+r,e.entity="",e.state=a);continue;default:throw new Error(e,"Unknown state: "+e.state)}return e.position>=e.bufferCheckPosition&&i(e),e}n.parser=function(t,e){return new r(t,e)},n.SAXParser=r,n.SAXStream=u,n.createStream=a,n.MAX_BUFFER_LENGTH=65536;var A=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];n.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(t){function e(){this.__proto__=t}return e.prototype=t,new e}),Object.getPrototypeOf||(Object.getPrototypeOf=function(t){return t.__proto__}),Object.keys||(Object.keys=function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e}),r.prototype={end:function(){v(this)},write:C,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){s(this)}};try{var k=t("stream").Stream}catch(t){var k=function(){}}var I=n.EVENTS.filter(function(t){return"error"!==t&&"end"!==t});u.prototype=Object.create(k.prototype,{constructor:{value:u}}),u.prototype.write=function(n){if("function"==typeof e&&"function"==typeof e.isBuffer&&e.isBuffer(n)){if(!this._decoder){var r=t("string_decoder").StringDecoder;this._decoder=new r("utf8")}n=this._decoder.write(n)}return this._parser.write(n.toString()),this.emit("data",n),!0},u.prototype.end=function(t){return t&&t.length&&this.write(t),this._parser.end(),!0},u.prototype.on=function(t,e){var n=this;return!n._parser["on"+t]&&-1!==I.indexOf(t)&&(n._parser["on"+t]=function(){var e=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);e.splice(0,0,t),n.emit.apply(n,e)}),k.prototype.on.call(n,t,e)};var D="\r\n\t ",R="0124356789",L="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",N="'\"",P=R+L+"#",O=D+">",M="[CDATA[",j="DOCTYPE",B="http://www.w3.org/XML/1998/namespace",q="http://www.w3.org/2000/xmlns/",U={xml:B,xmlns:q};D=l(D),R=l(R),L=l(L);var F=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,H=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;N=l(N),P=l(P),O=l(O);var V=0;n.STATE={BEGIN:V++,TEXT:V++,TEXT_ENTITY:V++,OPEN_WAKA:V++,SGML_DECL:V++,SGML_DECL_QUOTED:V++,DOCTYPE:V++,DOCTYPE_QUOTED:V++,DOCTYPE_DTD:V++,DOCTYPE_DTD_QUOTED:V++,COMMENT_STARTING:V++,COMMENT:V++,COMMENT_ENDING:V++,COMMENT_ENDED:V++,CDATA:V++,CDATA_ENDING:V++,CDATA_ENDING_2:V++,PROC_INST:V++,PROC_INST_BODY:V++,PROC_INST_ENDING:V++,OPEN_TAG:V++,OPEN_TAG_SLASH:V++,ATTRIB:V++,ATTRIB_NAME:V++,ATTRIB_NAME_SAW_WHITE:V++,ATTRIB_VALUE:V++,ATTRIB_VALUE_QUOTED:V++,ATTRIB_VALUE_CLOSED:V++,ATTRIB_VALUE_UNQUOTED:V++,ATTRIB_VALUE_ENTITY_Q:V++,ATTRIB_VALUE_ENTITY_U:V++,CLOSE_TAG:V++,CLOSE_TAG_SAW_WHITE:V++,SCRIPT:V++,SCRIPT_ENDING:V++},n.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(n.ENTITIES).forEach(function(t){var e=n.ENTITIES[t],r="number"==typeof e?String.fromCharCode(e):e;n.ENTITIES[t]=r});for(var V in n.STATE)n.STATE[n.STATE[V]]=V;V=n.STATE,String.fromCodePoint||function(){var t=String.fromCharCode,e=Math.floor,n=function(){var n,r,i=16384,o=[],s=-1,a=arguments.length;if(!a)return"";for(var u="";++s<a;){var l=Number(arguments[s]);if(!isFinite(l)||l<0||l>1114111||e(l)!=l)throw RangeError("Invalid code point: "+l);l<=65535?o.push(l):(l-=65536,n=55296+(l>>10),r=l%1024+56320,o.push(n,r)),(s+1==a||o.length>i)&&(u+=t.apply(null,o),o.length=0)}return u};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:n,configurable:!0,writable:!0}):String.fromCodePoint=n}()}(void 0===n?sax={}:n)}).call(this,t("buffer").Buffer)},{buffer:118,stream:145,string_decoder:146}],40:[function(t,e){(function(){var n;n=t("lodash/object/create"),e.exports=function(){function t(t,e,n){if(this.stringify=t.stringify,null==e)throw new Error("Missing attribute name of element "+t.name);if(null==n)throw new Error("Missing attribute value for attribute "+e+" of element "+t.name);this.name=this.stringify.attName(e),this.value=this.stringify.attValue(n)}return t.prototype.clone=function(){return n(t.prototype,this)},t.prototype.toString=function(){return" "+this.name+'="'+this.value+'"'},t}()}).call(this)},{"lodash/object/create":110}],41:[function(t,e){(function(){var n,r;r=t("./XMLStringifier"),t("./XMLDeclaration"),t("./XMLDocType"),n=t("./XMLElement"),e.exports=function(){function t(t,e){var i,o;if(null==t)throw new Error("Root element needs a name");null==e&&(e={}),this.options=e,this.stringify=new r(e),o=new n(this,"doc"),i=o.element(t),i.isRoot=!0,i.documentObject=this,this.rootObject=i,e.headless||(i.declaration(e),(null!=e.pubID||null!=e.sysID)&&i.doctype(e))}return t.prototype.root=function(){return this.rootObject},t.prototype.end=function(t){return this.toString(t)},t.prototype.toString=function(t){var e,n,r,i,o,s;return n=(null!=t?t.pretty:void 0)||!1,null!=(i=null!=t?t.indent:void 0)?i:"  ",null!=(o=null!=t?t.offset:void 0)?o:0,e=null!=(s=null!=t?t.newline:void 0)?s:"\n",r="",null!=this.xmldec&&(r+=this.xmldec.toString(t)),null!=this.doctype&&(r+=this.doctype.toString(t)),r+=this.rootObject.toString(t),n&&r.slice(-e.length)===e&&(r=r.slice(0,-e.length)),r},t}()}).call(this)},{"./XMLDeclaration":48,"./XMLDocType":49,"./XMLElement":50,"./XMLStringifier":54}],42:[function(t,e){(function(){var n,r,i=function(t,e){function n(){this.constructor=t}for(var r in e)o.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},o={}.hasOwnProperty;r=t("lodash/object/create"),n=t("./XMLNode"),e.exports=function(t){function e(t,n){if(e.__super__.constructor.call(this,t),null==n)throw new Error("Missing CDATA text");this.text=this.stringify.cdata(n)}return i(e,t),e.prototype.clone=function(){return r(e.prototype,this)},e.prototype.toString=function(t,e){var n,r,i,o,s,a,u,l,c;return o=(null!=t?t.pretty:void 0)||!1,n=null!=(a=null!=t?t.indent:void 0)?a:"  ",i=null!=(u=null!=t?t.offset:void 0)?u:0,r=null!=(l=null!=t?t.newline:void 0)?l:"\n",e||(e=0),c=new Array(e+i+1).join(n),s="",o&&(s+=c),s+="<![CDATA["+this.text+"]]>",o&&(s+=r),s},e}(n)}).call(this)},{"./XMLNode":51,"lodash/object/create":110}],43:[function(t,e){(function(){var n,r,i=function(t,e){function n(){this.constructor=t}for(var r in e)o.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},o={}.hasOwnProperty;r=t("lodash/object/create"),n=t("./XMLNode"),e.exports=function(t){function e(t,n){if(e.__super__.constructor.call(this,t),null==n)throw new Error("Missing comment text");this.text=this.stringify.comment(n)}return i(e,t),e.prototype.clone=function(){return r(e.prototype,this)},e.prototype.toString=function(t,e){var n,r,i,o,s,a,u,l,c;return o=(null!=t?t.pretty:void 0)||!1,n=null!=(a=null!=t?t.indent:void 0)?a:"  ",i=null!=(u=null!=t?t.offset:void 0)?u:0,r=null!=(l=null!=t?t.newline:void 0)?l:"\n",e||(e=0),c=new Array(e+i+1).join(n),s="",o&&(s+=c),s+="<!-- "+this.text+" -->",o&&(s+=r),s},e}(n)}).call(this)},{"./XMLNode":51,"lodash/object/create":110}],44:[function(t,e){(function(){var n;n=t("lodash/object/create"),e.exports=function(){function t(t,e,n,r,i,o){if(this.stringify=t.stringify,null==e)throw new Error("Missing DTD element name");if(null==n)throw new Error("Missing DTD attribute name");if(!r)throw new Error("Missing DTD attribute type");if(!i)throw new Error("Missing DTD attribute default");if(0!==i.indexOf("#")&&(i="#"+i),!i.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/))throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT");if(o&&!i.match(/^(#FIXED|#DEFAULT)$/))throw new Error("Default value only applies to #FIXED or #DEFAULT");this.elementName=this.stringify.eleName(e),this.attributeName=this.stringify.attName(n),this.attributeType=this.stringify.dtdAttType(r),this.defaultValue=this.stringify.dtdAttDefault(o),this.defaultValueType=i}return t.prototype.clone=function(){return n(t.prototype,this)},t.prototype.toString=function(t,e){var n,r,i,o,s,a,u,l,c;return o=(null!=t?t.pretty:void 0)||!1,n=null!=(a=null!=t?t.indent:void 0)?a:"  ",i=null!=(u=null!=t?t.offset:void 0)?u:0,r=null!=(l=null!=t?t.newline:void 0)?l:"\n",e||(e=0),c=new Array(e+i+1).join(n),s="",o&&(s+=c),s+="<!ATTLIST "+this.elementName+" "+this.attributeName+" "+this.attributeType,"#DEFAULT"!==this.defaultValueType&&(s+=" "+this.defaultValueType),this.defaultValue&&(s+=' "'+this.defaultValue+'"'),s+=">",o&&(s+=r),s},t}()}).call(this)},{"lodash/object/create":110}],45:[function(t,e){(function(){var n;n=t("lodash/object/create"),e.exports=function(){function t(t,e,n){if(this.stringify=t.stringify,null==e)throw new Error("Missing DTD element name");n||(n="(#PCDATA)"),Array.isArray(n)&&(n="("+n.join(",")+")"),this.name=this.stringify.eleName(e),this.value=this.stringify.dtdElementValue(n)}return t.prototype.clone=function(){return n(t.prototype,this)},t.prototype.toString=function(t,e){var n,r,i,o,s,a,u,l,c;return o=(null!=t?t.pretty:void 0)||!1,n=null!=(a=null!=t?t.indent:void 0)?a:"  ",i=null!=(u=null!=t?t.offset:void 0)?u:0,r=null!=(l=null!=t?t.newline:void 0)?l:"\n",e||(e=0),c=new Array(e+i+1).join(n),s="",o&&(s+=c),s+="<!ELEMENT "+this.name+" "+this.value+">",o&&(s+=r),s},t}()}).call(this)},{"lodash/object/create":110}],46:[function(t,e){(function(){var n,r;n=t("lodash/object/create"),r=t("lodash/lang/isObject"),e.exports=function(){function t(t,e,n,i){if(this.stringify=t.stringify,null==n)throw new Error("Missing entity name");if(null==i)throw new Error("Missing entity value");if(this.pe=!!e,this.name=this.stringify.eleName(n),r(i)){if(!i.pubID&&!i.sysID)throw new Error("Public and/or system identifiers are required for an external entity");if(i.pubID&&!i.sysID)throw new Error("System identifier is required for a public external entity");if(null!=i.pubID&&(this.pubID=this.stringify.dtdPubID(i.pubID)),null!=i.sysID&&(this.sysID=this.stringify.dtdSysID(i.sysID)),null!=i.nData&&(this.nData=this.stringify.dtdNData(i.nData)),this.pe&&this.nData)throw new Error("Notation declaration is not allowed in a parameter entity")}else this.value=this.stringify.dtdEntityValue(i)}return t.prototype.clone=function(){return n(t.prototype,this)},t.prototype.toString=function(t,e){var n,r,i,o,s,a,u,l,c;return o=(null!=t?t.pretty:void 0)||!1,n=null!=(a=null!=t?t.indent:void 0)?a:"  ",i=null!=(u=null!=t?t.offset:void 0)?u:0,r=null!=(l=null!=t?t.newline:void 0)?l:"\n",e||(e=0),c=new Array(e+i+1).join(n),s="",o&&(s+=c),s+="<!ENTITY",this.pe&&(s+=" %"),s+=" "+this.name,this.value?s+=' "'+this.value+'"':(this.pubID&&this.sysID?s+=' PUBLIC "'+this.pubID+'" "'+this.sysID+'"':this.sysID&&(s+=' SYSTEM "'+this.sysID+'"'),this.nData&&(s+=" NDATA "+this.nData)),s+=">",o&&(s+=r),s},t}()}).call(this)},{"lodash/lang/isObject":106,"lodash/object/create":110}],47:[function(t,e){(function(){var n;n=t("lodash/object/create"),e.exports=function(){function t(t,e,n){if(this.stringify=t.stringify,null==e)throw new Error("Missing notation name");if(!n.pubID&&!n.sysID)throw new Error("Public or system identifiers are required for an external entity");this.name=this.stringify.eleName(e),null!=n.pubID&&(this.pubID=this.stringify.dtdPubID(n.pubID)),null!=n.sysID&&(this.sysID=this.stringify.dtdSysID(n.sysID))}return t.prototype.clone=function(){return n(t.prototype,this)},t.prototype.toString=function(t,e){var n,r,i,o,s,a,u,l,c;return o=(null!=t?t.pretty:void 0)||!1,n=null!=(a=null!=t?t.indent:void 0)?a:"  ",i=null!=(u=null!=t?t.offset:void 0)?u:0,r=null!=(l=null!=t?t.newline:void 0)?l:"\n",e||(e=0),c=new Array(e+i+1).join(n),s="",o&&(s+=c),s+="<!NOTATION "+this.name,this.pubID&&this.sysID?s+=' PUBLIC "'+this.pubID+'" "'+this.sysID+'"':this.pubID?s+=' PUBLIC "'+this.pubID+'"':this.sysID&&(s+=' SYSTEM "'+this.sysID+'"'),s+=">",o&&(s+=r),s},t}()}).call(this)},{"lodash/object/create":110}],48:[function(t,e){(function(){var n,r,i,o=function(t,e){function n(){this.constructor=t}for(var r in e)s.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},s={}.hasOwnProperty;r=t("lodash/object/create"),i=t("lodash/lang/isObject"),n=t("./XMLNode"),e.exports=function(t){function e(t,n,r,o){var s;e.__super__.constructor.call(this,t),i(n)&&(s=n,n=s.version,r=s.encoding,o=s.standalone),n||(n="1.0"),null!=n&&(this.version=this.stringify.xmlVersion(n)),null!=r&&(this.encoding=this.stringify.xmlEncoding(r)),null!=o&&(this.standalone=this.stringify.xmlStandalone(o))}return o(e,t),e.prototype.clone=function(){return r(e.prototype,this)},e.prototype.toString=function(t,e){var n,r,i,o,s,a,u,l,c;return o=(null!=t?t.pretty:void 0)||!1,n=null!=(a=null!=t?t.indent:void 0)?a:"  ",i=null!=(u=null!=t?t.offset:void 0)?u:0,r=null!=(l=null!=t?t.newline:void 0)?l:"\n",e||(e=0),c=new Array(e+i+1).join(n),s="",o&&(s+=c),s+="<?xml",null!=this.version&&(s+=' version="'+this.version+'"'),null!=this.encoding&&(s+=' encoding="'+this.encoding+'"'),null!=this.standalone&&(s+=' standalone="'+this.standalone+'"'),s+="?>",o&&(s+=r),s},e}(n)}).call(this)},{"./XMLNode":51,"lodash/lang/isObject":106,"lodash/object/create":110}],49:[function(t,e){(function(){var n,r,i,o,s,a,u,l,c;l=t("lodash/object/create"),c=t("lodash/lang/isObject"),n=t("./XMLCData"),r=t("./XMLComment"),i=t("./XMLDTDAttList"),s=t("./XMLDTDEntity"),o=t("./XMLDTDElement"),a=t("./XMLDTDNotation"),u=t("./XMLProcessingInstruction"),e.exports=function(){function t(t,e,n){var r,i;this.documentObject=t,this.stringify=this.documentObject.stringify,this.children=[],c(e)&&(r=e,e=r.pubID,n=r.sysID),null==n&&(i=[e,n],n=i[0],e=i[1]),null!=e&&(this.pubID=this.stringify.dtdPubID(e)),null!=n&&(this.sysID=this.stringify.dtdSysID(n))}return t.prototype.clone=function(){return l(t.prototype,this)},t.prototype.element=function(t,e){var n;return n=new o(this,t,e),this.children.push(n),this},t.prototype.attList=function(t,e,n,r,o){var s;return s=new i(this,t,e,n,r,o),this.children.push(s),this},t.prototype.entity=function(t,e){var n;return n=new s(this,!1,t,e),this.children.push(n),this},t.prototype.pEntity=function(t,e){var n;return n=new s(this,!0,t,e),this.children.push(n),this},t.prototype.notation=function(t,e){var n;return n=new a(this,t,e),this.children.push(n),this},t.prototype.cdata=function(t){var e;return e=new n(this,t),this.children.push(e),this},t.prototype.comment=function(t){var e;return e=new r(this,t),this.children.push(e),this},t.prototype.instruction=function(t,e){var n;return n=new u(this,t,e),this.children.push(n),this},t.prototype.root=function(){return this.documentObject.root()},t.prototype.document=function(){return this.documentObject},t.prototype.toString=function(t,e){var n,r,i,o,s,a,u,l,c,p,d,h,f;if(u=(null!=t?t.pretty:void 0)||!1,i=null!=(c=null!=t?t.indent:void 0)?c:"  ",a=null!=(p=null!=t?t.offset:void 0)?p:0,s=null!=(d=null!=t?t.newline:void 0)?d:"\n",e||(e=0),f=new Array(e+a+1).join(i),l="",u&&(l+=f),l+="<!DOCTYPE "+this.root().name,this.pubID&&this.sysID?l+=' PUBLIC "'+this.pubID+'" "'+this.sysID+'"':this.sysID&&(l+=' SYSTEM "'+this.sysID+'"'),this.children.length>0){for(l+=" [",u&&(l+=s),h=this.children,r=0,o=h.length;r<o;r++)n=h[r],l+=n.toString(t,e+1);l+="]"}return l+=">",u&&(l+=s),l},t.prototype.ele=function(t,e){return this.element(t,e)},t.prototype.att=function(t,e,n,r,i){return this.attList(t,e,n,r,i)},t.prototype.ent=function(t,e){return this.entity(t,e)},t.prototype.pent=function(t,e){return this.pEntity(t,e)},t.prototype.not=function(t,e){return this.notation(t,e)},t.prototype.dat=function(t){return this.cdata(t)},t.prototype.com=function(t){return this.comment(t)},t.prototype.ins=function(t,e){return this.instruction(t,e)},t.prototype.up=function(){return this.root()},t.prototype.doc=function(){return this.document()},t}()}).call(this)},{"./XMLCData":42,"./XMLComment":43,"./XMLDTDAttList":44,"./XMLDTDElement":45,"./XMLDTDEntity":46,"./XMLDTDNotation":47,"./XMLProcessingInstruction":52,"lodash/lang/isObject":106,"lodash/object/create":110}],50:[function(t,e){(function(){var n,r,i,o,s,a,u,l=function(t,e){function n(){this.constructor=t}for(var r in e)c.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},c={}.hasOwnProperty;o=t("lodash/object/create"),u=t("lodash/lang/isObject"),a=t("lodash/lang/isFunction"),s=t("lodash/collection/every"),r=t("./XMLNode"),n=t("./XMLAttribute"),i=t("./XMLProcessingInstruction"),e.exports=function(t){function e(t,n,r){if(e.__super__.constructor.call(this,t),null==n)throw new Error("Missing element name");this.name=this.stringify.eleName(n),this.children=[],this.instructions=[],this.attributes={},null!=r&&this.attribute(r)}return l(e,t),e.prototype.clone=function(){var t,n,r,i,s,a,u,l;r=o(e.prototype,this),r.isRoot&&(r.documentObject=null),r.attributes={},u=this.attributes;for(n in u)c.call(u,n)&&(t=u[n],r.attributes[n]=t.clone());for(r.instructions=[],l=this.instructions,i=0,s=l.length;i<s;i++)a=l[i],r.instructions.push(a.clone());return r.children=[],this.children.forEach(function(t){var e;return e=t.clone(),e.parent=r,r.children.push(e)}),r},e.prototype.attribute=function(t,e){var r,i
;if(null!=t&&(t=t.valueOf()),u(t))for(r in t)c.call(t,r)&&(i=t[r],this.attribute(r,i));else a(e)&&(e=e.apply()),this.options.skipNullAttributes&&null==e||(this.attributes[t]=new n(this,t,e));return this},e.prototype.removeAttribute=function(t){var e,n,r;if(null==t)throw new Error("Missing attribute name");if(t=t.valueOf(),Array.isArray(t))for(n=0,r=t.length;n<r;n++)e=t[n],delete this.attributes[e];else delete this.attributes[t];return this},e.prototype.instruction=function(t,e){var n,r,o,s,l;if(null!=t&&(t=t.valueOf()),null!=e&&(e=e.valueOf()),Array.isArray(t))for(n=0,l=t.length;n<l;n++)r=t[n],this.instruction(r);else if(u(t))for(r in t)c.call(t,r)&&(o=t[r],this.instruction(r,o));else a(e)&&(e=e.apply()),s=new i(this,t,e),this.instructions.push(s);return this},e.prototype.toString=function(t,e){var n,r,i,o,a,u,l,p,d,h,f,m,g,y,v,b,_,w,E,T;for(m=(null!=t?t.pretty:void 0)||!1,o=null!=(y=null!=t?t.indent:void 0)?y:"  ",f=null!=(v=null!=t?t.offset:void 0)?v:0,h=null!=(b=null!=t?t.newline:void 0)?b:"\n",e||(e=0),T=new Array(e+f+1).join(o),g="",_=this.instructions,i=0,l=_.length;i<l;i++)a=_[i],g+=a.toString(t,e);m&&(g+=T),g+="<"+this.name,w=this.attributes;for(d in w)c.call(w,d)&&(n=w[d],g+=n.toString(t));if(0===this.children.length||s(this.children,function(t){return""===t.value}))g+="/>",m&&(g+=h);else if(m&&1===this.children.length&&null!=this.children[0].value)g+=">",g+=this.children[0].value,g+="</"+this.name+">",g+=h;else{for(g+=">",m&&(g+=h),E=this.children,u=0,p=E.length;u<p;u++)r=E[u],g+=r.toString(t,e+1);m&&(g+=T),g+="</"+this.name+">",m&&(g+=h)}return g},e.prototype.att=function(t,e){return this.attribute(t,e)},e.prototype.ins=function(t,e){return this.instruction(t,e)},e.prototype.a=function(t,e){return this.attribute(t,e)},e.prototype.i=function(t,e){return this.instruction(t,e)},e}(r)}).call(this)},{"./XMLAttribute":40,"./XMLNode":51,"./XMLProcessingInstruction":52,"lodash/collection/every":58,"lodash/lang/isFunction":104,"lodash/lang/isObject":106,"lodash/object/create":110}],51:[function(t,e){(function(){var n,r,i,o,s,a,u,l,c,p,d={}.hasOwnProperty;p=t("lodash/lang/isObject"),c=t("lodash/lang/isFunction"),l=t("lodash/lang/isEmpty"),s=null,n=null,r=null,i=null,o=null,a=null,u=null,e.exports=function(){function e(e){this.parent=e,this.options=this.parent.options,this.stringify=this.parent.stringify,null===s&&(s=t("./XMLElement"),n=t("./XMLCData"),r=t("./XMLComment"),i=t("./XMLDeclaration"),o=t("./XMLDocType"),a=t("./XMLRaw"),u=t("./XMLText"))}return e.prototype.clone=function(){throw new Error("Cannot clone generic XMLNode")},e.prototype.element=function(t,e,n){var r,i,o,s,a,u,h;if(s=null,null==e&&(e={}),e=e.valueOf(),p(e)||(u=[e,n],n=u[0],e=u[1]),null!=t&&(t=t.valueOf()),Array.isArray(t))for(i=0,a=t.length;i<a;i++)r=t[i],s=this.element(r);else if(c(t))s=this.element(t.apply());else if(p(t))for(o in t)d.call(t,o)&&(h=t[o],c(h)&&(h=h.apply()),p(h)&&l(h)&&(h=null),!this.options.ignoreDecorators&&this.stringify.convertAttKey&&0===o.indexOf(this.stringify.convertAttKey)?s=this.attribute(o.substr(this.stringify.convertAttKey.length),h):!this.options.ignoreDecorators&&this.stringify.convertPIKey&&0===o.indexOf(this.stringify.convertPIKey)?s=this.instruction(o.substr(this.stringify.convertPIKey.length),h):p(h)?!this.options.ignoreDecorators&&this.stringify.convertListKey&&0===o.indexOf(this.stringify.convertListKey)&&Array.isArray(h)?s=this.element(h):(s=this.element(o),s.element(h)):s=this.element(o,h));else s=!this.options.ignoreDecorators&&this.stringify.convertTextKey&&0===t.indexOf(this.stringify.convertTextKey)?this.text(n):!this.options.ignoreDecorators&&this.stringify.convertCDataKey&&0===t.indexOf(this.stringify.convertCDataKey)?this.cdata(n):!this.options.ignoreDecorators&&this.stringify.convertCommentKey&&0===t.indexOf(this.stringify.convertCommentKey)?this.comment(n):!this.options.ignoreDecorators&&this.stringify.convertRawKey&&0===t.indexOf(this.stringify.convertRawKey)?this.raw(n):this.node(t,e,n);if(null==s)throw new Error("Could not create any elements with: "+t);return s},e.prototype.insertBefore=function(t,e,n){var r,i,o;if(this.isRoot)throw new Error("Cannot insert elements at root level");return i=this.parent.children.indexOf(this),o=this.parent.children.splice(i),r=this.parent.element(t,e,n),Array.prototype.push.apply(this.parent.children,o),r},e.prototype.insertAfter=function(t,e,n){var r,i,o;if(this.isRoot)throw new Error("Cannot insert elements at root level");return i=this.parent.children.indexOf(this),o=this.parent.children.splice(i+1),r=this.parent.element(t,e,n),Array.prototype.push.apply(this.parent.children,o),r},e.prototype.remove=function(){var t;if(this.isRoot)throw new Error("Cannot remove the root element");return t=this.parent.children.indexOf(this),[].splice.apply(this.parent.children,[t,t-t+1].concat([])),this.parent},e.prototype.node=function(t,e,n){var r,i;return null!=t&&(t=t.valueOf()),null==e&&(e={}),e=e.valueOf(),p(e)||(i=[e,n],n=i[0],e=i[1]),r=new s(this,t,e),null!=n&&r.text(n),this.children.push(r),r},e.prototype.text=function(t){var e;return e=new u(this,t),this.children.push(e),this},e.prototype.cdata=function(t){var e;return e=new n(this,t),this.children.push(e),this},e.prototype.comment=function(t){var e;return e=new r(this,t),this.children.push(e),this},e.prototype.raw=function(t){var e;return e=new a(this,t),this.children.push(e),this},e.prototype.declaration=function(t,e,n){var r,o;return r=this.document(),o=new i(r,t,e,n),r.xmldec=o,r.root()},e.prototype.doctype=function(t,e){var n,r;return n=this.document(),r=new o(n,t,e),n.doctype=r,r},e.prototype.up=function(){if(this.isRoot)throw new Error("The root node has no parent. Use doc() if you need to get the document object.");return this.parent},e.prototype.root=function(){var t;if(this.isRoot)return this;for(t=this.parent;!t.isRoot;)t=t.parent;return t},e.prototype.document=function(){return this.root().documentObject},e.prototype.end=function(t){return this.document().toString(t)},e.prototype.prev=function(){var t;if(this.isRoot)throw new Error("Root node has no siblings");if((t=this.parent.children.indexOf(this))<1)throw new Error("Already at the first node");return this.parent.children[t-1]},e.prototype.next=function(){var t;if(this.isRoot)throw new Error("Root node has no siblings");if(-1===(t=this.parent.children.indexOf(this))||t===this.parent.children.length-1)throw new Error("Already at the last node");return this.parent.children[t+1]},e.prototype.importXMLBuilder=function(t){var e;return e=t.root().clone(),e.parent=this,e.isRoot=!1,this.children.push(e),this},e.prototype.ele=function(t,e,n){return this.element(t,e,n)},e.prototype.nod=function(t,e,n){return this.node(t,e,n)},e.prototype.txt=function(t){return this.text(t)},e.prototype.dat=function(t){return this.cdata(t)},e.prototype.com=function(t){return this.comment(t)},e.prototype.doc=function(){return this.document()},e.prototype.dec=function(t,e,n){return this.declaration(t,e,n)},e.prototype.dtd=function(t,e){return this.doctype(t,e)},e.prototype.e=function(t,e,n){return this.element(t,e,n)},e.prototype.n=function(t,e,n){return this.node(t,e,n)},e.prototype.t=function(t){return this.text(t)},e.prototype.d=function(t){return this.cdata(t)},e.prototype.c=function(t){return this.comment(t)},e.prototype.r=function(t){return this.raw(t)},e.prototype.u=function(){return this.up()},e}()}).call(this)},{"./XMLCData":42,"./XMLComment":43,"./XMLDeclaration":48,"./XMLDocType":49,"./XMLElement":50,"./XMLRaw":53,"./XMLText":55,"lodash/lang/isEmpty":103,"lodash/lang/isFunction":104,"lodash/lang/isObject":106}],52:[function(t,e){(function(){var n;n=t("lodash/object/create"),e.exports=function(){function t(t,e,n){if(this.stringify=t.stringify,null==e)throw new Error("Missing instruction target");this.target=this.stringify.insTarget(e),n&&(this.value=this.stringify.insValue(n))}return t.prototype.clone=function(){return n(t.prototype,this)},t.prototype.toString=function(t,e){var n,r,i,o,s,a,u,l,c;return o=(null!=t?t.pretty:void 0)||!1,n=null!=(a=null!=t?t.indent:void 0)?a:"  ",i=null!=(u=null!=t?t.offset:void 0)?u:0,r=null!=(l=null!=t?t.newline:void 0)?l:"\n",e||(e=0),c=new Array(e+i+1).join(n),s="",o&&(s+=c),s+="<?",s+=this.target,this.value&&(s+=" "+this.value),s+="?>",o&&(s+=r),s},t}()}).call(this)},{"lodash/object/create":110}],53:[function(t,e){(function(){var n,r,i=function(t,e){function n(){this.constructor=t}for(var r in e)o.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},o={}.hasOwnProperty;r=t("lodash/object/create"),n=t("./XMLNode"),e.exports=function(t){function e(t,n){if(e.__super__.constructor.call(this,t),null==n)throw new Error("Missing raw text");this.value=this.stringify.raw(n)}return i(e,t),e.prototype.clone=function(){return r(e.prototype,this)},e.prototype.toString=function(t,e){var n,r,i,o,s,a,u,l,c;return o=(null!=t?t.pretty:void 0)||!1,n=null!=(a=null!=t?t.indent:void 0)?a:"  ",i=null!=(u=null!=t?t.offset:void 0)?u:0,r=null!=(l=null!=t?t.newline:void 0)?l:"\n",e||(e=0),c=new Array(e+i+1).join(n),s="",o&&(s+=c),s+=this.value,o&&(s+=r),s},e}(n)}).call(this)},{"./XMLNode":51,"lodash/object/create":110}],54:[function(t,e){(function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},n={}.hasOwnProperty;e.exports=function(){function e(e){this.assertLegalChar=t(this.assertLegalChar,this);var r,i,o;this.allowSurrogateChars=null!=e?e.allowSurrogateChars:void 0,i=(null!=e?e.stringify:void 0)||{};for(r in i)n.call(i,r)&&(o=i[r],this[r]=o)}return e.prototype.eleName=function(t){return t=""+t||"",this.assertLegalChar(t)},e.prototype.eleText=function(t){return t=""+t||"",this.assertLegalChar(this.elEscape(t))},e.prototype.cdata=function(t){if(t=""+t||"",t.match(/]]>/))throw new Error("Invalid CDATA text: "+t);return this.assertLegalChar(t)},e.prototype.comment=function(t){if(t=""+t||"",t.match(/--/))throw new Error("Comment text cannot contain double-hypen: "+t);return this.assertLegalChar(t)},e.prototype.raw=function(t){return""+t||""},e.prototype.attName=function(t){return""+t||""},e.prototype.attValue=function(t){return t=""+t||"",this.attEscape(t)},e.prototype.insTarget=function(t){return""+t||""},e.prototype.insValue=function(t){if(t=""+t||"",t.match(/\?>/))throw new Error("Invalid processing instruction value: "+t);return t},e.prototype.xmlVersion=function(t){if(t=""+t||"",!t.match(/1\.[0-9]+/))throw new Error("Invalid version number: "+t);return t},e.prototype.xmlEncoding=function(t){if(t=""+t||"",!t.match(/[A-Za-z](?:[A-Za-z0-9._-]|-)*/))throw new Error("Invalid encoding: "+t);return t},e.prototype.xmlStandalone=function(t){return t?"yes":"no"},e.prototype.dtdPubID=function(t){return""+t||""},e.prototype.dtdSysID=function(t){return""+t||""},e.prototype.dtdElementValue=function(t){return""+t||""},e.prototype.dtdAttType=function(t){return""+t||""},e.prototype.dtdAttDefault=function(t){return null!=t?""+t||"":t},e.prototype.dtdEntityValue=function(t){return""+t||""},e.prototype.dtdNData=function(t){return""+t||""},e.prototype.convertAttKey="@",e.prototype.convertPIKey="?",e.prototype.convertTextKey="#text",e.prototype.convertCDataKey="#cdata",e.prototype.convertCommentKey="#comment",e.prototype.convertRawKey="#raw",e.prototype.convertListKey="#list",e.prototype.assertLegalChar=function(t){var e,n;if(e=this.allowSurrogateChars?/[\u0000-\u0008\u000B-\u000C\u000E-\u001F\uFFFE-\uFFFF]/:/[\u0000-\u0008\u000B-\u000C\u000E-\u001F\uD800-\uDFFF\uFFFE-\uFFFF]/,n=t.match(e))throw new Error("Invalid character ("+n+") in string: "+t+" at index "+n.index);return t},e.prototype.elEscape=function(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#xD;")},e.prototype.attEscape=function(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;")},e}()}).call(this)},{}],55:[function(t,e){(function(){var n,r,i=function(t,e){function n(){this.constructor=t}for(var r in e)o.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},o={}.hasOwnProperty;r=t("lodash/object/create"),n=t("./XMLNode"),e.exports=function(t){function e(t,n){if(e.__super__.constructor.call(this,t),null==n)throw new Error("Missing element text");this.value=this.stringify.eleText(n)}return i(e,t),e.prototype.clone=function(){return r(e.prototype,this)},e.prototype.toString=function(t,e){var n,r,i,o,s,a,u,l,c;return o=(null!=t?t.pretty:void 0)||!1,n=null!=(a=null!=t?t.indent:void 0)?a:"  ",i=null!=(u=null!=t?t.offset:void 0)?u:0,r=null!=(l=null!=t?t.newline:void 0)?l:"\n",e||(e=0),c=new Array(e+i+1).join(n),s="",o&&(s+=c),s+=this.value,o&&(s+=r),s},e}(n)}).call(this)},{"./XMLNode":51,"lodash/object/create":110}],56:[function(t,e){(function(){var n,r;r=t("lodash/object/assign"),n=t("./XMLBuilder"),e.exports.create=function(t,e,i,o){return o=r({},e,i,o),new n(t,o).root()}}).call(this)},{"./XMLBuilder":41,"lodash/object/assign":109}],57:[function(t,e){function n(t){var e=t?t.length:0;return e?t[e-1]:undefined}e.exports=n},{}],58:[function(t,e){function n(t,e,n){var u=s(t)?r:o;return n&&a(t,e,n)&&(e=undefined),"function"==typeof e&&n===undefined||(e=i(e,n,3)),u(t,e)}var r=t("../internal/arrayEvery"),i=t("../internal/baseCallback"),o=t("../internal/baseEvery"),s=t("../lang/isArray"),a=t("../internal/isIterateeCall");e.exports=n},{"../internal/arrayEvery":60,"../internal/baseCallback":64,"../internal/baseEvery":68,"../internal/isIterateeCall":93,"../lang/isArray":102}],59:[function(t,e){function n(t,e){if("function"!=typeof t)throw new TypeError(r);return e=i(e===undefined?t.length-1:+e||0,0),function(){for(var n=arguments,r=-1,o=i(n.length-e,0),s=Array(o);++r<o;)s[r]=n[e+r];switch(e){case 0:return t.call(this,s);case 1:return t.call(this,n[0],s);case 2:return t.call(this,n[0],n[1],s)}var a=Array(e+1);for(r=-1;++r<e;)a[r]=n[r];return a[e]=s,t.apply(this,a)}}var r="Expected a function",i=Math.max;e.exports=n},{}],60:[function(t,e){function n(t,e){for(var n=-1,r=t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}e.exports=n},{}],61:[function(t,e){function n(t,e){for(var n=-1,r=t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}e.exports=n},{}],62:[function(t,e){function n(t,e,n){for(var i=-1,o=r(e),s=o.length;++i<s;){var a=o[i],u=t[a],l=n(u,e[a],a,t,e);(l===l?l===u:u!==u)&&(u!==undefined||a in t)||(t[a]=l)}return t}var r=t("../object/keys");e.exports=n},{"../object/keys":111}],63:[function(t,e){function n(t,e){return null==e?t:r(e,i(e),t)}var r=t("./baseCopy"),i=t("../object/keys");e.exports=n},{"../object/keys":111,"./baseCopy":65}],64:[function(t,e){function n(t,e,n){var u=typeof t;return"function"==u?e===undefined?t:o(t,e,n):null==t?s:"object"==u?r(t):e===undefined?a(t):i(t,e)}var r=t("./baseMatches"),i=t("./baseMatchesProperty"),o=t("./bindCallback"),s=t("../utility/identity"),a=t("../utility/property");e.exports=n},{"../utility/identity":114,"../utility/property":115,"./baseMatches":75,"./baseMatchesProperty":76,"./bindCallback":81}],65:[function(t,e){function n(t,e,n){n||(n={});for(var r=-1,i=e.length;++r<i;){var o=e[r];n[o]=t[o]}return n}e.exports=n},{}],66:[function(t,e){var n=t("../lang/isObject"),r=function(){function t(){}return function(e){if(n(e)){t.prototype=e;var r=new t;t.prototype=undefined}return r||{}}}();e.exports=r},{"../lang/isObject":106}],67:[function(t,e){var n=t("./baseForOwn"),r=t("./createBaseEach"),i=r(n);e.exports=i},{"./baseForOwn":70,"./createBaseEach":83}],68:[function(t,e){function n(t,e){var n=!0;return r(t,function(t,r,i){return n=!!e(t,r,i)}),n}var r=t("./baseEach");e.exports=n},{"./baseEach":67}],69:[function(t,e){var n=t("./createBaseFor"),r=n();e.exports=r},{"./createBaseFor":84}],70:[function(t,e){function n(t,e){return r(t,e,i)}var r=t("./baseFor"),i=t("../object/keys");e.exports=n},{"../object/keys":111,"./baseFor":69}],71:[function(t,e){function n(t,e,n){if(null!=t){n!==undefined&&n in r(t)&&(e=[n]);for(var i=0,o=e.length;null!=t&&i<o;)t=t[e[i++]];return i&&i==o?t:undefined}}var r=t("./toObject");e.exports=n},{"./toObject":99}],72:[function(t,e){function n(t,e,s,a,u,l){return t===e||(null==t||null==e||!i(t)&&!o(e)?t!==t&&e!==e:r(t,e,n,s,a,u,l))}var r=t("./baseIsEqualDeep"),i=t("../lang/isObject"),o=t("./isObjectLike");e.exports=n},{"../lang/isObject":106,"./baseIsEqualDeep":73,"./isObjectLike":96}],73:[function(t,e){function n(t,e,n,p,f,m,g){var y=s(t),v=s(e),b=l,_=l;y||(b=h.call(t),b==u?b=c:b!=c&&(y=a(t))),v||(_=h.call(e),_==u?_=c:_!=c&&(v=a(e)));var w=b==c,E=_==c,T=b==_;if(T&&!y&&!w)return i(t,e,b);if(!f){var x=w&&d.call(t,"__wrapped__"),S=E&&d.call(e,"__wrapped__");if(x||S)return n(x?t.value():t,S?e.value():e,p,f,m,g)}if(!T)return!1;m||(m=[]),g||(g=[]);for(var C=m.length;C--;)if(m[C]==t)return g[C]==e;m.push(t),g.push(e);var A=(y?r:o)(t,e,n,p,f,m,g);return m.pop(),g.pop(),A}var r=t("./equalArrays"),i=t("./equalByTag"),o=t("./equalObjects"),s=t("../lang/isArray"),a=t("../lang/isTypedArray"),u="[object Arguments]",l="[object Array]",c="[object Object]",p=Object.prototype,d=p.hasOwnProperty,h=p.toString;e.exports=n},{"../lang/isArray":102,"../lang/isTypedArray":108,"./equalArrays":85,"./equalByTag":86,"./equalObjects":87}],74:[function(t,e){function n(t,e,n){var o=e.length,s=o,a=!n;if(null==t)return!s;for(t=i(t);o--;){var u=e[o];if(a&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++o<s;){u=e[o];var l=u[0],c=t[l],p=u[1];if(a&&u[2]){if(c===undefined&&!(l in t))return!1}else{var d=n?n(c,p,l):undefined;if(d===undefined?!r(p,c,n,!0):!d)return!1}}return!0}var r=t("./baseIsEqual"),i=t("./toObject");e.exports=n},{"./baseIsEqual":72,"./toObject":99}],75:[function(t,e){function n(t){var e=i(t);if(1==e.length&&e[0][2]){var n=e[0][0],s=e[0][1];return function(t){return null!=t&&(t[n]===s&&(s!==undefined||n in o(t)))}}return function(t){return r(t,e)}}var r=t("./baseIsMatch"),i=t("./getMatchData"),o=t("./toObject");e.exports=n},{"./baseIsMatch":74,"./getMatchData":89,"./toObject":99}],76:[function(t,e){function n(t,e){var n=s(t),d=a(t)&&u(e),h=t+"";return t=p(t),function(s){if(null==s)return!1;var a=h;if(s=c(s),(n||!d)&&!(a in s)){if(null==(s=1==t.length?s:r(s,o(t,0,-1))))return!1;a=l(t),s=c(s)}return s[a]===e?e!==undefined||a in s:i(e,s[a],undefined,!0)}}var r=t("./baseGet"),i=t("./baseIsEqual"),o=t("./baseSlice"),s=t("../lang/isArray"),a=t("./isKey"),u=t("./isStrictComparable"),l=t("../array/last"),c=t("./toObject"),p=t("./toPath");e.exports=n},{"../array/last":57,"../lang/isArray":102,"./baseGet":71,"./baseIsEqual":72,"./baseSlice":79,"./isKey":94,"./isStrictComparable":97,"./toObject":99,"./toPath":100}],77:[function(t,e){function n(t){return function(e){return null==e?undefined:e[t]}}e.exports=n},{}],78:[function(t,e){function n(t){var e=t+"";return t=i(t),function(n){return r(n,t,e)}}var r=t("./baseGet"),i=t("./toPath");e.exports=n},{"./baseGet":71,"./toPath":100}],79:[function(t,e){function n(t,e,n){var r=-1,i=t.length;e=null==e?0:+e||0,e<0&&(e=-e>i?0:i+e),n=n===undefined||n>i?i:+n||0,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}e.exports=n},{}],80:[function(t,e){function n(t){return null==t?"":t+""}e.exports=n},{}],81:[function(t,e){function n(t,e,n){if("function"!=typeof t)return r;if(e===undefined)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,r,i){return t.call(e,n,r,i)};case 4:return function(n,r,i,o){return t.call(e,n,r,i,o)};case 5:return function(n,r,i,o,s){return t.call(e,n,r,i,o,s)}}return function(){return t.apply(e,arguments)}}var r=t("../utility/identity");e.exports=n},{"../utility/identity":114}],82:[function(t,e){function n(t){return o(function(e,n){var o=-1,s=null==e?0:n.length,a=s>2?n[s-2]:undefined,u=s>2?n[2]:undefined,l=s>1?n[s-1]:undefined;for("function"==typeof a?(a=r(a,l,5),s-=2):(a="function"==typeof l?l:undefined,s-=a?1:0),u&&i(n[0],n[1],u)&&(a=s<3?undefined:a,s=1);++o<s;){var c=n[o];c&&t(e,c,a)}return e})}var r=t("./bindCallback"),i=t("./isIterateeCall"),o=t("../function/restParam");e.exports=n},{"../function/restParam":59,"./bindCallback":81,"./isIterateeCall":93}],83:[function(t,e){function n(t,e){return function(n,s){var a=n?r(n):0;if(!i(a))return t(n,s);for(var u=e?a:-1,l=o(n);(e?u--:++u<a)&&!1!==s(l[u],u,l););return n}}var r=t("./getLength"),i=t("./isLength"),o=t("./toObject");e.exports=n},{"./getLength":88,"./isLength":95,"./toObject":99}],84:[function(t,e){function n(t){return function(e,n,i){for(var o=r(e),s=i(e),a=s.length,u=t?a:-1;t?u--:++u<a;){var l=s[u];if(!1===n(o[l],l,o))break}return e}}var r=t("./toObject");e.exports=n},{"./toObject":99}],85:[function(t,e){function n(t,e,n,i,o,s,a){var u=-1,l=t.length,c=e.length;if(l!=c&&!(o&&c>l))return!1;for(;++u<l;){var p=t[u],d=e[u],h=i?i(o?d:p,o?p:d,u):undefined;if(h!==undefined){if(h)continue;return!1}if(o){if(!r(e,function(t){return p===t||n(p,t,i,o,s,a)}))return!1}else if(p!==d&&!n(p,d,i,o,s,a))return!1}return!0}var r=t("./arraySome");e.exports=n},{"./arraySome":61}],86:[function(t,e){function n(t,e,n){switch(n){case r:case i:return+t==+e;case o:return t.name==e.name&&t.message==e.message;case s:return t!=+t?e!=+e:t==+e;case a:case u:return t==e+""}return!1}var r="[object Boolean]",i="[object Date]",o="[object Error]",s="[object Number]",a="[object RegExp]",u="[object String]";e.exports=n},{}],87:[function(t,e){function n(t,e,n,i,s,a,u){var l=r(t),c=l.length;if(c!=r(e).length&&!s)return!1;for(var p=c;p--;){var d=l[p];if(!(s?d in e:o.call(e,d)))return!1}for(var h=s;++p<c;){d=l[p];var f=t[d],m=e[d],g=i?i(s?m:f,s?f:m,d):undefined;if(g===undefined?!n(f,m,i,s,a,u):!g)return!1;h||(h="constructor"==d)}if(!h){var y=t.constructor,v=e.constructor;if(y!=v&&"constructor"in t&&"constructor"in e&&!("function"==typeof y&&y instanceof y&&"function"==typeof v&&v instanceof v))return!1}return!0}var r=t("../object/keys"),i=Object.prototype,o=i.hasOwnProperty;e.exports=n},{"../object/keys":111}],88:[function(t,e){var n=t("./baseProperty"),r=n("length");e.exports=r},{"./baseProperty":77}],89:[function(t,e){function n(t){for(var e=i(t),n=e.length;n--;)e[n][2]=r(e[n][1]);return e}var r=t("./isStrictComparable"),i=t("../object/pairs");e.exports=n},{"../object/pairs":113,"./isStrictComparable":97}],90:[function(t,e){function n(t,e){var n=null==t?undefined:t[e];return r(n)?n:undefined}var r=t("../lang/isNative");e.exports=n},{"../lang/isNative":105}],91:[function(t,e){function n(t){return null!=t&&i(r(t))}var r=t("./getLength"),i=t("./isLength");e.exports=n},{"./getLength":88,"./isLength":95}],92:[function(t,e){function n(t,e){return t="number"==typeof t||r.test(t)?+t:-1,e=null==e?i:e,t>-1&&t%1==0&&t<e}var r=/^\d+$/,i=9007199254740991;e.exports=n},{}],93:[function(t,e){function n(t,e,n){if(!o(n))return!1;var s=typeof e;if("number"==s?r(n)&&i(e,n.length):"string"==s&&e in n){var a=n[e];return t===t?t===a:a!==a}return!1}var r=t("./isArrayLike"),i=t("./isIndex"),o=t("../lang/isObject");e.exports=n},{"../lang/isObject":106,"./isArrayLike":91,"./isIndex":92}],94:[function(t,e){function n(t,e){var n=typeof t;return!!("string"==n&&s.test(t)||"number"==n)||!r(t)&&(!o.test(t)||null!=e&&t in i(e))}var r=t("../lang/isArray"),i=t("./toObject"),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,s=/^\w*$/;e.exports=n},{"../lang/isArray":102,"./toObject":99}],95:[function(t,e){function n(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=r}var r=9007199254740991;e.exports=n},{}],96:[function(t,e){function n(t){return!!t&&"object"==typeof t}e.exports=n},{}],97:[function(t,e){function n(t){return t===t&&!r(t)}var r=t("../lang/isObject");e.exports=n},{"../lang/isObject":106}],98:[function(t,e){function n(t){for(var e=a(t),n=e.length,u=n&&t.length,c=!!u&&s(u)&&(i(t)||r(t)),p=-1,d=[];++p<n;){var h=e[p];(c&&o(h,u)||l.call(t,h))&&d.push(h)}return d}var r=t("../lang/isArguments"),i=t("../lang/isArray"),o=t("./isIndex"),s=t("./isLength"),a=t("../object/keysIn"),u=Object.prototype,l=u.hasOwnProperty;e.exports=n},{"../lang/isArguments":101,"../lang/isArray":102,"../object/keysIn":112,"./isIndex":92,"./isLength":95}],99:[function(t,e){function n(t){return r(t)?t:Object(t)}var r=t("../lang/isObject");e.exports=n},{"../lang/isObject":106}],100:[function(t,e){function n(t){if(i(t))return t;var e=[];return r(t).replace(o,function(t,n,r,i){e.push(r?i.replace(s,"$1"):n||t)}),e}var r=t("./baseToString"),i=t("../lang/isArray"),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,s=/\\(\\)?/g;e.exports=n},{"../lang/isArray":102,"./baseToString":80}],101:[function(t,e){function n(t){return i(t)&&r(t)&&s.call(t,"callee")&&!a.call(t,"callee")}var r=t("../internal/isArrayLike"),i=t("../internal/isObjectLike"),o=Object.prototype,s=o.hasOwnProperty,a=o.propertyIsEnumerable;e.exports=n},{"../internal/isArrayLike":91,"../internal/isObjectLike":96}],102:[function(t,e){var n=t("../internal/getNative"),r=t("../internal/isLength"),i=t("../internal/isObjectLike"),o="[object Array]",s=Object.prototype,a=s.toString,u=n(Array,"isArray"),l=u||function(t){return i(t)&&r(t.length)&&a.call(t)==o};e.exports=l},{"../internal/getNative":90,"../internal/isLength":95,"../internal/isObjectLike":96}],103:[function(t,e){function n(t){return null==t||(o(t)&&(i(t)||u(t)||r(t)||a(t)&&s(t.splice))?!t.length:!l(t).length)}var r=t("./isArguments"),i=t("./isArray"),o=t("../internal/isArrayLike"),s=t("./isFunction"),a=t("../internal/isObjectLike"),u=t("./isString"),l=t("../object/keys");e.exports=n},{"../internal/isArrayLike":91,"../internal/isObjectLike":96,"../object/keys":111,"./isArguments":101,"./isArray":102,"./isFunction":104,"./isString":107}],104:[function(t,e){function n(t){return r(t)&&s.call(t)==i}var r=t("./isObject"),i="[object Function]",o=Object.prototype,s=o.toString;e.exports=n},{"./isObject":106}],105:[function(t,e){function n(t){return null!=t&&(r(t)?l.test(a.call(t)):i(t)&&o.test(t))}var r=t("./isFunction"),i=t("../internal/isObjectLike"),o=/^\[object .+?Constructor\]$/,s=Object.prototype,a=Function.prototype.toString,u=s.hasOwnProperty,l=RegExp("^"+a.call(u).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=n},{"../internal/isObjectLike":96,"./isFunction":104}],106:[function(t,e){function n(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}e.exports=n},{}],107:[function(t,e){function n(t){return"string"==typeof t||r(t)&&s.call(t)==i}var r=t("../internal/isObjectLike"),i="[object String]",o=Object.prototype,s=o.toString;e.exports=n},{"../internal/isObjectLike":96}],108:[function(t,e){function n(t){return i(t)&&r(t.length)&&!!o[a.call(t)]}var r=t("../internal/isLength"),i=t("../internal/isObjectLike"),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1;var s=Object.prototype,a=s.toString;e.exports=n},{"../internal/isLength":95,"../internal/isObjectLike":96}],109:[function(t,e){var n=t("../internal/assignWith"),r=t("../internal/baseAssign"),i=t("../internal/createAssigner"),o=i(function(t,e,i){return i?n(t,e,i):r(t,e)});e.exports=o},{"../internal/assignWith":62,"../internal/baseAssign":63,"../internal/createAssigner":82}],110:[function(t,e){function n(t,e,n){var s=i(t);return n&&o(t,e,n)&&(e=undefined),e?r(s,e):s}var r=t("../internal/baseAssign"),i=t("../internal/baseCreate"),o=t("../internal/isIterateeCall");e.exports=n},{"../internal/baseAssign":63,"../internal/baseCreate":66,"../internal/isIterateeCall":93}],111:[function(t,e){var n=t("../internal/getNative"),r=t("../internal/isArrayLike"),i=t("../lang/isObject"),o=t("../internal/shimKeys"),s=n(Object,"keys"),a=s?function(t){var e=null==t?undefined:t.constructor;return"function"==typeof e&&e.prototype===t||"function"!=typeof t&&r(t)?o(t):i(t)?s(t):[]}:o;e.exports=a},{"../internal/getNative":90,"../internal/isArrayLike":91,"../internal/shimKeys":98,"../lang/isObject":106}],112:[function(t,e){function n(t){if(null==t)return[];a(t)||(t=Object(t));var e=t.length;e=e&&s(e)&&(i(t)||r(t))&&e||0;for(var n=t.constructor,u=-1,c="function"==typeof n&&n.prototype===t,p=Array(e),d=e>0;++u<e;)p[u]=u+"";for(var h in t)(!d||!o(h,e))&&("constructor"!=h||!c&&!!l.call(t,h))&&p.push(h);return p}var r=t("../lang/isArguments"),i=t("../lang/isArray"),o=t("../internal/isIndex"),s=t("../internal/isLength"),a=t("../lang/isObject"),u=Object.prototype,l=u.hasOwnProperty;e.exports=n},{"../internal/isIndex":92,"../internal/isLength":95,"../lang/isArguments":101,"../lang/isArray":102,"../lang/isObject":106}],113:[function(t,e){function n(t){t=i(t);for(var e=-1,n=r(t),o=n.length,s=Array(o);++e<o;){var a=n[e];s[e]=[a,t[a]]}return s}var r=t("./keys"),i=t("../internal/toObject");e.exports=n},{"../internal/toObject":99,"./keys":111}],114:[function(t,e){function n(t){return t}e.exports=n},{}],115:[function(t,e){function n(t){return o(t)?r(t):i(t)}var r=t("../internal/baseProperty"),i=t("../internal/basePropertyDeep"),o=t("../internal/isKey");e.exports=n},{"../internal/baseProperty":77,"../internal/basePropertyDeep":78,"../internal/isKey":94}],116:[function(){},{}],117:[function(t,e,n){arguments[4][116][0].apply(n,arguments)},{dup:116}],118:[function(t,e,n){(function(e){"use strict";function r(){try{var t=new Uint8Array(1);return t.foo=function(){return 42},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}function i(){return s.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function o(t,e){if(i()<e)throw new RangeError("Invalid typed array length");return s.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e),t.__proto__=s.prototype):(null===t&&(t=new s(e)),t.length=e),t}function s(t,e,n){if(s.TYPED_ARRAY_SUPPORT||this instanceof s){if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return c(this,t)}return a(this,t,e,n)}return new s(t,e,n)}function a(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?h(t,e,n,r):"string"==typeof e?p(t,e,n):f(t,e)}function u(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number')}function l(t,e,n,r){return u(e),e<=0?o(t,e):n!==undefined?"string"==typeof r?o(t,e).fill(n,r):o(t,e).fill(n):o(t,e)}function c(t,e){if(u(e),t=o(t,e<0?0:0|m(e)),!s.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;n++)t[n]=0;return t}function p(t,e,n){if("string"==typeof n&&""!==n||(n="utf8"),!s.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');return t=o(t,0|y(e,n)),t.write(e,n),t}function d(t,e){var n=0|m(e.length);t=o(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function h(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return e=r===undefined?new Uint8Array(e,n):new Uint8Array(e,n,r),s.TYPED_ARRAY_SUPPORT?(t=e,t.__proto__=s.prototype):t=d(t,e),t}function f(t,e){if(s.isBuffer(e)){var n=0|m(e.length);return t=o(t,n),0===t.length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||Y(e.length)?o(t,0):d(t,e);if("Buffer"===e.type&&J(e.data))return d(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function m(t){if(t>=i())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i().toString(16)+" bytes");return 0|t}function g(t){return+t!=t&&(t=0),s.alloc(+t)}function y(t,e){if(s.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"binary":case"raw":case"raws":return n;case"utf8":case"utf-8":case undefined:return W(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return G(t).length;default:if(r)return W(t).length;e=(""+e).toLowerCase(),r=!0}}function v(t,e,n){var r=!1;if((e===undefined||e<0)&&(e=0),e>this.length)return"";if((n===undefined||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,e>>>=0,n<=e)return"";for(t||(t="utf8");;)switch(t){
case"hex":return L(this,e,n);case"utf8":case"utf-8":return k(this,e,n);case"ascii":return D(this,e,n);case"binary":return R(this,e,n);case"base64":return A(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function b(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function _(t,e,n,r){function i(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}var o=1,s=t.length,a=e.length;if(r!==undefined&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;o=2,s/=2,a/=2,n/=2}for(var u=-1,l=0;n+l<s;l++)if(i(t,n+l)===i(e,-1===u?0:l-u)){if(-1===u&&(u=l),l-u+1===a)return(n+u)*o}else-1!==u&&(l-=l-u),u=-1;return-1}function w(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=e.length;if(o%2!=0)throw new Error("Invalid hex string");r>o/2&&(r=o/2);for(var s=0;s<r;s++){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))return s;t[n+s]=a}return s}function E(t,e,n,r){return X(W(e,t.length-n),t,n,r)}function T(t,e,n,r){return X(K(e),t,n,r)}function x(t,e,n,r){return T(t,e,n,r)}function S(t,e,n,r){return X(G(e),t,n,r)}function C(t,e,n,r){return X(z(e,t.length-n),t,n,r)}function A(t,e,n){return 0===e&&n===t.length?Q.fromByteArray(t):Q.fromByteArray(t.slice(e,n))}function k(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o=t[i],s=null,a=o>239?4:o>223?3:o>191?2:1;if(i+a<=n){var u,l,c,p;switch(a){case 1:o<128&&(s=o);break;case 2:128==(192&(u=t[i+1]))&&(p=(31&o)<<6|63&u)>127&&(s=p);break;case 3:u=t[i+1],l=t[i+2],128==(192&u)&&128==(192&l)&&(p=(15&o)<<12|(63&u)<<6|63&l)>2047&&(p<55296||p>57343)&&(s=p);break;case 4:u=t[i+1],l=t[i+2],c=t[i+3],128==(192&u)&&128==(192&l)&&128==(192&c)&&(p=(15&o)<<18|(63&u)<<12|(63&l)<<6|63&c)>65535&&p<1114112&&(s=p)}}null===s?(s=65533,a=1):s>65535&&(s-=65536,r.push(s>>>10&1023|55296),s=56320|1023&s),r.push(s),i+=a}return I(r)}function I(t){var e=t.length;if(e<=Z)return String.fromCharCode.apply(String,t);for(var n="",r=0;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=Z));return n}function D(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;i++)r+=String.fromCharCode(127&t[i]);return r}function R(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;i++)r+=String.fromCharCode(t[i]);return r}function L(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=e;o<n;o++)i+=V(t[o]);return i}function N(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function P(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function O(t,e,n,r,i,o){if(!s.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function M(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);i<o;i++)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function j(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);i<o;i++)t[n+i]=e>>>8*(r?i:3-i)&255}function B(t,e,n,r){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function q(t,e,n,r,i){return i||B(t,e,n,4,3.4028234663852886e38,-3.4028234663852886e38),$.write(t,e,n,r,23,4),n+4}function U(t,e,n,r,i){return i||B(t,e,n,8,1.7976931348623157e308,-1.7976931348623157e308),$.write(t,e,n,r,52,8),n+8}function F(t){if(t=H(t).replace(tt,""),t.length<2)return"";for(;t.length%4!=0;)t+="=";return t}function H(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function V(t){return t<16?"0"+t.toString(16):t.toString(16)}function W(t,e){e=e||Infinity;for(var n,r=t.length,i=null,o=[],s=0;s<r;s++){if((n=t.charCodeAt(s))>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function K(t){for(var e=[],n=0;n<t.length;n++)e.push(255&t.charCodeAt(n));return e}function z(t,e){for(var n,r,i,o=[],s=0;s<t.length&&!((e-=2)<0);s++)n=t.charCodeAt(s),r=n>>8,i=n%256,o.push(i),o.push(r);return o}function G(t){return Q.toByteArray(F(t))}function X(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);i++)e[i+n]=t[i];return i}function Y(t){return t!==t}var Q=t("base64-js"),$=t("ieee754"),J=t("isarray");n.Buffer=s,n.SlowBuffer=g,n.INSPECT_MAX_BYTES=50,s.TYPED_ARRAY_SUPPORT=e.TYPED_ARRAY_SUPPORT!==undefined?e.TYPED_ARRAY_SUPPORT:r(),n.kMaxLength=i(),s.poolSize=8192,s._augment=function(t){return t.__proto__=s.prototype,t},s.from=function(t,e,n){return a(null,t,e,n)},s.TYPED_ARRAY_SUPPORT&&(s.prototype.__proto__=Uint8Array.prototype,s.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&s[Symbol.species]===s&&Object.defineProperty(s,Symbol.species,{value:null,configurable:!0})),s.alloc=function(t,e,n){return l(null,t,e,n)},s.allocUnsafe=function(t){return c(null,t)},s.allocUnsafeSlow=function(t){return c(null,t)},s.isBuffer=function(t){return null!=t&&!!t._isBuffer},s.compare=function(t,e){if(!s.isBuffer(t)||!s.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},s.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(t,e){if(!J(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return s.alloc(0);var n;if(e===undefined)for(e=0,n=0;n<t.length;n++)e+=t[n].length;var r=s.allocUnsafe(e),i=0;for(n=0;n<t.length;n++){var o=t[n];if(!s.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i),i+=o.length}return r},s.byteLength=y,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)b(this,e,e+1);return this},s.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)b(this,e,e+3),b(this,e+1,e+2);return this},s.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?k(this,0,t):v.apply(this,arguments)},s.prototype.equals=function(t){if(!s.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===s.compare(this,t)},s.prototype.inspect=function(){var t="",e=n.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(t+=" ... ")),"<Buffer "+t+">"},s.prototype.compare=function(t,e,n,r,i){if(!s.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(e===undefined&&(e=0),n===undefined&&(n=t?t.length:0),r===undefined&&(r=0),i===undefined&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(e>>>=0,n>>>=0,r>>>=0,i>>>=0,this===t)return 0;for(var o=i-r,a=n-e,u=Math.min(o,a),l=this.slice(r,i),c=t.slice(e,n),p=0;p<u;++p)if(l[p]!==c[p]){o=l[p],a=c[p];break}return o<a?-1:a<o?1:0},s.prototype.indexOf=function(t,e,n){if("string"==typeof e?(n=e,e=0):e>2147483647?e=2147483647:e<-2147483648&&(e=-2147483648),e>>=0,0===this.length)return-1;if(e>=this.length)return-1;if(e<0&&(e=Math.max(this.length+e,0)),"string"==typeof t&&(t=s.from(t,n)),s.isBuffer(t))return 0===t.length?-1:_(this,t,e,n);if("number"==typeof t)return s.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,t,e):_(this,[t],e,n);throw new TypeError("val must be string, number or Buffer")},s.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},s.prototype.write=function(t,e,n,r){if(e===undefined)r="utf8",n=this.length,e=0;else if(n===undefined&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,r===undefined&&(r="utf8")):(r=n,n=undefined)}var i=this.length-e;if((n===undefined||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return w(this,t,e,n);case"utf8":case"utf-8":return E(this,t,e,n);case"ascii":return T(this,t,e,n);case"binary":return x(this,t,e,n);case"base64":return S(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Z=4096;s.prototype.slice=function(t,e){var n=this.length;t=~~t,e=e===undefined?n:~~e,t<0?(t+=n)<0&&(t=0):t>n&&(t=n),e<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t);var r;if(s.TYPED_ARRAY_SUPPORT)r=this.subarray(t,e),r.__proto__=s.prototype;else{var i=e-t;r=new s(i,undefined);for(var o=0;o<i;o++)r[o]=this[o+t]}return r},s.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||P(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},s.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||P(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},s.prototype.readUInt8=function(t,e){return e||P(t,1,this.length),this[t]},s.prototype.readUInt16LE=function(t,e){return e||P(t,2,this.length),this[t]|this[t+1]<<8},s.prototype.readUInt16BE=function(t,e){return e||P(t,2,this.length),this[t]<<8|this[t+1]},s.prototype.readUInt32LE=function(t,e){return e||P(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},s.prototype.readUInt32BE=function(t,e){return e||P(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},s.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||P(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*e)),r},s.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||P(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*e)),o},s.prototype.readInt8=function(t,e){return e||P(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},s.prototype.readInt16LE=function(t,e){e||P(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt16BE=function(t,e){e||P(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt32LE=function(t,e){return e||P(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},s.prototype.readInt32BE=function(t,e){return e||P(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},s.prototype.readFloatLE=function(t,e){return e||P(t,4,this.length),$.read(this,t,!0,23,4)},s.prototype.readFloatBE=function(t,e){return e||P(t,4,this.length),$.read(this,t,!1,23,4)},s.prototype.readDoubleLE=function(t,e){return e||P(t,8,this.length),$.read(this,t,!0,52,8)},s.prototype.readDoubleBE=function(t,e){return e||P(t,8,this.length),$.read(this,t,!1,52,8)},s.prototype.writeUIntLE=function(t,e,n,r){if(t=+t,e|=0,n|=0,!r){O(this,t,e,n,Math.pow(2,8*n)-1,0)}var i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},s.prototype.writeUIntBE=function(t,e,n,r){if(t=+t,e|=0,n|=0,!r){O(this,t,e,n,Math.pow(2,8*n)-1,0)}var i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},s.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||O(this,t,e,1,255,0),s.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},s.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||O(this,t,e,2,65535,0),s.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):M(this,t,e,!0),e+2},s.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||O(this,t,e,2,65535,0),s.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):M(this,t,e,!1),e+2},s.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||O(this,t,e,4,4294967295,0),s.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):j(this,t,e,!0),e+4},s.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||O(this,t,e,4,4294967295,0),s.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):j(this,t,e,!1),e+4},s.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);O(this,t,e,n,i-1,-i)}var o=0,s=1,a=0;for(this[e]=255&t;++o<n&&(s*=256);)t<0&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},s.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);O(this,t,e,n,i-1,-i)}var o=n-1,s=1,a=0;for(this[e+o]=255&t;--o>=0&&(s*=256);)t<0&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},s.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||O(this,t,e,1,127,-128),s.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},s.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||O(this,t,e,2,32767,-32768),s.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):M(this,t,e,!0),e+2},s.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||O(this,t,e,2,32767,-32768),s.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):M(this,t,e,!1),e+2},s.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||O(this,t,e,4,2147483647,-2147483648),s.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):j(this,t,e,!0),e+4},s.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||O(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),s.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):j(this,t,e,!1),e+4},s.prototype.writeFloatLE=function(t,e,n){return q(this,t,e,!0,n)},s.prototype.writeFloatBE=function(t,e,n){return q(this,t,e,!1,n)},s.prototype.writeDoubleLE=function(t,e,n){return U(this,t,e,!0,n)},s.prototype.writeDoubleBE=function(t,e,n){return U(this,t,e,!1,n)},s.prototype.copy=function(t,e,n,r){if(n||(n=0),!r&&0!==r&&(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i,o=r-n;if(this===t&&n<e&&e<r)for(i=o-1;i>=0;i--)t[i+e]=this[i+n];else if(o<1e3||!s.TYPED_ARRAY_SUPPORT)for(i=0;i<o;i++)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},s.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(r!==undefined&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!s.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;e>>>=0,n=n===undefined?this.length:n>>>0,t||(t=0);var o;if("number"==typeof t)for(o=e;o<n;o++)this[o]=t;else{var a=s.isBuffer(t)?t:W(new s(t,r).toString()),u=a.length;for(o=0;o<n-e;o++)this[o+e]=a[o%u]}return this};var tt=/[^+\/0-9A-Za-z-_]/g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":119,ieee754:120,isarray:121}],119:[function(t,e,n){"use strict";function r(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=0,n=t.length;e<n;++e)u[e]=t[e],l[t.charCodeAt(e)]=e;l["-".charCodeAt(0)]=62,l["_".charCodeAt(0)]=63}function i(t){var e,n,r,i,o,s,a=t.length;if(a%4>0)throw new Error("Invalid string. Length must be a multiple of 4");o="="===t[a-2]?2:"="===t[a-1]?1:0,s=new c(3*a/4-o),r=o>0?a-4:a;var u=0;for(e=0,n=0;e<r;e+=4,n+=3)i=l[t.charCodeAt(e)]<<18|l[t.charCodeAt(e+1)]<<12|l[t.charCodeAt(e+2)]<<6|l[t.charCodeAt(e+3)],s[u++]=i>>16&255,s[u++]=i>>8&255,s[u++]=255&i;return 2===o?(i=l[t.charCodeAt(e)]<<2|l[t.charCodeAt(e+1)]>>4,s[u++]=255&i):1===o&&(i=l[t.charCodeAt(e)]<<10|l[t.charCodeAt(e+1)]<<4|l[t.charCodeAt(e+2)]>>2,s[u++]=i>>8&255,s[u++]=255&i),s}function o(t){return u[t>>18&63]+u[t>>12&63]+u[t>>6&63]+u[63&t]}function s(t,e,n){for(var r,i=[],s=e;s<n;s+=3)r=(t[s]<<16)+(t[s+1]<<8)+t[s+2],i.push(o(r));return i.join("")}function a(t){for(var e,n=t.length,r=n%3,i="",o=[],a=16383,l=0,c=n-r;l<c;l+=a)o.push(s(t,l,l+a>c?c:l+a));return 1===r?(e=t[n-1],i+=u[e>>2],i+=u[e<<4&63],i+="=="):2===r&&(e=(t[n-2]<<8)+t[n-1],i+=u[e>>10],i+=u[e>>4&63],i+=u[e<<2&63],i+="="),o.push(i),o.join("")}n.toByteArray=i,n.fromByteArray=a;var u=[],l=[],c="undefined"!=typeof Uint8Array?Uint8Array:Array;r()},{}],120:[function(t,e,n){n.read=function(t,e,n,r,i){var o,s,a=8*i-r-1,u=(1<<a)-1,l=u>>1,c=-7,p=n?i-1:0,d=n?-1:1,h=t[e+p];for(p+=d,o=h&(1<<-c)-1,h>>=-c,c+=a;c>0;o=256*o+t[e+p],p+=d,c-=8);for(s=o&(1<<-c)-1,o>>=-c,c+=r;c>0;s=256*s+t[e+p],p+=d,c-=8);if(0===o)o=1-l;else{if(o===u)return s?NaN:(h?-1:1)*Infinity;s+=Math.pow(2,r),o-=l}return(h?-1:1)*s*Math.pow(2,o-r)},n.write=function(t,e,n,r,i,o){var s,a,u,l=8*o-i-1,c=(1<<l)-1,p=c>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:o-1,f=r?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===Infinity?(a=isNaN(e)?1:0,s=c):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),e+=s+p>=1?d/u:d*Math.pow(2,1-p),e*u>=2&&(s++,u/=2),s+p>=c?(a=0,s=c):s+p>=1?(a=(e*u-1)*Math.pow(2,i),s+=p):(a=e*Math.pow(2,p-1)*Math.pow(2,i),s=0));i>=8;t[n+h]=255&a,h+=f,a/=256,i-=8);for(s=s<<i|a,l+=i;l>0;t[n+h]=255&s,h+=f,s/=256,l-=8);t[n+h-f]|=128*m}},{}],121:[function(t,e){var n={}.toString;e.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},{}],122:[function(t,e){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||undefined}function r(t){return"function"==typeof t}function i(t){return"number"==typeof t}function o(t){return"object"==typeof t&&null!==t}function s(t){return void 0===t}e.exports=n,n.EventEmitter=n,n.prototype._events=undefined,n.prototype._maxListeners=undefined,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(t){if(!i(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},n.prototype.emit=function(t){var e,n,i,a,u,l;if(this._events||(this._events={}),"error"===t&&(!this._events.error||o(this._events.error)&&!this._events.error.length))throw e=arguments[1],e instanceof Error?e:TypeError('Uncaught, unspecified "error" event.');if(n=this._events[t],s(n))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1),n.apply(this,a)}else if(o(n))for(a=Array.prototype.slice.call(arguments,1),l=n.slice(),i=l.length,u=0;u<i;u++)l[u].apply(this,a);return!0},n.prototype.addListener=function(t,e){var i;if(!r(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,r(e.listener)?e.listener:e),this._events[t]?o(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,o(this._events[t])&&!this._events[t].warned&&(i=s(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&i>0&&this._events[t].length>i&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(t,e){function n(){this.removeListener(t,n),i||(i=!0,e.apply(this,arguments))}if(!r(e))throw TypeError("listener must be a function");var i=!1;return n.listener=e,this.on(t,n),this},n.prototype.removeListener=function(t,e){var n,i,s,a;if(!r(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(n=this._events[t],s=n.length,i=-1,n===e||r(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(o(n)){for(a=s;a-- >0;)if(n[a]===e||n[a].listener&&n[a].listener===e){i=a;break}if(i<0)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},n.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[t],r(n))this.removeListener(t,n);else if(n)for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},n.prototype.listeners=function(t){return this._events&&this._events[t]?r(this._events[t])?[this._events[t]]:this._events[t].slice():[]},n.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(r(e))return 1;if(e)return e.length}return 0},n.listenerCount=function(t,e){return t.listenerCount(e)}},{}],123:[function(t,e){"function"==typeof Object.create?e.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},{}],124:[function(t,e){e.exports=function(t){return null!=t&&!!(t._isBuffer||t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t))}},{}],125:[function(t,e){function n(){l&&s&&(l=!1,s.length?u=s.concat(u):c=-1,u.length&&r())}function r(){if(!l){var t=setTimeout(n);l=!0;for(var e=u.length;e;){for(s=u,u=[];++c<e;)s&&s[c].run();c=-1,e=u.length}s=null,l=!1,clearTimeout(t)}}function i(t,e){this.fun=t,this.array=e}function o(){}var s,a=e.exports={},u=[],l=!1,c=-1;a.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new i(t,e)),1===u.length&&!l&&setTimeout(r,0)},i.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=o,a.addListener=o,a.once=o,a.off=o,a.removeListener=o,a.removeAllListeners=o,a.emit=o,a.binding=function(){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},{}],126:[function(t,e,n){(function(t){!function(r){function i(t){throw new RangeError(N[t])}function o(t,e){for(var n=t.length,r=[];n--;)r[n]=e(t[n]);return r}function s(t,e){var n=t.split("@"),r="";return n.length>1&&(r=n[0]+"@",t=n[1]),t=t.replace(L,"."),r+o(t.split("."),e).join(".")}function a(t){for(var e,n,r=[],i=0,o=t.length;i<o;)e=t.charCodeAt(i++),e>=55296&&e<=56319&&i<o?(n=t.charCodeAt(i++),56320==(64512&n)?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),i--)):r.push(e);return r}function u(t){return o(t,function(t){var e="";return t>65535&&(t-=65536,e+=M(t>>>10&1023|55296),t=56320|1023&t),e+=M(t)}).join("")}function l(t){return t-48<10?t-22:t-65<26?t-65:t-97<26?t-97:E}function c(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function p(t,e,n){var r=0;for(t=n?O(t/C):t>>1,t+=O(t/e);t>P*x>>1;r+=E)t=O(t/P);return O(r+(P+1)*t/(t+S))}function d(t){var e,n,r,o,s,a,c,d,h,f,m=[],g=t.length,y=0,v=k,b=A;for((n=t.lastIndexOf(I))<0&&(n=0),r=0;r<n;++r)t.charCodeAt(r)>=128&&i("not-basic"),m.push(t.charCodeAt(r));for(o=n>0?n+1:0;o<g;){for(s=y,a=1,c=E;o>=g&&i("invalid-input"),d=l(t.charCodeAt(o++)),(d>=E||d>O((w-y)/a))&&i("overflow"),y+=d*a,h=c<=b?T:c>=b+x?x:c-b,!(d<h);c+=E)f=E-h,a>O(w/f)&&i("overflow"),a*=f;e=m.length+1,b=p(y-s,e,0==s),O(y/e)>w-v&&i("overflow"),v+=O(y/e),y%=e,m.splice(y++,0,v)}return u(m)}function h(t){var e,n,r,o,s,u,l,d,h,f,m,g,y,v,b,_=[];for(t=a(t),g=t.length,e=k,n=0,s=A,u=0;u<g;++u)(m=t[u])<128&&_.push(M(m));for(r=o=_.length,o&&_.push(I);r<g;){for(l=w,u=0;u<g;++u)(m=t[u])>=e&&m<l&&(l=m);for(y=r+1,l-e>O((w-n)/y)&&i("overflow"),n+=(l-e)*y,e=l,u=0;u<g;++u)if((m=t[u])<e&&++n>w&&i("overflow"),m==e){for(d=n,h=E;f=h<=s?T:h>=s+x?x:h-s,!(d<f);h+=E)b=d-f,v=E-f,_.push(M(c(f+b%v,0))),d=O(b/v);_.push(M(c(d,0))),s=p(n,y,r==o),n=0,++r}++n,++e}return _.join("")}function f(t){return s(t,function(t){return D.test(t)?d(t.slice(4).toLowerCase()):t})}function m(t){return s(t,function(t){return R.test(t)?"xn--"+h(t):t})}var g="object"==typeof n&&n&&!n.nodeType&&n,y="object"==typeof e&&e&&!e.nodeType&&e,v="object"==typeof t&&t;v.global!==v&&v.window!==v&&v.self!==v||(r=v);var b,_,w=2147483647,E=36,T=1,x=26,S=38,C=700,A=72,k=128,I="-",D=/^xn--/,R=/[^\x20-\x7E]/,L=/[\x2E\u3002\uFF0E\uFF61]/g,N={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},P=E-T,O=Math.floor,M=String.fromCharCode;if(b={version:"1.4.1",ucs2:{decode:a,encode:u},decode:d,encode:h,toASCII:m,toUnicode:f},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define("punycode",function(){return b});else if(g&&y)if(e.exports==g)y.exports=b;else for(_ in b)b.hasOwnProperty(_)&&(g[_]=b[_]);else r.punycode=b}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],127:[function(t,e){"use strict";function n(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.exports=function(t,e,i,o){e=e||"&",i=i||"=";var s={};if("string"!=typeof t||0===t.length)return s;var a=/\+/g;t=t.split(e);var u=1e3;o&&"number"==typeof o.maxKeys&&(u=o.maxKeys);var l=t.length;u>0&&l>u&&(l=u);for(var c=0;c<l;++c){var p,d,h,f,m=t[c].replace(a,"%20"),g=m.indexOf(i);g>=0?(p=m.substr(0,g),d=m.substr(g+1)):(p=m,d=""),h=decodeURIComponent(p),f=decodeURIComponent(d),n(s,h)?r(s[h])?s[h].push(f):s[h]=[s[h],f]:s[h]=f}return s};var r=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},{}],128:[function(t,e){"use strict";function n(t,e){if(t.map)return t.map(e);for(var n=[],r=0;r<t.length;r++)n.push(e(t[r],r));return n}var r=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};e.exports=function(t,e,s,a){return e=e||"&",s=s||"=",null===t&&(t=undefined),"object"==typeof t?n(o(t),function(o){var a=encodeURIComponent(r(o))+s;return i(t[o])?n(t[o],function(t){return a+encodeURIComponent(r(t))}).join(e):a+encodeURIComponent(r(t[o]))}).join(e):a?encodeURIComponent(r(a))+s+encodeURIComponent(r(t)):""};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},o=Object.keys||function(t){var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return e}},{}],129:[function(t,e,n){"use strict";n.decode=n.parse=t("./decode"),n.encode=n.stringify=t("./encode")},{"./decode":127,"./encode":128}],130:[function(t,e){e.exports=t("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":131}],131:[function(t,e){"use strict";function n(t){if(!(this instanceof n))return new n(t);u.call(this,t),l.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",r)}function r(){this.allowHalfOpen||this._writableState.ended||s(i,this)}function i(t){t.end()}var o=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e};e.exports=n;var s=t("process-nextick-args"),a=t("core-util-is");a.inherits=t("inherits");var u=t("./_stream_readable"),l=t("./_stream_writable");a.inherits(n,u);for(var c=o(l.prototype),p=0;p<c.length;p++){var d=c[p];n.prototype[d]||(n.prototype[d]=l.prototype[d])}},{"./_stream_readable":133,"./_stream_writable":135,"core-util-is":137,inherits:123,"process-nextick-args":139}],132:[function(t,e){"use strict";function n(t){if(!(this instanceof n))return new n(t);r.call(this,t)}e.exports=n;var r=t("./_stream_transform"),i=t("core-util-is");i.inherits=t("inherits"),i.inherits(n,r),n.prototype._transform=function(t,e,n){n(null,t)}},{"./_stream_transform":134,"core-util-is":137,inherits:123}],133:[function(t,e){(function(n){"use strict";function r(t,e,n){if(B)return t.prependListener(e,n);t._events&&t._events[e]?A(t._events[e])?t._events[e].unshift(n):t._events[e]=[n,t._events[e]]:t.on(e,n)}function i(e,n){j=j||t("./_stream_duplex"),e=e||{},this.objectMode=!!e.objectMode,n instanceof j&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var r=e.highWaterMark,i=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:i,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(M||(M=t("string_decoder/").StringDecoder),this.decoder=new M(e.encoding),this.encoding=e.encoding)}function o(e){if(j=j||t("./_stream_duplex"),!(this instanceof o))return new o(e);this._readableState=new i(e,this),this.readable=!0,e&&"function"==typeof e.read&&(this._read=e.read),k.call(this)}function s(t,e,n,r,i){var o=c(e,n);if(o)t.emit("error",o);else if(null===n)e.reading=!1,p(t,e);else if(e.objectMode||n&&n.length>0)if(e.ended&&!i){var s=new Error("stream.push() after EOF");t.emit("error",s)}else if(e.endEmitted&&i){var u=new Error("stream.unshift() after end event");t.emit("error",u)}else{var l;e.decoder&&!i&&!r&&(n=e.decoder.write(n),l=!e.objectMode&&0===n.length),i||(e.reading=!1),l||(e.flowing&&0===e.length&&!e.sync?(t.emit("data",n),t.read(0)):(e.length+=e.objectMode?1:n.length,i?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&d(t))),f(t,e)}else i||(e.reading=!1);return a(e)}function a(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}function u(t){return t>=q?t=q:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function l(t,e){return 0===e.length&&e.ended?0:e.objectMode?0===t?0:1:null===t||isNaN(t)?e.flowing&&e.buffer.length?e.buffer[0].length:e.length:t<=0?0:(t>e.highWaterMark&&(e.highWaterMark=u(t)),t>e.length?e.ended?e.length:(e.needReadable=!0,0):t)}function c(t,e){var n=null;return!R.isBuffer(e)&&"string"!=typeof e&&null!==e&&e!==undefined&&!t.objectMode&&(n=new TypeError("Invalid non-string/buffer chunk")),n}function p(t,e){if(!e.ended){if(e.decoder){var n=e.decoder.end();n&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length)}e.ended=!0,d(t)}}function d(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(O("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?C(h,t):h(t))}function h(t){O("emit readable"),t.emit("readable"),_(t)}function f(t,e){e.readingMore||(e.readingMore=!0,C(m,t,e))}function m(t,e){for(var n=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(O("maybeReadMore read 0"),t.read(0),n!==e.length);)n=e.length;e.readingMore=!1}function g(t){return function(){var e=t._readableState;O("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&D(t,"data")&&(e.flowing=!0,_(t))}}function y(t){O("readable nexttick read 0"),t.read(0)}function v(t,e){e.resumeScheduled||(e.resumeScheduled=!0,C(b,t,e))}function b(t,e){e.reading||(O("resume read 0"),t.read(0)),e.resumeScheduled=!1,t.emit("resume"),_(t),e.flowing&&!e.reading&&t.read(0)}function _(t){var e=t._readableState;if(O("flow",e.flowing),e.flowing)do{var n=t.read()}while(null!==n&&e.flowing)}function w(t,e){var n,r=e.buffer,i=e.length,o=!!e.decoder,s=!!e.objectMode;if(0===r.length)return null;if(0===i)n=null;else if(s)n=r.shift();else if(!t||t>=i)n=o?r.join(""):1===r.length?r[0]:R.concat(r,i),
r.length=0;else if(t<r[0].length){var a=r[0];n=a.slice(0,t),r[0]=a.slice(t)}else if(t===r[0].length)n=r.shift();else{n=o?"":L.allocUnsafe(t);for(var u=0,l=0,c=r.length;l<c&&u<t;l++){var p=r[0],d=Math.min(t-u,p.length);o?n+=p.slice(0,d):p.copy(n,u,0,d),d<p.length?r[0]=p.slice(d):r.shift(),u+=d}}return n}function E(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,C(T,e,t))}function T(t,e){!t.endEmitted&&0===t.length&&(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function x(t,e){for(var n=0,r=t.length;n<r;n++)e(t[n],n)}function S(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}e.exports=o;var C=t("process-nextick-args"),A=t("isarray");o.ReadableState=i;var k,I=t("events").EventEmitter,D=function(t,e){return t.listeners(e).length};!function(){try{k=t("stream")}catch(t){}finally{k||(k=t("events").EventEmitter)}}();var R=t("buffer").Buffer,L=t("buffer-shims"),N=t("core-util-is");N.inherits=t("inherits");var P=t("util"),O=void 0;O=P&&P.debuglog?P.debuglog("stream"):function(){};var M;N.inherits(o,k);var j,j,B="function"==typeof I.prototype.prependListener;o.prototype.push=function(t,e){var n=this._readableState;return!n.objectMode&&"string"==typeof t&&(e=e||n.defaultEncoding)!==n.encoding&&(t=L.from(t,e),e=""),s(this,n,t,e,!1)},o.prototype.unshift=function(t){return s(this,this._readableState,t,"",!0)},o.prototype.isPaused=function(){return!1===this._readableState.flowing},o.prototype.setEncoding=function(e){return M||(M=t("string_decoder/").StringDecoder),this._readableState.decoder=new M(e),this._readableState.encoding=e,this};var q=8388608;o.prototype.read=function(t){O("read",t);var e=this._readableState,n=t;if(("number"!=typeof t||t>0)&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return O("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?E(this):d(this),null;if(0===(t=l(t,e))&&e.ended)return 0===e.length&&E(this),null;var r=e.needReadable;O("need readable",r),(0===e.length||e.length-t<e.highWaterMark)&&(r=!0,O("length less than watermark",r)),(e.ended||e.reading)&&(r=!1,O("reading or ended",r)),r&&(O("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1),r&&!e.reading&&(t=l(n,e));var i;return i=t>0?w(t,e):null,null===i&&(e.needReadable=!0,t=0),e.length-=t,0===e.length&&!e.ended&&(e.needReadable=!0),n!==t&&e.ended&&0===e.length&&E(this),null!==i&&this.emit("data",i),i},o.prototype._read=function(){this.emit("error",new Error("not implemented"))},o.prototype.pipe=function(t,e){function i(t){O("onunpipe"),t===d&&s()}function o(){O("onend"),t.end()}function s(){O("cleanup"),t.removeListener("close",l),t.removeListener("finish",c),t.removeListener("drain",y),t.removeListener("error",u),t.removeListener("unpipe",i),d.removeListener("end",o),d.removeListener("end",s),d.removeListener("data",a),v=!0,h.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&y()}function a(e){O("ondata"),!1===t.write(e)&&((1===h.pipesCount&&h.pipes===t||h.pipesCount>1&&-1!==S(h.pipes,t))&&!v&&(O("false write response, pause",d._readableState.awaitDrain),d._readableState.awaitDrain++),d.pause())}function u(e){O("onerror",e),p(),t.removeListener("error",u),0===D(t,"error")&&t.emit("error",e)}function l(){t.removeListener("finish",c),p()}function c(){O("onfinish"),t.removeListener("close",l),p()}function p(){O("unpipe"),d.unpipe(t)}var d=this,h=this._readableState;switch(h.pipesCount){case 0:h.pipes=t;break;case 1:h.pipes=[h.pipes,t];break;default:h.pipes.push(t)}h.pipesCount+=1,O("pipe count=%d opts=%j",h.pipesCount,e);var f=(!e||!1!==e.end)&&t!==n.stdout&&t!==n.stderr,m=f?o:s;h.endEmitted?C(m):d.once("end",m),t.on("unpipe",i);var y=g(d);t.on("drain",y);var v=!1;return d.on("data",a),r(t,"error",u),t.once("close",l),t.once("finish",c),t.emit("pipe",d),h.flowing||(O("pipe resume"),d.resume()),t},o.prototype.unpipe=function(t){var e=this._readableState;if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this),this);if(!t){var n=e.pipes,r=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var i=0;i<r;i++)n[i].emit("unpipe",this);return this}var o=S(e.pipes,t);return-1===o?this:(e.pipes.splice(o,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this),this)},o.prototype.on=function(t,e){var n=k.prototype.on.call(this,t,e);if("data"===t&&!1!==this._readableState.flowing&&this.resume(),"readable"===t&&!this._readableState.endEmitted){var r=this._readableState;r.readableListening||(r.readableListening=!0,r.emittedReadable=!1,r.needReadable=!0,r.reading?r.length&&d(this,r):C(y,this))}return n},o.prototype.addListener=o.prototype.on,o.prototype.resume=function(){var t=this._readableState;return t.flowing||(O("resume"),t.flowing=!0,v(this,t)),this},o.prototype.pause=function(){return O("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(O("pause"),this._readableState.flowing=!1,this.emit("pause")),this},o.prototype.wrap=function(t){var e=this._readableState,n=!1,r=this;t.on("end",function(){if(O("wrapped end"),e.decoder&&!e.ended){var t=e.decoder.end();t&&t.length&&r.push(t)}r.push(null)}),t.on("data",function(i){if(O("wrapped data"),e.decoder&&(i=e.decoder.write(i)),(!e.objectMode||null!==i&&i!==undefined)&&(e.objectMode||i&&i.length)){r.push(i)||(n=!0,t.pause())}});for(var i in t)this[i]===undefined&&"function"==typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));return x(["error","close","destroy","pause","resume"],function(e){t.on(e,r.emit.bind(r,e))}),r._read=function(e){O("wrapped _read",e),n&&(n=!1,t.resume())},r},o._fromList=w}).call(this,t("_process"))},{"./_stream_duplex":131,_process:125,buffer:118,"buffer-shims":136,"core-util-is":137,events:122,inherits:123,isarray:138,"process-nextick-args":139,"string_decoder/":146,util:117}],134:[function(t,e){"use strict";function n(t){this.afterTransform=function(e,n){return r(t,e,n)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function r(t,e,n){var r=t._transformState;r.transforming=!1;var i=r.writecb;if(!i)return t.emit("error",new Error("no writecb in Transform class"));r.writechunk=null,r.writecb=null,null!==n&&n!==undefined&&t.push(n),i(e);var o=t._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&t._read(o.highWaterMark)}function i(t){if(!(this instanceof i))return new i(t);s.call(this,t),this._transformState=new n(this);var e=this;this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.once("prefinish",function(){"function"==typeof this._flush?this._flush(function(t){o(e,t)}):o(e)})}function o(t,e){if(e)return t.emit("error",e);var n=t._writableState,r=t._transformState;if(n.length)throw new Error("Calling transform done when ws.length != 0");if(r.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}e.exports=i;var s=t("./_stream_duplex"),a=t("core-util-is");a.inherits=t("inherits"),a.inherits(i,s),i.prototype.push=function(t,e){return this._transformState.needTransform=!1,s.prototype.push.call(this,t,e)},i.prototype._transform=function(){throw new Error("Not implemented")},i.prototype._write=function(t,e,n){var r=this._transformState;if(r.writecb=n,r.writechunk=t,r.writeencoding=e,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},i.prototype._read=function(){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0}},{"./_stream_duplex":131,"core-util-is":137,inherits:123}],135:[function(t,e){(function(n){"use strict";function r(){}function i(t,e,n){this.chunk=t,this.encoding=e,this.callback=n,this.next=null}function o(e,n){D=D||t("./_stream_duplex"),e=e||{},this.objectMode=!!e.objectMode,n instanceof D&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var r=e.highWaterMark,i=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:i,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var o=!1===e.decodeStrings;this.decodeStrings=!o,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){f(n,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new E(this)}function s(e){if(D=D||t("./_stream_duplex"),!(this instanceof s||this instanceof D))return new s(e);this._writableState=new o(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev)),C.call(this)}function a(t,e){var n=new Error("write after end");t.emit("error",n),T(e,n)}function u(t,e,n,r){var i=!0,o=!1;return null===n?o=new TypeError("May not write null values to stream"):!k.isBuffer(n)&&"string"!=typeof n&&n!==undefined&&!e.objectMode&&(o=new TypeError("Invalid non-string/buffer chunk")),o&&(t.emit("error",o),T(r,o),i=!1),i}function l(t,e,n){return!t.objectMode&&!1!==t.decodeStrings&&"string"==typeof e&&(e=I.from(e,n)),e}function c(t,e,n,r,o){n=l(e,n,r),k.isBuffer(n)&&(r="buffer");var s=e.objectMode?1:n.length;e.length+=s;var a=e.length<e.highWaterMark;if(a||(e.needDrain=!0),e.writing||e.corked){var u=e.lastBufferedRequest;e.lastBufferedRequest=new i(n,r,o),u?u.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else p(t,e,!1,s,n,r,o);return a}function p(t,e,n,r,i,o,s){e.writelen=r,e.writecb=s,e.writing=!0,e.sync=!0,n?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function d(t,e,n,r,i){--e.pendingcb,n?T(i,r):i(r),t._writableState.errorEmitted=!0,t.emit("error",r)}function h(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function f(t,e){var n=t._writableState,r=n.sync,i=n.writecb;if(h(n),e)d(t,n,r,e,i);else{var o=v(n);!o&&!n.corked&&!n.bufferProcessing&&n.bufferedRequest&&y(t,n),r?x(m,t,n,o,i):m(t,n,o,i)}}function m(t,e,n,r){n||g(t,e),e.pendingcb--,r(),_(t,e)}function g(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function y(t,e){e.bufferProcessing=!0;var n=e.bufferedRequest;if(t._writev&&n&&n.next){var r=e.bufferedRequestCount,i=new Array(r),o=e.corkedRequestsFree;o.entry=n;for(var s=0;n;)i[s]=n,n=n.next,s+=1;p(t,e,!0,e.length,i,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new E(e)}else{for(;n;){var a=n.chunk,u=n.encoding,l=n.callback;if(p(t,e,!1,e.objectMode?1:a.length,a,u,l),n=n.next,e.writing)break}null===n&&(e.lastBufferedRequest=null)}e.bufferedRequestCount=0,e.bufferedRequest=n,e.bufferProcessing=!1}function v(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function b(t,e){e.prefinished||(e.prefinished=!0,t.emit("prefinish"))}function _(t,e){var n=v(e);return n&&(0===e.pendingcb?(b(t,e),e.finished=!0,t.emit("finish")):b(t,e)),n}function w(t,e,n){e.ending=!0,_(t,e),n&&(e.finished?T(n):t.once("finish",n)),e.ended=!0,t.writable=!1}function E(t){var e=this;this.next=null,this.entry=null,this.finish=function(n){var r=e.entry;for(e.entry=null;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}}e.exports=s;var T=t("process-nextick-args"),x=!n.browser&&["v0.10","v0.9."].indexOf(n.version.slice(0,5))>-1?setImmediate:T;s.WritableState=o;var S=t("core-util-is");S.inherits=t("inherits");var C,A={deprecate:t("util-deprecate")};!function(){try{C=t("stream")}catch(t){}finally{C||(C=t("events").EventEmitter)}}();var k=t("buffer").Buffer,I=t("buffer-shims");S.inherits(s,C);var D;o.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(o.prototype,"buffer",{get:A.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")})}catch(t){}}();var D;s.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},s.prototype.write=function(t,e,n){var i=this._writableState,o=!1;return"function"==typeof e&&(n=e,e=null),k.isBuffer(t)?e="buffer":e||(e=i.defaultEncoding),"function"!=typeof n&&(n=r),i.ended?a(this,n):u(this,i,t,n)&&(i.pendingcb++,o=c(this,i,t,e,n)),o},s.prototype.cork=function(){this._writableState.corked++},s.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.finished&&!t.bufferProcessing&&t.bufferedRequest&&y(this,t))},s.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1)return this._writableState.defaultEncoding=t,this;throw new TypeError("Unknown encoding: "+t)},s.prototype._write=function(t,e,n){n(new Error("not implemented"))},s.prototype._writev=null,s.prototype.end=function(t,e,n){var r=this._writableState;"function"==typeof t?(n=t,t=null,e=null):"function"==typeof e&&(n=e,e=null),null!==t&&t!==undefined&&this.write(t,e),r.corked&&(r.corked=1,this.uncork()),!r.ending&&!r.finished&&w(this,r,n)}}).call(this,t("_process"))},{"./_stream_duplex":131,_process:125,buffer:118,"buffer-shims":136,"core-util-is":137,events:122,inherits:123,"process-nextick-args":139,"util-deprecate":140}],136:[function(t,e,n){(function(e){"use strict";var r=t("buffer"),i=r.Buffer,o=r.SlowBuffer,s=r.kMaxLength||2147483647;n.alloc=function(t,e,n){if("function"==typeof i.alloc)return i.alloc(t,e,n);if("number"==typeof n)throw new TypeError("encoding must not be number");if("number"!=typeof t)throw new TypeError("size must be a number");if(t>s)throw new RangeError("size is too large");var r=n,o=e;o===undefined&&(r=undefined,o=0);var a=new i(t);if("string"==typeof o)for(var u=new i(o,r),l=u.length,c=-1;++c<t;)a[c]=u[c%l];else a.fill(o);return a},n.allocUnsafe=function(t){if("function"==typeof i.allocUnsafe)return i.allocUnsafe(t);if("number"!=typeof t)throw new TypeError("size must be a number");if(t>s)throw new RangeError("size is too large");return new i(t)},n.from=function(t,n,r){if("function"!=typeof i.from||e.Uint8Array&&Uint8Array.from===i.from){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');if("string"==typeof t)return new i(t,n);if("undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer){var o=n;if(1===arguments.length)return new i(t);void 0===o&&(o=0);var s=r;if(void 0===s&&(s=t.byteLength-o),o>=t.byteLength)throw new RangeError("'offset' is out of bounds");if(s>t.byteLength-o)throw new RangeError("'length' is out of bounds");return new i(t.slice(o,o+s))}if(i.isBuffer(t)){var a=new i(t.length);return t.copy(a,0,0,t.length),a}if(t){if(Array.isArray(t)||"undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return new i(t);if("Buffer"===t.type&&Array.isArray(t.data))return new i(t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}return i.from(t,n,r)},n.allocUnsafeSlow=function(t){if("function"==typeof i.allocUnsafeSlow)return i.allocUnsafeSlow(t);if("number"!=typeof t)throw new TypeError("size must be a number");if(t>=s)throw new RangeError("size is too large");return new o(t)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{buffer:118}],137:[function(t,e,n){(function(t){function e(t){return Array.isArray?Array.isArray(t):"[object Array]"===g(t)}function r(t){return"boolean"==typeof t}function i(t){return null===t}function o(t){return null==t}function s(t){return"number"==typeof t}function a(t){return"string"==typeof t}function u(t){return"symbol"==typeof t}function l(t){return void 0===t}function c(t){return"[object RegExp]"===g(t)}function p(t){return"object"==typeof t&&null!==t}function d(t){return"[object Date]"===g(t)}function h(t){return"[object Error]"===g(t)||t instanceof Error}function f(t){return"function"==typeof t}function m(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t}function g(t){return Object.prototype.toString.call(t)}n.isArray=e,n.isBoolean=r,n.isNull=i,n.isNullOrUndefined=o,n.isNumber=s,n.isString=a,n.isSymbol=u,n.isUndefined=l,n.isRegExp=c,n.isObject=p,n.isDate=d,n.isError=h,n.isFunction=f,n.isPrimitive=m,n.isBuffer=t.isBuffer}).call(this,{isBuffer:t("../../../../insert-module-globals/node_modules/is-buffer/index.js")})},{"../../../../insert-module-globals/node_modules/is-buffer/index.js":124}],138:[function(t,e,n){arguments[4][121][0].apply(n,arguments)},{dup:121}],139:[function(t,e){(function(t){"use strict";function n(e,n,r,i){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var o,s,a=arguments.length;switch(a){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick(function(){e.call(null,n)});case 3:return t.nextTick(function(){e.call(null,n,r)});case 4:return t.nextTick(function(){e.call(null,n,r,i)});default:for(o=new Array(a-1),s=0;s<o.length;)o[s++]=arguments[s];return t.nextTick(function(){e.apply(null,o)})}}!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports=n:e.exports=t.nextTick}).call(this,t("_process"))},{_process:125}],140:[function(t,e){(function(t){function n(t,e){function n(){if(!i){if(r("throwDeprecation"))throw new Error(e);r("traceDeprecation")?console.trace(e):console.warn(e),i=!0}return t.apply(this,arguments)}if(r("noDeprecation"))return t;var i=!1;return n}function r(e){try{if(!t.localStorage)return!1}catch(t){return!1}var n=t.localStorage[e];return null!=n&&"true"===String(n).toLowerCase()}e.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],141:[function(t,e){e.exports=t("./lib/_stream_passthrough.js")},{"./lib/_stream_passthrough.js":132}],142:[function(t,e,n){(function(r){var i=function(){try{return t("stream")}catch(t){}}();n=e.exports=t("./lib/_stream_readable.js"),n.Stream=i||n,n.Readable=n,n.Writable=t("./lib/_stream_writable.js"),n.Duplex=t("./lib/_stream_duplex.js"),n.Transform=t("./lib/_stream_transform.js"),n.PassThrough=t("./lib/_stream_passthrough.js"),!r.browser&&"disable"===r.env.READABLE_STREAM&&i&&(e.exports=i)}).call(this,t("_process"))},{"./lib/_stream_duplex.js":131,"./lib/_stream_passthrough.js":132,"./lib/_stream_readable.js":133,"./lib/_stream_transform.js":134,"./lib/_stream_writable.js":135,_process:125}],143:[function(t,e){e.exports=t("./lib/_stream_transform.js")},{"./lib/_stream_transform.js":134}],144:[function(t,e){e.exports=t("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":135}],145:[function(t,e){function n(){r.call(this)}e.exports=n;var r=t("events").EventEmitter;t("inherits")(n,r),n.Readable=t("readable-stream/readable.js"),n.Writable=t("readable-stream/writable.js"),n.Duplex=t("readable-stream/duplex.js"),n.Transform=t("readable-stream/transform.js"),n.PassThrough=t("readable-stream/passthrough.js"),n.Stream=n,n.prototype.pipe=function(t,e){function n(e){t.writable&&!1===t.write(e)&&l.pause&&l.pause()}function i(){l.readable&&l.resume&&l.resume()}function o(){c||(c=!0,t.end())}function s(){c||(c=!0,"function"==typeof t.destroy&&t.destroy())}function a(t){if(u(),0===r.listenerCount(this,"error"))throw t}function u(){l.removeListener("data",n),t.removeListener("drain",i),l.removeListener("end",o),l.removeListener("close",s),l.removeListener("error",a),t.removeListener("error",a),l.removeListener("end",u),l.removeListener("close",u),t.removeListener("close",u)}var l=this;l.on("data",n),t.on("drain",i),!t._isStdio&&(!e||!1!==e.end)&&(l.on("end",o),l.on("close",s));var c=!1;return l.on("error",a),t.on("error",a),l.on("end",u),l.on("close",u),t.on("close",u),t.emit("pipe",l),t}},{events:122,inherits:123,"readable-stream/duplex.js":130,"readable-stream/passthrough.js":141,"readable-stream/readable.js":142,"readable-stream/transform.js":143,"readable-stream/writable.js":144}],146:[function(t,e,n){function r(t){if(t&&!u(t))throw new Error("Unknown encoding: "+t)}function i(t){return t.toString(this.encoding)}function o(t){this.charReceived=t.length%2,this.charLength=this.charReceived?2:0}function s(t){this.charReceived=t.length%3,this.charLength=this.charReceived?3:0}var a=t("buffer").Buffer,u=a.isEncoding||function(t){switch(t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},l=n.StringDecoder=function(t){switch(this.encoding=(t||"utf8").toLowerCase().replace(/[-_]/,""),r(t),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=o;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=s;break;default:return void(this.write=i)}this.charBuffer=new a(6),this.charReceived=0,this.charLength=0};l.prototype.write=function(t){for(var e="";this.charLength;){var n=t.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:t.length;if(t.copy(this.charBuffer,this.charReceived,0,n),this.charReceived+=n,this.charReceived<this.charLength)return"";t=t.slice(n,t.length),e=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var r=e.charCodeAt(e.length-1);if(!(r>=55296&&r<=56319)){if(this.charReceived=this.charLength=0,0===t.length)return e;break}this.charLength+=this.surrogateSize,e=""}this.detectIncompleteChar(t);var i=t.length;this.charLength&&(t.copy(this.charBuffer,0,t.length-this.charReceived,i),i-=this.charReceived),e+=t.toString(this.encoding,0,i);var i=e.length-1,r=e.charCodeAt(i);if(r>=55296&&r<=56319){var o=this.surrogateSize;return this.charLength+=o,this.charReceived+=o,this.charBuffer.copy(this.charBuffer,o,0,o),t.copy(this.charBuffer,0,0,o),e.substring(0,i)}return e},l.prototype.detectIncompleteChar=function(t){for(var e=t.length>=3?3:t.length;e>0;e--){var n=t[t.length-e];if(1==e&&n>>5==6){this.charLength=2;break}if(e<=2&&n>>4==14){this.charLength=3;break}if(e<=3&&n>>3==30){this.charLength=4;break}}this.charReceived=e},l.prototype.end=function(t){var e="";if(t&&t.length&&(e=this.write(t)),this.charReceived){var n=this.charReceived,r=this.charBuffer,i=this.encoding;e+=r.slice(0,n).toString(i)}return e}},{buffer:118}],147:[function(t,e,n){"use strict";function r(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function i(t,e,n){if(t&&l.isObject(t)&&t instanceof r)return t;var i=new r;return i.parse(t,e,n),i}function o(t){return l.isString(t)&&(t=i(t)),t instanceof r?t.format():r.prototype.format.call(t)}function s(t,e){return i(t,!1,!0).resolve(e)}function a(t,e){return t?i(t,!1,!0).resolveObject(e):e}var u=t("punycode"),l=t("./util");n.parse=i,n.resolve=s,n.resolveObject=a,n.format=o,n.Url=r;var c=/^([a-z0-9.+-]+:)/i,p=/:[0-9]*$/,d=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,h=["<",">",'"',"`"," ","\r","\n","\t"],f=["{","}","|","\\","^","`"].concat(h),m=["'"].concat(f),g=["%","/","?",";","#"].concat(m),y=["/","?","#"],v=/^[+a-z0-9A-Z_-]{0,63}$/,b=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,_={javascript:!0,"javascript:":!0},w={javascript:!0,"javascript:":!0},E={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},T=t("querystring");r.prototype.parse=function(t,e,n){if(!l.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var r=t.indexOf("?"),i=-1!==r&&r<t.indexOf("#")?"?":"#",o=t.split(i),s=/\\/g;o[0]=o[0].replace(s,"/"),t=o.join(i);var a=t;if(a=a.trim(),!n&&1===t.split("#").length){var p=d.exec(a);if(p)return this.path=a,this.href=a,this.pathname=p[1],p[2]?(this.search=p[2],this.query=e?T.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var h=c.exec(a);if(h){h=h[0];var f=h.toLowerCase();this.protocol=f,a=a.substr(h.length)}if(n||h||a.match(/^\/\/[^@\/]+@[^@\/]+/)){var x="//"===a.substr(0,2);x&&(!h||!w[h])&&(a=a.substr(2),this.slashes=!0)}if(!w[h]&&(x||h&&!E[h])){for(var S=-1,C=0;C<y.length;C++){var A=a.indexOf(y[C]);-1!==A&&(-1===S||A<S)&&(S=A)}var k,I;I=-1===S?a.lastIndexOf("@"):a.lastIndexOf("@",S),-1!==I&&(k=a.slice(0,I),a=a.slice(I+1),this.auth=decodeURIComponent(k)),S=-1;for(var C=0;C<g.length;C++){var A=a.indexOf(g[C]);-1!==A&&(-1===S||A<S)&&(S=A)}-1===S&&(S=a.length),this.host=a.slice(0,S),a=a.slice(S),this.parseHost(),this.hostname=this.hostname||"";var D="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!D)for(var R=this.hostname.split(/\./),C=0,L=R.length;C<L;C++){var N=R[C];if(N&&!N.match(v)){for(var P="",O=0,M=N.length;O<M;O++)N.charCodeAt(O)>127?P+="x":P+=N[O];if(!P.match(v)){var j=R.slice(0,C),B=R.slice(C+1),q=N.match(b);q&&(j.push(q[1]),B.unshift(q[2])),B.length&&(a="/"+B.join(".")+a),this.hostname=j.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),D||(this.hostname=u.toASCII(this.hostname));var U=this.port?":"+this.port:"",F=this.hostname||"";this.host=F+U,this.href+=this.host,D&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==a[0]&&(a="/"+a))}if(!_[f])for(var C=0,L=m.length;C<L;C++){var H=m[C];if(-1!==a.indexOf(H)){var V=encodeURIComponent(H);V===H&&(V=escape(H)),a=a.split(H).join(V)}}var W=a.indexOf("#");-1!==W&&(this.hash=a.substr(W),a=a.slice(0,W));var K=a.indexOf("?");if(-1!==K?(this.search=a.substr(K),this.query=a.substr(K+1),e&&(this.query=T.parse(this.query)),a=a.slice(0,K)):e&&(this.search="",this.query={}),a&&(this.pathname=a),E[f]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var U=this.pathname||"",z=this.search||"";this.path=U+z}return this.href=this.format(),this},r.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,o="";this.host?i=t+this.host:this.hostname&&(i=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&l.isObject(this.query)&&Object.keys(this.query).length&&(o=T.stringify(this.query));var s=this.search||o&&"?"+o||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||E[e])&&!1!==i?(i="//"+(i||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):i||(i=""),r&&"#"!==r.charAt(0)&&(r="#"+r),s&&"?"!==s.charAt(0)&&(s="?"+s),n=n.replace(/[?#]/g,function(t){return encodeURIComponent(t)}),s=s.replace("#","%23"),e+i+n+s+r},r.prototype.resolve=function(t){return this.resolveObject(i(t,!1,!0)).format()},r.prototype.resolveObject=function(t){if(l.isString(t)){var e=new r;e.parse(t,!1,!0),t=e}for(var n=new r,i=Object.keys(this),o=0;o<i.length;o++){var s=i[o];n[s]=this[s]}if(n.hash=t.hash,""===t.href)return n.href=n.format(),n;if(t.slashes&&!t.protocol){for(var a=Object.keys(t),u=0;u<a.length;u++){var c=a[u];"protocol"!==c&&(n[c]=t[c])}return E[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(t.protocol&&t.protocol!==n.protocol){if(!E[t.protocol]){for(var p=Object.keys(t),d=0;d<p.length;d++){var h=p[d];n[h]=t[h]}return n.href=n.format(),n}if(n.protocol=t.protocol,t.host||w[t.protocol])n.pathname=t.pathname;else{for(var f=(t.pathname||"").split("/");f.length&&!(t.host=f.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==f[0]&&f.unshift(""),f.length<2&&f.unshift(""),n.pathname=f.join("/")}if(n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,n.pathname||n.search){var m=n.pathname||"",g=n.search||"";n.path=m+g}return n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var y=n.pathname&&"/"===n.pathname.charAt(0),v=t.host||t.pathname&&"/"===t.pathname.charAt(0),b=v||y||n.host&&t.pathname,_=b,T=n.pathname&&n.pathname.split("/")||[],f=t.pathname&&t.pathname.split("/")||[],x=n.protocol&&!E[n.protocol];if(x&&(n.hostname="",n.port=null,n.host&&(""===T[0]?T[0]=n.host:T.unshift(n.host)),n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===f[0]?f[0]=t.host:f.unshift(t.host)),t.host=null),b=b&&(""===f[0]||""===T[0])),v)n.host=t.host||""===t.host?t.host:n.host,n.hostname=t.hostname||""===t.hostname?t.hostname:n.hostname,n.search=t.search,n.query=t.query,T=f;else if(f.length)T||(T=[]),T.pop(),T=T.concat(f),n.search=t.search,n.query=t.query;else if(!l.isNullOrUndefined(t.search)){if(x){n.hostname=n.host=T.shift();var S=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");S&&(n.auth=S.shift(),n.host=n.hostname=S.shift())}return n.search=t.search,n.query=t.query,l.isNull(n.pathname)&&l.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!T.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var C=T.slice(-1)[0],A=(n.host||t.host||T.length>1)&&("."===C||".."===C)||""===C,k=0,I=T.length;I>=0;I--)C=T[I],"."===C?T.splice(I,1):".."===C?(T.splice(I,1),k++):k&&(T.splice(I,1),k--);if(!b&&!_)for(;k--;k)T.unshift("..");b&&""!==T[0]&&(!T[0]||"/"!==T[0].charAt(0))&&T.unshift(""),A&&"/"!==T.join("/").substr(-1)&&T.push("");var D=""===T[0]||T[0]&&"/"===T[0].charAt(0);if(x){n.hostname=n.host=D?"":T.length?T.shift():"";var S=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");S&&(n.auth=S.shift(),n.host=n.hostname=S.shift())}return b=b||n.host&&T.length,b&&!D&&T.unshift(""),T.length?n.pathname=T.join("/"):(n.pathname=null,n.path=null),l.isNull(n.pathname)&&l.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n},r.prototype.parseHost=function(){var t=this.host,e=p.exec(t);e&&(e=e[0],":"!==e&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},{"./util":148,punycode:126,querystring:129}],148:[function(t,e){"use strict";e.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},{}],149:[function(t,e){e.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},{}],150:[function(t,e,n){(function(e,r){function i(t,e){var r={seen:[],stylize:s};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),m(e)?r.showHidden=e:e&&n._extend(r,e),w(r.showHidden)&&(r.showHidden=!1),w(r.depth)&&(r.depth=2),w(r.colors)&&(r.colors=!1),w(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=o),u(r,t,r.depth)}function o(t,e){var n=i.styles[e];return n?"\x1b["+i.colors[n][0]+"m"+t+"\x1b["+i.colors[n][1]+"m":t}function s(t){return t}function a(t){var e={};return t.forEach(function(t){e[t]=!0}),e}function u(t,e,r){if(t.customInspect&&e&&C(e.inspect)&&e.inspect!==n.inspect&&(!e.constructor||e.constructor.prototype!==e)){var i=e.inspect(r,t);return b(i)||(i=u(t,i,r)),i}var o=l(t,e);if(o)return o;var s=Object.keys(e),m=a(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(e)),S(e)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return c(e);if(0===s.length){if(C(e)){var g=e.name?": "+e.name:"";return t.stylize("[Function"+g+"]","special")}if(E(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(x(e))return t.stylize(Date.prototype.toString.call(e),"date");if(S(e))return c(e)}var y="",v=!1,_=["{","}"];if(f(e)&&(v=!0,_=["[","]"]),C(e)){y=" [Function"+(e.name?": "+e.name:"")+"]"}if(E(e)&&(y=" "+RegExp.prototype.toString.call(e)),x(e)&&(y=" "+Date.prototype.toUTCString.call(e)),S(e)&&(y=" "+c(e)),0!==s.length||v&&0!=e.length){if(r<0)return E(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special");t.seen.push(e);var w;return w=v?p(t,e,r,m,s):s.map(function(n){return d(t,e,r,m,n,v)}),t.seen.pop(),h(w,y,_)}return _[0]+y+_[1]}function l(t,e){if(w(e))return t.stylize("undefined","undefined");if(b(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}
return v(e)?t.stylize(""+e,"number"):m(e)?t.stylize(""+e,"boolean"):g(e)?t.stylize("null","null"):void 0}function c(t){return"["+Error.prototype.toString.call(t)+"]"}function p(t,e,n,r,i){for(var o=[],s=0,a=e.length;s<a;++s)R(e,String(s))?o.push(d(t,e,n,r,String(s),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(d(t,e,n,r,i,!0))}),o}function d(t,e,n,r,i,o){var s,a,l;if(l=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]},l.get?a=l.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):l.set&&(a=t.stylize("[Setter]","special")),R(r,i)||(s="["+i+"]"),a||(t.seen.indexOf(l.value)<0?(a=g(n)?u(t,l.value,null):u(t,l.value,n-1),a.indexOf("\n")>-1&&(a=o?a.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+a.split("\n").map(function(t){return"   "+t}).join("\n"))):a=t.stylize("[Circular]","special")),w(s)){if(o&&i.match(/^\d+$/))return a;s=JSON.stringify(""+i),s.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+a}function h(t,e,n){var r=0;return t.reduce(function(t,e){return r++,e.indexOf("\n")>=0&&r++,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}function f(t){return Array.isArray(t)}function m(t){return"boolean"==typeof t}function g(t){return null===t}function y(t){return null==t}function v(t){return"number"==typeof t}function b(t){return"string"==typeof t}function _(t){return"symbol"==typeof t}function w(t){return void 0===t}function E(t){return T(t)&&"[object RegExp]"===k(t)}function T(t){return"object"==typeof t&&null!==t}function x(t){return T(t)&&"[object Date]"===k(t)}function S(t){return T(t)&&("[object Error]"===k(t)||t instanceof Error)}function C(t){return"function"==typeof t}function A(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t}function k(t){return Object.prototype.toString.call(t)}function I(t){return t<10?"0"+t.toString(10):t.toString(10)}function D(){var t=new Date,e=[I(t.getHours()),I(t.getMinutes()),I(t.getSeconds())].join(":");return[t.getDate(),O[t.getMonth()],e].join(" ")}function R(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var L=/%[sdj%]/g;n.format=function(t){if(!b(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(i(arguments[n]));return e.join(" ")}for(var n=1,r=arguments,o=r.length,s=String(t).replace(L,function(t){if("%%"===t)return"%";if(n>=o)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return t}}),a=r[n];n<o;a=r[++n])g(a)||!T(a)?s+=" "+a:s+=" "+i(a);return s},n.deprecate=function(t,i){function o(){if(!s){if(e.throwDeprecation)throw new Error(i);e.traceDeprecation?console.trace(i):console.error(i),s=!0}return t.apply(this,arguments)}if(w(r.process))return function(){return n.deprecate(t,i).apply(this,arguments)};if(!0===e.noDeprecation)return t;var s=!1;return o};var N,P={};n.debuglog=function(t){if(w(N)&&(N=e.env.NODE_DEBUG||""),t=t.toUpperCase(),!P[t])if(new RegExp("\\b"+t+"\\b","i").test(N)){var r=e.pid;P[t]=function(){var e=n.format.apply(n,arguments);console.error("%s %d: %s",t,r,e)}}else P[t]=function(){};return P[t]},n.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},n.isArray=f,n.isBoolean=m,n.isNull=g,n.isNullOrUndefined=y,n.isNumber=v,n.isString=b,n.isSymbol=_,n.isUndefined=w,n.isRegExp=E,n.isObject=T,n.isDate=x,n.isError=S,n.isFunction=C,n.isPrimitive=A,n.isBuffer=t("./support/isBuffer");var O=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];n.log=function(){console.log("%s - %s",D(),n.format.apply(n,arguments))},n.inherits=t("inherits"),n._extend=function(t,e){if(!e||!T(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t}}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":149,_process:125,inherits:123}],"oss-2013-10-15.json":[function(t,e){e.exports={format:"rest-xml",apiVersion:"2013-10-15",checksumFormat:"md5",endpointPrefix:"oss",serviceAbbreviation:"OSS",serviceFullName:"Aliyun Open Storage Service",signatureVersion:"oss",timestampFormat:"rfc822",xmlnamespace:"",operations:{abortMultipartUpload:{name:"AbortMultipartUpload",http:{method:"DELETE",uri:"/{Bucket}/{Key}?uploadId={UploadId}"},input:{type:"structure",members:{Bucket:{required:!0,location:"uri"},Key:{required:!0,location:"uri"},UploadId:{required:!0,location:"uri"}}},output:{type:"structure",members:{}}},completeMultipartUpload:{name:"CompleteMultipartUpload",http:{method:"POST",uri:"/{Bucket}/{Key}?uploadId={UploadId}"},input:{payload:"CompleteMultipartUpload",type:"structure",members:{Bucket:{required:!0,location:"uri"},Key:{required:!0,location:"uri"},Notification:{location:"header",name:"x-oss-notification"},CompleteMultipartUpload:{type:"structure",name:"CompleteMultipartUpload",members:{Parts:{type:"list",name:"Part",members:{type:"structure",members:{PartNumber:{type:"integer"},ETag:{}}},flattened:!0}}},UploadId:{required:!0,location:"uri"}}},output:{type:"structure",members:{Bucket:{},ETag:{},Expiration:{type:"timestamp",location:"header",name:"x-oss-expiration"},Key:{},Location:{},ServerSideEncryption:{location:"header",name:"x-oss-server-side-encryption"},VersionId:{location:"header",name:"x-oss-version-id"}}}},copyObject:{name:"CopyObject",alias:"PutObjectCopy",http:{method:"PUT",uri:"/{Bucket}/{Key}"},input:{type:"structure",members:{ACL:{location:"header",name:"x-oss-acl"},Bucket:{required:!0,location:"uri"},CacheControl:{location:"header",name:"Cache-Control"},ContentDisposition:{location:"header",name:"Content-Disposition"},ContentEncoding:{location:"header",name:"Content-Encoding"},ContentLanguage:{location:"header",name:"Content-Language"},ContentType:{location:"header",name:"Content-Type"},CopySource:{required:!0,location:"header",name:"x-oss-copy-source"},CopySourceIfMatch:{type:"timestamp",location:"header",name:"x-oss-copy-source-if-match"},CopySourceIfModifiedSince:{type:"timestamp",location:"header",name:"x-oss-copy-source-if-modified-since"},CopySourceIfNoneMatch:{type:"timestamp",location:"header",name:"x-oss-copy-source-if-none-match"},CopySourceIfUnmodifiedSince:{type:"timestamp",location:"header",name:"x-oss-copy-source-if-unmodified-since"},Expires:{type:"timestamp",location:"header",name:"Expires"},GrantFullControl:{location:"header",name:"x-oss-grant-full-control"},GrantRead:{location:"header",name:"x-oss-grant-read"},GrantReadACP:{location:"header",name:"x-oss-grant-read-acp"},GrantWriteACP:{location:"header",name:"x-oss-grant-write-acp"},Key:{required:!0,location:"uri"},Metadata:{type:"map",location:"header",name:"x-oss-meta-",members:{},keys:{}},MetadataDirective:{location:"header",name:"x-oss-metadata-directive"},ServerSideEncryption:{location:"header",name:"x-oss-server-side-encryption"},StorageClass:{location:"header",name:"x-oss-storage-class"},WebsiteRedirectLocation:{location:"header",name:"x-oss-website-redirect-location"}}},output:{type:"structure",members:{CopySourceVersionId:{location:"header",name:"x-oss-copy-source-version-id"},Expiration:{location:"header",name:"x-oss-expiration"},ServerSideEncryption:{location:"header",name:"x-oss-server-side-encryption"},ETag:{},LastModified:{}}}},createBucket:{name:"CreateBucket",alias:"PutBucket",http:{method:"PUT",uri:"/{Bucket}"},input:{payload:"CreateBucketConfiguration",type:"structure",members:{ACL:{location:"header",name:"x-oss-acl"},Bucket:{required:!0,location:"uri"},GrantFullControl:{location:"header",name:"x-oss-grant-full-control"},GrantRead:{location:"header",name:"x-oss-grant-read"},GrantReadACP:{location:"header",name:"x-oss-grant-read-acp"},GrantWrite:{location:"header",name:"x-oss-grant-write"},GrantWriteACP:{location:"header",name:"x-oss-grant-write-acp"}}},output:{type:"structure",members:{Location:{location:"header",name:"Location"}}}},createMultipartUpload:{name:"CreateMultipartUpload",alias:"InitiateMultipartUpload",http:{method:"POST",uri:"/{Bucket}/{Key}?uploads"},input:{type:"structure",members:{ACL:{location:"header",name:"x-oss-acl"},Bucket:{required:!0,location:"uri"},CacheControl:{location:"header",name:"Cache-Control"},ContentDisposition:{location:"header",name:"Content-Disposition"},ContentEncoding:{location:"header",name:"Content-Encoding"},ContentLanguage:{location:"header",name:"Content-Language"},ContentType:{location:"header",name:"Content-Type"},Expires:{type:"timestamp",location:"header",name:"Expires"},GrantFullControl:{location:"header",name:"x-oss-grant-full-control"},GrantRead:{location:"header",name:"x-oss-grant-read"},GrantReadACP:{location:"header",name:"x-oss-grant-read-acp"},GrantWriteACP:{location:"header",name:"x-oss-grant-write-acp"},Key:{required:!0,location:"uri"},Metadata:{type:"map",location:"header",name:"x-oss-meta-",members:{},keys:{}},ServerSideEncryption:{location:"header",name:"x-oss-server-side-encryption"},StorageClass:{location:"header",name:"x-oss-storage-class"},WebsiteRedirectLocation:{location:"header",name:"x-oss-website-redirect-location"}}},output:{type:"structure",members:{Bucket:{name:"Bucket"},Key:{},ServerSideEncryption:{location:"header",name:"x-oss-server-side-encryption"},UploadId:{}}}},deleteBucket:{name:"DeleteBucket",http:{method:"DELETE",uri:"/{Bucket}"},input:{type:"structure",members:{Bucket:{required:!0,location:"uri"}}},output:{type:"structure",members:{}}},deleteBucketLogging:{name:"DeleteBucketLogging",http:{method:"DELETE",uri:"/{Bucket}?logging"},input:{type:"structure",members:{Bucket:{required:!0,location:"uri"}}},output:{type:"structure",members:{}}},deleteBucketCors:{name:"DeleteBucketCors",http:{method:"DELETE",uri:"/{Bucket}?cors"},input:{type:"structure",members:{Bucket:{required:!0,location:"uri"}}},output:{type:"structure",members:{}}},deleteBucketLifecycle:{name:"DeleteBucketLifecycle",http:{method:"DELETE",uri:"/{Bucket}?lifecycle"},input:{type:"structure",members:{Bucket:{required:!0,location:"uri"}}},output:{type:"structure",members:{}}},deleteBucketPolicy:{name:"DeleteBucketPolicy",http:{method:"DELETE",uri:"/{Bucket}?policy"},input:{type:"structure",members:{Bucket:{required:!0,location:"uri"}}},output:{type:"structure",members:{}}},deleteBucketTagging:{name:"DeleteBucketTagging",http:{method:"DELETE",uri:"/{Bucket}?tagging"},input:{type:"structure",members:{Bucket:{required:!0,location:"uri"}}},output:{type:"structure",members:{}}},deleteBucketWebsite:{name:"DeleteBucketWebsite",http:{method:"DELETE",uri:"/{Bucket}?website"},input:{type:"structure",members:{Bucket:{required:!0,location:"uri"}}},output:{type:"structure",members:{}}},deleteObject:{name:"DeleteObject",http:{method:"DELETE",uri:"/{Bucket}/{Key}?versionId={VersionId}"},input:{type:"structure",members:{Bucket:{required:!0,location:"uri"},Key:{required:!0,location:"uri"},MFA:{location:"header",name:"x-oss-mfa"},VersionId:{location:"uri"}}},output:{type:"structure",members:{DeleteMarker:{type:"boolean",location:"header",name:"x-oss-delete-marker"},VersionId:{location:"header",name:"x-oss-version-id"}}}},deleteObjects:{name:"DeleteObjects",alias:"DeleteMultipleObjects",http:{method:"POST",uri:"/{Bucket}?delete"},input:{payload:"Delete",type:"structure",members:{Bucket:{required:!0,location:"uri"},ContentMD5:{location:"header",name:"Content-MD5"},Delete:{type:"structure",required:!0,members:{Objects:{type:"list",required:!0,name:"Object",members:{type:"structure",members:{Key:{required:!0},VersionId:{}}},flattened:!0},Quiet:{type:"boolean"}}},MFA:{location:"header",name:"x-oss-mfa"}}},output:{type:"structure",members:{Deleted:{type:"list",members:{type:"structure",members:{DeleteMarker:{type:"boolean"},DeleteMarkerVersionId:{},Key:{},VersionId:{}}},flattened:!0},Error:{type:"list",name:"Errors",members:{type:"structure",members:{Code:{},Key:{},Message:{},VersionId:{}}},flattened:!0}}}},getBucketAcl:{name:"GetBucketAcl",http:{method:"GET",uri:"/{Bucket}?acl"},input:{type:"structure",members:{Bucket:{required:!0,location:"uri"}}},output:{type:"structure",members:{AccessControlList:{type:"list",name:"Grants",members:{type:"structure",name:"Grant",members:{Grantee:{type:"structure",xmlns:{uri:"http://www.w3.org/2001/XMLSchema-instance",prefix:"xsi"},members:{DisplayName:{},EmailAddress:{},ID:{},"xsi:type":{name:"Type",attribute:!0},URI:{}}},Permission:{}}}},Owner:{type:"structure",members:{DisplayName:{},ID:{}}}}}},getBucketCors:{name:"GetBucketCors",http:{method:"GET",uri:"/{Bucket}?cors"},input:{type:"structure",members:{Bucket:{required:!0,location:"uri"}}},output:{type:"structure",members:{CORSRule:{type:"list",name:"CORSRules",members:{type:"structure",members:{AllowedHeader:{type:"list",name:"AllowedHeaders",members:{},flattened:!0},AllowedMethod:{type:"list",name:"AllowedMethods",members:{},flattened:!0},AllowedOrigin:{type:"list",name:"AllowedOrigins",members:{},flattened:!0},ExposeHeader:{type:"list",name:"ExposeHeaders",members:{},flattened:!0},MaxAgeSeconds:{type:"integer"}}},flattened:!0}}}},getBucketLifecycle:{name:"GetBucketLifecycle",http:{method:"GET",uri:"/{Bucket}?lifecycle"},input:{type:"structure",members:{Bucket:{required:!0,location:"uri"}}},output:{type:"structure",members:{Rule:{type:"list",name:"Rules",members:{type:"structure",members:{Expiration:{type:"structure",members:{Date:{type:"timestamp",format:"iso8601"},Days:{type:"integer"}}},ID:{},Prefix:{},Status:{},Transition:{type:"structure",members:{Date:{type:"timestamp",format:"iso8601"},Days:{type:"integer"},StorageClass:{}}}}},flattened:!0}}}},getBucketLocation:{name:"GetBucketLocation",http:{method:"GET",uri:"/{Bucket}?location"},input:{type:"structure",members:{Bucket:{required:!0,location:"uri"}}},output:{type:"structure",members:{LocationConstraint:{}}}},getBucketLogging:{name:"GetBucketLogging",http:{method:"GET",uri:"/{Bucket}?logging"},input:{type:"structure",members:{Bucket:{required:!0,location:"uri"}}},output:{type:"structure",members:{LoggingEnabled:{type:"structure",members:{TargetBucket:{},TargetGrants:{type:"list",members:{type:"structure",name:"Grant",members:{Grantee:{type:"structure",xmlns:{uri:"http://www.w3.org/2001/XMLSchema-instance",prefix:"xsi"},members:{DisplayName:{},EmailAddress:{},ID:{},"xsi:type":{name:"Type",attribute:!0},URI:{}}},Permission:{}}}},TargetPrefix:{}}}}}},getBucketNotification:{name:"GetBucketNotification",http:{method:"GET",uri:"/{Bucket}?notification"},input:{type:"structure",members:{Bucket:{required:!0,location:"uri"}}},output:{type:"structure",members:{TopicConfiguration:{type:"structure",members:{Event:{},Topic:{}}}}}},getBucketPolicy:{name:"GetBucketPolicy",http:{method:"GET",uri:"/{Bucket}?policy"},input:{type:"structure",members:{Bucket:{required:!0,location:"uri"}}},output:{type:"structure",members:{Policy:{}},payload:"Policy"}},getBucketRequestPayment:{name:"GetBucketRequestPayment",http:{method:"GET",uri:"/{Bucket}?requestPayment"},input:{type:"structure",members:{Bucket:{required:!0,location:"uri"}}},output:{type:"structure",members:{Payer:{}}}},getBucketTagging:{name:"GetBucketTagging",http:{method:"GET",uri:"/{Bucket}?tagging"},input:{type:"structure",members:{Bucket:{required:!0,location:"uri"}}},output:{type:"structure",members:{TagSet:{type:"list",members:{type:"structure",name:"Tag",members:{Key:{},Value:{}}}}}}},getBucketVersioning:{name:"GetBucketVersioning",http:{method:"GET",uri:"/{Bucket}?versioning"},input:{type:"structure",members:{Bucket:{required:!0,location:"uri"}}},output:{type:"structure",members:{MFADelete:{},Status:{}}}},getBucketWebsite:{name:"GetBucketWebsite",http:{method:"GET",uri:"/{Bucket}?website"},input:{type:"structure",members:{Bucket:{required:!0,location:"uri"}}},output:{type:"structure",members:{ErrorDocument:{type:"structure",members:{Key:{}}},IndexDocument:{type:"structure",members:{Suffix:{}}},RedirectAllRequestsTo:{type:"structure",members:{HostName:{},Protocol:{}}},RoutingRules:{type:"list",members:{type:"structure",name:"RoutingRule",members:{Condition:{type:"structure",members:{HttpErrorCodeReturnedEquals:{},KeyPrefixEquals:{}}},Redirect:{type:"structure",members:{HostName:{},HttpRedirectCode:{},Protocol:{},ReplaceKeyPrefixWith:{},ReplaceKeyWith:{}}}}}}}}},getObject:{name:"GetObject",http:{method:"GET",uri:"/{Bucket}/{Key}?versionId={VersionId}&response-content-type={ResponseContentType}&response-content-language={ResponseContentLanguage}&response-expires={ResponseExpires}&response-cache-control={ResponseCacheControl}&response-content-disposition={ResponseContentDisposition}&response-content-encoding={ResponseContentEncoding}"},input:{type:"structure",members:{Bucket:{required:!0,location:"uri"},IfMatch:{location:"header",name:"If-Match"},IfModifiedSince:{type:"timestamp",location:"header",name:"If-Modified-Since"},IfNoneMatch:{location:"header",name:"If-None-Match"},IfUnmodifiedSince:{type:"timestamp",location:"header",name:"If-Unmodified-Since"},Key:{required:!0,location:"uri"},Range:{location:"header",name:"Range"},ResponseCacheControl:{location:"uri"},ResponseContentDisposition:{location:"uri"},ResponseContentEncoding:{location:"uri"},ResponseContentLanguage:{location:"uri"},ResponseContentType:{location:"uri"},ResponseExpires:{type:"timestamp",location:"uri"},VersionId:{location:"uri"}}},output:{type:"structure",members:{AcceptRanges:{location:"header",name:"accept-ranges"},Body:{type:"binary",streaming:!0},CacheControl:{location:"header",name:"Cache-Control"},ContentDisposition:{location:"header",name:"Content-Disposition"},ContentEncoding:{location:"header",name:"Content-Encoding"},ContentLanguage:{location:"header",name:"Content-Language"},ContentLength:{type:"integer",location:"header",name:"Content-Length"},ContentType:{location:"header",name:"Content-Type"},DeleteMarker:{type:"boolean",location:"header",name:"x-oss-delete-marker"},ETag:{location:"header",name:"ETag"},Expiration:{location:"header",name:"x-oss-expiration"},Expires:{type:"timestamp",location:"header",name:"Expires"},LastModified:{type:"timestamp",location:"header",name:"Last-Modified"},Metadata:{type:"map",location:"header",name:"x-oss-meta-",members:{},keys:{}},MissingMeta:{type:"integer",location:"header",name:"x-oss-missing-meta"},Restore:{location:"header",name:"x-oss-restore"},ServerSideEncryption:{location:"header",name:"x-oss-server-side-encryption"},VersionId:{location:"header",name:"x-oss-version-id"},WebsiteRedirectLocation:{location:"header",name:"x-oss-website-redirect-location"}},payload:"Body"}},getObjectAcl:{name:"GetObjectAcl",http:{method:"GET",uri:"/{Bucket}/{Key}?acl&versionId={VersionId}"},input:{type:"structure",members:{Bucket:{required:!0,location:"uri"},Key:{required:!0,location:"uri"},VersionId:{location:"uri"}}},output:{type:"structure",members:{AccessControlList:{type:"list",name:"Grants",members:{type:"structure",name:"Grant",members:{Grantee:{type:"structure",xmlns:{uri:"http://www.w3.org/2001/XMLSchema-instance",prefix:"xsi"},members:{DisplayName:{},EmailAddress:{},ID:{},"xsi:type":{name:"Type",attribute:!0},URI:{}}},Permission:{}}}},Owner:{type:"structure",members:{DisplayName:{},ID:{}}}}}},getObjectTorrent:{name:"GetObjectTorrent",http:{method:"GET",uri:"/{Bucket}/{Key}?torrent"},input:{type:"structure",members:{Bucket:{required:!0,location:"uri"},Key:{required:!0,location:"uri"}}},output:{type:"structure",members:{Body:{type:"binary",streaming:!0}},payload:"Body"}},headBucket:{name:"HeadBucket",http:{method:"HEAD",uri:"/{Bucket}"},input:{type:"structure",members:{Bucket:{required:!0,location:"uri"}}},output:{type:"structure",members:{}}},headObject:{name:"HeadObject",http:{method:"HEAD",uri:"/{Bucket}/{Key}?versionId={VersionId}"},input:{type:"structure",members:{Bucket:{required:!0,location:"uri"},IfMatch:{location:"header",name:"If-Match"},IfModifiedSince:{type:"timestamp",location:"header",name:"If-Modified-Since"},IfNoneMatch:{location:"header",name:"If-None-Match"},IfUnmodifiedSince:{type:"timestamp",location:"header",name:"If-Unmodified-Since"},Key:{required:!0,location:"uri"},Range:{location:"header",name:"Range"},VersionId:{location:"uri"}}},output:{type:"structure",members:{AcceptRanges:{location:"header",name:"accept-ranges"},CacheControl:{location:"header",name:"Cache-Control"},ContentDisposition:{location:"header",name:"Content-Disposition"},ContentEncoding:{location:"header",name:"Content-Encoding"},ContentLanguage:{location:"header",name:"Content-Language"},ContentLength:{type:"integer",location:"header",name:"Content-Length"},ContentType:{location:"header",name:"Content-Type"},DeleteMarker:{type:"boolean",location:"header",name:"x-oss-delete-marker"},ETag:{location:"header",name:"ETag"},Expiration:{location:"header",name:"x-oss-expiration"},Expires:{type:"timestamp",location:"header",name:"Expires"},LastModified:{type:"timestamp",location:"header",name:"Last-Modified"},Metadata:{type:"map",location:"header",name:"x-oss-meta-",members:{},keys:{}},MissingMeta:{type:"integer",location:"header",name:"x-oss-missing-meta"},Restore:{location:"header",name:"x-oss-restore"},ServerSideEncryption:{location:"header",name:"x-oss-server-side-encryption"},VersionId:{location:"header",name:"x-oss-version-id"},WebsiteRedirectLocation:{location:"header",name:"x-oss-website-redirect-location"}}}},listBuckets:{name:"ListBuckets",alias:"GetService",http:{method:"GET",uri:"/"},input:{type:"structure",members:{}},output:{type:"structure",members:{Buckets:{type:"list",members:{type:"structure",name:"Bucket",members:{CreationDate:{type:"timestamp"},Name:{}}}},Owner:{type:"structure",members:{DisplayName:{},ID:{}}}}}},listMultipartUploads:{name:"ListMultipartUploads",http:{method:"GET",uri:"/{Bucket}?uploads&prefix={Prefix}&delimiter={Delimiter}&max-uploads={MaxUploads}&key-marker={KeyMarker}&upload-id-marker={UploadIdMarker}&encoding-type={EncodingType}"},input:{type:"structure",members:{Bucket:{required:!0,location:"uri"},Delimiter:{location:"uri"},EncodingType:{location:"uri"},KeyMarker:{location:"uri"},MaxUploads:{type:"integer",location:"uri"},Prefix:{location:"uri"},UploadIdMarker:{location:"uri"}}},output:{type:"structure",members:{Bucket:{},CommonPrefixes:{type:"list",members:{type:"structure",members:{Prefix:{}}},flattened:!0},EncodingType:{location:"header",name:"Encoding-Type"},IsTruncated:{type:"boolean"},KeyMarker:{},MaxUploads:{type:"integer"},NextKeyMarker:{},NextUploadIdMarker:{},Prefix:{},UploadIdMarker:{},Upload:{type:"list",name:"Uploads",members:{type:"structure",members:{Initiated:{type:"timestamp"},Initiator:{type:"structure",members:{DisplayName:{},ID:{}}},Key:{},Owner:{type:"structure",members:{DisplayName:{},ID:{}}},StorageClass:{},UploadId:{}}},flattened:!0}}}},listObjectVersions:{name:"ListObjectVersions",alias:"GetBucketObjectVersions",http:{method:"GET",uri:"/{Bucket}?versions&delimiter={Delimiter}&key-marker={KeyMarker}&max-keys={MaxKeys}&prefix={Prefix}&version-id-marker={VersionIdMarker}&encoding-type={EncodingType}"},input:{type:"structure",members:{Bucket:{required:!0,location:"uri"},Delimiter:{location:"uri"},EncodingType:{location:"uri"},KeyMarker:{location:"uri"},MaxKeys:{type:"integer",location:"uri"},Prefix:{location:"uri"},VersionIdMarker:{location:"uri"}}},output:{type:"structure",members:{CommonPrefixes:{type:"list",members:{type:"structure",members:{Prefix:{}}},flattened:!0},DeleteMarker:{type:"list",name:"DeleteMarkers",members:{type:"structure",members:{IsLatest:{type:"boolean"},Key:{},LastModified:{type:"timestamp"},Owner:{type:"structure",members:{DisplayName:{},ID:{}}},VersionId:{}}},flattened:!0},EncodingType:{location:"header",name:"Encoding-Type"},IsTruncated:{type:"boolean"},KeyMarker:{},MaxKeys:{type:"integer"},Name:{},NextKeyMarker:{},NextVersionIdMarker:{},Prefix:{},VersionIdMarker:{},Version:{type:"list",name:"Versions",members:{type:"structure",members:{ETag:{},IsLatest:{type:"boolean"},Key:{},LastModified:{type:"timestamp"},Owner:{type:"structure",members:{DisplayName:{},ID:{}}},Size:{},StorageClass:{},VersionId:{}}},flattened:!0}}}},listObjects:{name:"ListObjects",alias:"GetBucket",http:{method:"GET",uri:"/{Bucket}?delimiter={Delimiter}&marker={Marker}&max-keys={MaxKeys}&prefix={Prefix}&encoding-type={EncodingType}"},input:{type:"structure",members:{Bucket:{required:!0,location:"uri"},Delimiter:{location:"uri"},EncodingType:{location:"uri"},Marker:{location:"uri"},MaxKeys:{type:"integer",location:"uri"},Prefix:{location:"uri"}}},output:{type:"structure",members:{CommonPrefixes:{type:"list",members:{type:"structure",members:{Prefix:{}}},flattened:!0},Contents:{type:"list",members:{type:"structure",members:{ETag:{},Key:{},LastModified:{type:"timestamp"},Owner:{type:"structure",members:{DisplayName:{},ID:{}}},Size:{type:"integer"},StorageClass:{}}},flattened:!0},EncodingType:{location:"header",name:"Encoding-Type"},IsTruncated:{type:"boolean"},Marker:{},MaxKeys:{type:"integer"},Name:{},NextMarker:{},Prefix:{}}}},listParts:{name:"ListParts",http:{method:"GET",uri:"/{Bucket}/{Key}?uploadId={UploadId}&max-parts={MaxParts}&part-number-marker={PartNumberMarker}"},input:{type:"structure",members:{Bucket:{required:!0,location:"uri"},Key:{required:!0,location:"uri"},MaxParts:{type:"integer",location:"uri"},PartNumberMarker:{type:"integer",location:"uri"},UploadId:{required:!0,location:"uri"}}},output:{type:"structure",members:{Bucket:{},Initiator:{type:"structure",members:{DisplayName:{},ID:{}}},IsTruncated:{type:"boolean"},Key:{},MaxParts:{type:"integer"},NextPartNumberMarker:{type:"integer"},Owner:{type:"structure",members:{DisplayName:{},ID:{}}},PartNumberMarker:{type:"integer"},Part:{type:"list",name:"Parts",members:{type:"structure",members:{ETag:{},LastModified:{type:"timestamp"},PartNumber:{type:"integer"},Size:{type:"integer"}}},flattened:!0},StorageClass:{},UploadId:{}}}},putBucketAcl:{name:"PutBucketAcl",http:{method:"PUT",uri:"/{Bucket}?acl"},input:{payload:"AccessControlPolicy",type:"structure",members:{ACL:{location:"header",name:"x-oss-acl"},AccessControlPolicy:{type:"structure",members:{Grants:{type:"list",name:"AccessControlList",members:{type:"structure",name:"Grant",members:{Grantee:{type:"structure",xmlns:{uri:"http://www.w3.org/2001/XMLSchema-instance",prefix:"xsi"},members:{DisplayName:{},EmailAddress:{},ID:{},Type:{required:!0,name:"xsi:type",attribute:!0},URI:{}}},Permission:{}}}},Owner:{type:"structure",members:{DisplayName:{},ID:{}}}}},Bucket:{required:!0,location:"uri"},ContentMD5:{location:"header",name:"Content-MD5"},GrantFullControl:{location:"header",name:"x-oss-grant-full-control"},GrantRead:{location:"header",name:"x-oss-grant-read"},GrantReadACP:{location:"header",name:"x-oss-grant-read-acp"},GrantWrite:{location:"header",name:"x-oss-grant-write"},GrantWriteACP:{location:"header",name:"x-oss-grant-write-acp"}}},output:{type:"structure",members:{}}},putBucketCors:{name:"PutBucketCors",http:{method:"PUT",uri:"/{Bucket}?cors"},input:{payload:"CORSConfiguration",type:"structure",members:{Bucket:{required:!0,location:"uri"},CORSConfiguration:{type:"structure",members:{CORSRules:{type:"list",name:"CORSRule",members:{type:"structure",members:{AllowedHeaders:{type:"list",name:"AllowedHeader",members:{},flattened:!0},AllowedMethods:{type:"list",name:"AllowedMethod",members:{},flattened:!0},AllowedOrigins:{type:"list",name:"AllowedOrigin",members:{},flattened:!0},ExposeHeaders:{type:"list",name:"ExposeHeader",members:{},flattened:!0},MaxAgeSeconds:{type:"integer"}}},flattened:!0}}},ContentMD5:{location:"header",name:"Content-MD5"}}},output:{type:"structure",members:{}}},putBucketLifecycle:{name:"PutBucketLifecycle",http:{method:"PUT",uri:"/{Bucket}?lifecycle"},input:{payload:"LifecycleConfiguration",type:"structure",members:{Bucket:{required:!0,location:"uri"},ContentMD5:{location:"header",name:"Content-MD5"},LifecycleConfiguration:{type:"structure",members:{Rules:{type:"list",required:!0,name:"Rule",members:{type:"structure",members:{Expiration:{type:"structure",members:{Date:{type:"timestamp",format:"iso8601"},Days:{type:"integer"}}},ID:{},Prefix:{required:!0},Status:{required:!0},Transition:{type:"structure",members:{Date:{type:"timestamp",format:"iso8601"},Days:{type:"integer"},StorageClass:{}}}}},flattened:!0}}}}},output:{type:"structure",members:{}}},putBucketLogging:{name:"PutBucketLogging",http:{method:"PUT",uri:"/{Bucket}?logging"},input:{payload:"BucketLoggingStatus",type:"structure",members:{Bucket:{required:!0,location:"uri"},BucketLoggingStatus:{type:"structure",required:!0,members:{LoggingEnabled:{type:"structure",members:{TargetBucket:{},TargetGrants:{type:"list",members:{type:"structure",name:"Grant",members:{Grantee:{type:"structure",xmlns:{uri:"http://www.w3.org/2001/XMLSchema-instance",prefix:"xsi"},members:{DisplayName:{},EmailAddress:{},ID:{},Type:{required:!0,name:"xsi:type",attribute:!0},URI:{}}},Permission:{}}}},TargetPrefix:{}}}}},ContentMD5:{location:"header",name:"Content-MD5"}}},output:{type:"structure",members:{}}},putBucketNotification:{name:"PutBucketNotification",http:{method:"PUT",uri:"/{Bucket}?notification"},input:{payload:"NotificationConfiguration",type:"structure",members:{Bucket:{required:!0,location:"uri"},ContentMD5:{location:"header",name:"Content-MD5"},NotificationConfiguration:{type:"structure",required:!0,members:{TopicConfiguration:{type:"structure",required:!0,members:{Event:{},Topic:{}}}}}}},output:{type:"structure",members:{}}},putBucketPolicy:{name:"PutBucketPolicy",http:{method:"PUT",uri:"/{Bucket}?policy"},input:{payload:"Policy",type:"structure",members:{Bucket:{required:!0,location:"uri"},ContentMD5:{location:"header",name:"Content-MD5"},Policy:{required:!0}}},output:{type:"structure",members:{}}},putBucketRequestPayment:{name:"PutBucketRequestPayment",http:{method:"PUT",uri:"/{Bucket}?requestPayment"},input:{payload:"RequestPaymentConfiguration",type:"structure",members:{Bucket:{required:!0,location:"uri"},ContentMD5:{location:"header",name:"Content-MD5"},RequestPaymentConfiguration:{type:"structure",required:!0,members:{Payer:{required:!0}}}}},output:{type:"structure",members:{}}},putBucketTagging:{name:"PutBucketTagging",http:{method:"PUT",uri:"/{Bucket}?tagging"},input:{payload:"Tagging",type:"structure",members:{Bucket:{required:!0,location:"uri"},ContentMD5:{location:"header",name:"Content-MD5"},Tagging:{type:"structure",required:!0,members:{TagSet:{type:"list",required:!0,members:{type:"structure",required:!0,name:"Tag",members:{Key:{required:!0},Value:{required:!0}}}}}}}},output:{type:"structure",members:{}}},putBucketVersioning:{name:"PutBucketVersioning",http:{method:"PUT",uri:"/{Bucket}?versioning"},input:{payload:"VersioningConfiguration",type:"structure",members:{Bucket:{required:!0,location:"uri"},ContentMD5:{location:"header",name:"Content-MD5"},MFA:{location:"header",name:"x-oss-mfa"},VersioningConfiguration:{type:"structure",required:!0,members:{MFADelete:{},Status:{}}}}},output:{type:"structure",members:{}}},putBucketWebsite:{name:"PutBucketWebsite",http:{method:"PUT",uri:"/{Bucket}?website"},input:{payload:"WebsiteConfiguration",type:"structure",members:{Bucket:{required:!0,location:"uri"},ContentMD5:{location:"header",name:"Content-MD5"},WebsiteConfiguration:{type:"structure",required:!0,members:{ErrorDocument:{type:"structure",members:{Key:{required:!0}}},IndexDocument:{type:"structure",members:{Suffix:{required:!0}}},RedirectAllRequestsTo:{type:"structure",members:{HostName:{required:!0},Protocol:{}}},RoutingRules:{type:"list",members:{type:"structure",name:"RoutingRule",members:{Condition:{type:"structure",members:{HttpErrorCodeReturnedEquals:{},KeyPrefixEquals:{}}},Redirect:{type:"structure",required:!0,members:{HostName:{},HttpRedirectCode:{},Protocol:{},ReplaceKeyPrefixWith:{},ReplaceKeyWith:{}}}}}}}}}},output:{type:"structure",members:{}}},putObject:{name:"PutObject",http:{method:"PUT",uri:"/{Bucket}/{Key}"},input:{payload:"Body",type:"structure",members:{ACL:{location:"header",name:"x-oss-acl"},AccessControlAllowOrigin:{location:"header",name:"Access-Control-Allow-Origin"},Body:{type:"binary",streaming:!0},Bucket:{required:!0,location:"uri"},CacheControl:{location:"header",name:"Cache-Control"},Notification:{location:"header",name:"x-oss-notification"},ContentDisposition:{location:"header",name:"Content-Disposition"},ContentEncoding:{location:"header",
name:"Content-Encoding"},ContentLanguage:{location:"header",name:"Content-Language"},ContentLength:{type:"integer",location:"header",name:"Content-Length"},ContentMD5:{location:"header",name:"Content-MD5"},ContentType:{location:"header",name:"Content-Type"},Expires:{type:"timestamp",location:"header",name:"Expires"},GrantFullControl:{location:"header",name:"x-oss-grant-full-control"},GrantRead:{location:"header",name:"x-oss-grant-read"},GrantReadACP:{location:"header",name:"x-oss-grant-read-acp"},GrantWriteACP:{location:"header",name:"x-oss-grant-write-acp"},Key:{required:!0,location:"uri"},Metadata:{type:"map",location:"header",name:"x-oss-meta-",members:{},keys:{}},ServerSideEncryption:{location:"header",name:"x-oss-server-side-encryption"},StorageClass:{location:"header",name:"x-oss-storage-class"},WebsiteRedirectLocation:{location:"header",name:"x-oss-website-redirect-location"}}},output:{type:"structure",members:{ETag:{location:"header",name:"ETag"},Expiration:{type:"timestamp",location:"header",name:"x-oss-expiration"},ServerSideEncryption:{location:"header",name:"x-oss-server-side-encryption"},VersionId:{location:"header",name:"x-oss-version-id"}}}},putObjectAcl:{name:"PutObjectAcl",http:{method:"PUT",uri:"/{Bucket}/{Key}?acl"},input:{payload:"AccessControlPolicy",type:"structure",members:{ACL:{location:"header",name:"x-oss-acl"},AccessControlPolicy:{type:"structure",members:{Grants:{type:"list",name:"AccessControlList",members:{type:"structure",name:"Grant",members:{Grantee:{type:"structure",xmlns:{uri:"http://www.w3.org/2001/XMLSchema-instance",prefix:"xsi"},members:{DisplayName:{},EmailAddress:{},ID:{},Type:{required:!0,name:"xsi:type",attribute:!0},URI:{}}},Permission:{}}}},Owner:{type:"structure",members:{DisplayName:{},ID:{}}}}},Bucket:{required:!0,location:"uri"},ContentMD5:{location:"header",name:"Content-MD5"},GrantFullControl:{location:"header",name:"x-oss-grant-full-control"},GrantRead:{location:"header",name:"x-oss-grant-read"},GrantReadACP:{location:"header",name:"x-oss-grant-read-acp"},GrantWrite:{location:"header",name:"x-oss-grant-write"},GrantWriteACP:{location:"header",name:"x-oss-grant-write-acp"},Key:{required:!0,location:"uri"}}},output:{type:"structure",members:{}}},restoreObject:{name:"RestoreObject",alias:"PostObjectRestore",http:{method:"POST",uri:"/{Bucket}/{Key}?restore"},input:{payload:"RestoreRequest",type:"structure",members:{Bucket:{required:!0,location:"uri"},Key:{required:!0,location:"uri"},RestoreRequest:{type:"structure",members:{Days:{type:"integer",required:!0}}}}},output:{type:"structure",members:{}}},uploadPart:{name:"UploadPart",http:{method:"PUT",uri:"/{Bucket}/{Key}?partNumber={PartNumber}&uploadId={UploadId}"},input:{payload:"Body",type:"structure",members:{Body:{type:"binary",streaming:!0},Bucket:{required:!0,location:"uri"},ContentLength:{type:"integer",location:"header",name:"Content-Length"},ContentMD5:{location:"header",name:"Content-MD5"},Key:{required:!0,location:"uri"},PartNumber:{type:"integer",required:!0,location:"uri"},UploadId:{required:!0,location:"uri"}}},output:{type:"structure",members:{ETag:{location:"header",name:"ETag"},ServerSideEncryption:{location:"header",name:"x-oss-server-side-encryption"}}}},uploadPartCopy:{name:"UploadPartCopy",http:{method:"PUT",uri:"/{Bucket}/{Key}?partNumber={PartNumber}&uploadId={UploadId}"},input:{type:"structure",members:{Bucket:{required:!0,location:"uri"},CopySource:{required:!0,location:"header",name:"x-oss-copy-source"},CopySourceIfMatch:{type:"timestamp",location:"header",name:"x-oss-copy-source-if-match"},CopySourceIfModifiedSince:{type:"timestamp",location:"header",name:"x-oss-copy-source-if-modified-since"},CopySourceIfNoneMatch:{type:"timestamp",location:"header",name:"x-oss-copy-source-if-none-match"},CopySourceIfUnmodifiedSince:{type:"timestamp",location:"header",name:"x-oss-copy-source-if-unmodified-since"},CopySourceRange:{location:"header",name:"x-oss-copy-source-range"},Key:{required:!0,location:"uri"},PartNumber:{type:"integer",required:!0,location:"uri"},UploadId:{required:!0,location:"uri"}}},output:{type:"structure",members:{CopySourceVersionId:{location:"header",name:"x-oss-copy-source-version-id"},ServerSideEncryption:{location:"header",name:"x-oss-server-side-encryption"},ETag:{},LastModified:{type:"timestamp"}}}}},pagination:{listMultipartUploads:{limitKey:"MaxUploads",moreResults:"IsTruncated",outputToken:["NextKeyMarker","NextUploadIdMarker"],inputToken:["KeyMarker","UploadIdMarker"],resultKey:"Uploads"},listObjectVersions:{moreResults:"IsTruncated",limitKey:"MaxKeys",outputToken:["NextKeyMarker","NextVersionIdMarker"],inputToken:["KeyMarker","VersionIdMarker"],resultKey:"Versions"},listObjects:{moreResults:"IsTruncated",limitKey:"MaxKeys",outputToken:"NextMarker or Contents[-1].Key",inputToken:"Marker",resultKey:["Contents","CommonPrefixes"]},listParts:{limitKey:"IsTruncated",outputToken:"NextPartNumberMarker",inputToken:"PartNumberMarker",resultKey:"Parts"}}}},{}]},{},[3]),function(){function t(t){if(t&&(this._config={chunkSize:1048576},e(this._config,t),(this._config.aliyunCredential||this._config.stsToken)&&this._config.endpoint)){var n=window.ALY;this._config.stsToken?this.oss=new n.OSS({accessKeyId:this._config.stsToken.Credentials.AccessKeyId,secretAccessKey:this._config.stsToken.Credentials.AccessKeySecret,securityToken:this._config.stsToken.Credentials.SecurityToken,endpoint:this._config.endpoint,apiVersion:"2013-10-15"}):this.oss=new n.OSS({accessKeyId:this._config.aliyunCredential.accessKeyId,secretAccessKey:this._config.aliyunCredential.secretAccessKey,endpoint:this._config.endpoint,apiVersion:"2013-10-15"}),this._uploadInfo={},this._uploadInfo.state=undefined,this._uploadInfo.step=undefined}}var e=function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&e[n]&&(t[n]=e[n])};t.UPLOADSTATE={INIT:"init",UPLOADING:"uploading",COMPLETE:"complete",INTERRUPT:"interrupt"},t.UPLOADSTEP={INIT:"init",PART:"part",COMPLETE:"complete"},t.prototype.init=function(e){var n=e.onerror,r=this._config.errors;return e?e.file?e.object?(e.object=e.object.replace(new RegExp("^/"),""),this._callback={},this._callback.onerror=e.onerror,this._callback.oncomplete=e.oncomplete,this._callback.onprogress=e.onprogress,this._uploadInfo.file=e.file,this._uploadInfo.blobSlice=File.prototype.slice||File.prototype.mozSlice||File.prototype.webkitSlice,this._uploadInfo.chunksNum=Math.ceil(e.file.size/this._config.chunkSize),this._uploadInfo.currentChunk=0,this._uploadInfo.uploadId=undefined,this._uploadInfo.type=undefined,this._uploadInfo.multipartMap={Parts:[]},this._uploadInfo.connum=0,this._uploadInfo.object=e.object,this._uploadInfo.headers=e.headers,this._uploadInfo.state=t.UPLOADSTATE.INIT,void(this._uploadInfo.step=t.UPLOADSTEP.INIT)):void("function"==typeof e.onerror&&n(r.format(VODUploadError.CODE.EmptyValue,VODUploadError.MESSAGE.EmptyValue,"object"))):void("function"==typeof e.onerror&&n(r.format(VODUploadError.CODE.EmptyValue,VODUploadError.MESSAGE.EmptyValue,"file"))):void("function"==typeof n&&n(r.format(VODUploadError.CODE.EmptyValue,VODUploadError.MESSAGE.EmptyValue,"options")))},t.prototype.oncomplete=function(){"function"==typeof this._callback.oncomplete&&this._callback.oncomplete(this._uploadInfo.uploadId)},t.prototype.onprogress=function(){var t=this,e=t._uploadInfo.multipartMap;if("function"==typeof this._callback.onprogress){for(var n=0,r=0;r<e.Parts.length;r++)n+=e.Parts[r].loaded;t._callback.onprogress({loaded:n,total:this._uploadInfo.file.size})}},t.prototype.cancelUpload=function(){this._uploadInfo.state=t.UPLOADSTATE.INTERRUPT},t.prototype.createMultipartUpload=function(){var e=this,n={Bucket:e._config.bucket,Key:e._uploadInfo.object,ContentType:e._uploadInfo.file.type||""};e._uploadInfo.state=t.UPLOADSTATE.START,e.oss.createMultipartUpload(n,function(t,n){e.onCreateMultipartUpload(t,n)})},t.prototype.onCreateMultipartUpload=function(e,n){var r=this;if(this._uploadInfo.state!=t.UPLOADSTATE.INTERRUPT){if(e)return void("NetworkingError"==e.code?setTimeout(function(){r.createMultipartUpload()},2e3):r._callback.onerror(e));r._uploadInfo.uploadId=n.UploadId,r._uploadInfo.step=t.UPLOADSTEP.PART,r.loadChunk()}},t.prototype.uploadPart=function(t){var e=this,n=e._uploadInfo.multipartMap,r={Body:n.Parts[t].data,Bucket:e._config.bucket,Key:e._uploadInfo.object,PartNumber:String(t+1),UploadId:e._uploadInfo.uploadId};e.oss.uploadPart(r,function(n,r){e.onUploadPart(t,n,r)}).on("httpUploadProgress",function(r){n.Parts[t].loaded=r.loaded,e.onprogress()})},t.prototype.onUploadPart=function(e,n,r){var i=this,o=this._uploadInfo,s=i._uploadInfo.multipartMap;if(this._uploadInfo.state!=t.UPLOADSTATE.INTERRUPT)if(n)if("NetworkingError"==n.code)s.Parts[e].loaded=0,setTimeout(function(){i.uploadPart(e)},2e3);else{if(i._uploadInfo.state==t.UPLOADSTATE.INTERRUPT)return;o.state=t.UPLOADSTATE.INTERRUPT,i._callback.onerror(n,r)}else s.Parts[e].ETag=r.ETag,s.Parts[e].loaded=s.Parts[e].data.byteLength,delete s.Parts[e].data,o.currentChunk<o.chunksNum?i.loadChunk():0==i._uploadInfo.connum&&s.Parts.length==o.chunksNum&&(i._uploadInfo.step=t.UPLOADSTEP.COMPLETE,i.completeMultipartUpload())},t.prototype.completeMultipartUpload=function(){var t=this,n=t._uploadInfo.multipartMap;for(var r in n.Parts)n.Parts[r].loaded&&delete n.Parts[r].loaded;var i={Bucket:t._config.bucket,Key:t._uploadInfo.object,CompleteMultipartUpload:n,UploadId:t._uploadInfo.uploadId};e(i,t._uploadInfo.headers),this.oss.completeMultipartUpload(i,function(e,n){t.onMultiUploadComplete(e,n)})},t.prototype.onMultiUploadComplete=function(e,n){var r=this;if(this._uploadInfo.state!=t.UPLOADSTATE.INTERRUPT)if(e){if("function"==typeof r._callback.onerror)return void(e?"NetworkingError"==e.code?setTimeout(function(){r.completeMultipartUpload()},2e3):r._callback.onerror(e):console.log("onMultiUploadComplete: error msg is null."))}else"function"==typeof r._callback.oncomplete&&(r._uploadInfo.state=t.UPLOADSTATE.COMPLETE,r._callback.oncomplete(n))},t.prototype.loadChunk=function(){var t=this,e=t._uploadInfo,n=t._config,r=e.currentChunk,i=new FileReader;i.onload=function(e){t.frOnload(r,e)},i.onerror=function(e){t.frOnerror(r,e)};var o=r*n.chunkSize,s=o+n.chunkSize>=e.file.size?e.file.size:o+n.chunkSize,a=e.blobSlice.call(e.file,o,s);i.readAsArrayBuffer(a),e.currentChunk++},t.prototype.frOnload=function(e,n){var r=this;r._uploadInfo.multipartMap.Parts[e]={data:n.target.result,PartNumber:e+1,loaded:0},this._uploadInfo.state!=t.UPLOADSTATE.INTERRUPT&&r.uploadPart(e)},t.prototype.frOnerror=function(t){var e=this,n=e._callback.onerror,r=e._config.errors,i=e._uploadInfo;"function"==typeof n&&n(r.format(r.CODE.ReadFileError,r.MESSAGE.ReadFileError,i.file.name,t))},t.prototype.resumeUploadWithToken=function(e,n,r){var i=this,o=i._uploadInfo.multipartMap;if(i._uploadInfo.state==t.UPLOADSTATE.INTERRUPT){i._config.stsToken.Credentials.AccessKeyId=e,i._config.stsToken.Credentials.AccessKeySecret=n,i._config.stsToken.Credentials.SecurityToken=r;var s=window.ALY;if(i._config.stsToken?i.oss=new s.OSS({accessKeyId:i._config.stsToken.Credentials.AccessKeyId,secretAccessKey:i._config.stsToken.Credentials.AccessKeySecret,securityToken:i._config.stsToken.Credentials.SecurityToken,endpoint:i._config.endpoint,apiVersion:"2013-10-15"}):i.oss=new s.OSS({accessKeyId:i._config.aliyunCredential.accessKeyId,secretAccessKey:i._config.aliyunCredential.secretAccessKey,endpoint:i._config.endpoint,apiVersion:"2013-10-15"}),i._uploadInfo.state=t.UPLOADSTATE.UPLOADING,i._uploadInfo.step==t.UPLOADSTEP.INIT)i.createMultipartUpload();else if(i._uploadInfo.step==t.UPLOADSTEP.PART){for(var a in o.Parts)if(o.Parts[a].data){i.uploadPart(parseInt(a));break}}else i._uploadInfo.step==t.UPLOADSTEP.COMPLETE&&i.completeMultipartUpload()}},t.prototype.resumeUpload=function(){var e=this,n=e._uploadInfo.multipartMap;if(e._uploadInfo.state==t.UPLOADSTATE.INTERRUPT)if(e._uploadInfo.state=t.UPLOADSTATE.UPLOADING,e._uploadInfo.step==t.UPLOADSTEP.INIT)e.createMultipartUpload();else if(e._uploadInfo.step==t.UPLOADSTEP.PART){for(var r in n.Parts)if(n.Parts[r].data){e.uploadPart(parseInt(r));break}}else e._uploadInfo.step==t.UPLOADSTEP.COMPLETE&&e.completeMultipartUpload()},t.prototype.upload=function(){this._uploadInfo.state=t.UPLOADSTATE.START,this.createMultipartUpload()};var n=function(t){this.options=t,this.initialize()};n.UPLOADSTATE={INIT:"Ready",UPLOADING:"Uploading",SUCCESS:"Success",FAIlURE:"Failure",CANCELED:"Canceled",STOPED:"Stoped"},n.VODSTATE={INIT:"Init",START:"Start",STOP:"Stop",FAILURE:"Failure",EXPIRE:"Expire",END:"End"},n.prototype={constructor:n,initialize:function(){this.options.uploadList=[],this.options.oss=new Object,this.options.curIndex=null,this.options.state=n.VODSTATE.INIT},init:function(t,e,r,i){if(r&&!i||!r&&i)return!1;if(t&&!e||!t&&e)return!1;var o=this.options;o.oss.accessKeyId=t,o.oss.accessKeySecret=e,o.oss.securityToken=r,o.oss.expireTime=i;for(var s=0;s<o.uploadList.length;s++)o.uploadList[s].state==n.UPLOADSTATE.FAIlURE&&(o.uploadList[s].state=n.UPLOADSTATE.INIT);return!0},addFile:function(t,e,r,i,o){if(!t)return!1;for(var s=this.options,a=0;a<s.uploadList.length;a++)if(s.uploadList[a].file==t)return!1;var u=new Object;u.file=t,u.endpoint=e,u.bucket=r,u.object=i,u.state=n.UPLOADSTATE.INIT,u.userData=ALY.util.base64.encode(o);var l=this;return u.reload=function(){this.state!=n.UPLOADSTATE.CANCELED&&this.state!=n.UPLOADSTATE.FAIlURE||(this.state=n.UPLOADSTATE.INIT),l.options.curIndex=undefined,l.nextUpload()},u.cancel=function(){l.cancelFile(u.file)},l.options.uploadList.push(u),!0},deleteFile:function(t){return!!this.cancelFile(t)&&(this.options.uploadList.splice(t,1),!0)},cleanList:function(){this.stopUpload(),this.options.uploadList.length=0},cancelFile:function(t){var e=this.options;return!(t<0||t>=e.uploadList.length)&&(t==e.curIndex&&e.uploadList[t].state==n.UPLOADSTATE.UPLOADING?(e.uploadList[t].state=n.UPLOADSTATE.CANCELED,this.options.ossUpload.cancelUpload(),this.nextUpload()):e.uploadList[t].state!=n.UPLOADSTATE.SUCCESS&&(e.uploadList[t].state=n.UPLOADSTATE.CANCELED),!0)},resumeFile:function(t){var e=this.options;return!(t<0||t>=e.uploadList.length)&&(e.uploadList[t].state==n.UPLOADSTATE.CANCELED&&(e.uploadList[t].state=n.UPLOADSTATE.INIT,!0))},listFiles:function(){return this.options.uploadList},startUpload:function(){var e=this.options;if(this.options.state!=n.VODSTATE.START&&this.options.state!=n.VODSTATE.EXPIRE){if(this.options.state==n.VODSTATE.STOP&&e&&e.ossUpload&&null!=e.curIndex&&e.uploadList[e.curIndex]&&e.uploadList[e.curIndex].state==n.UPLOADSTATE.STOPED)return e.uploadList[e.curIndex].state=n.UPLOADSTATE.UPLOADING,e.ossUpload.resumeUpload(),void(this.options.state=n.VODSTATE.START);e.curIndex=null;for(var r=0;r<e.uploadList.length;r++)if(e.uploadList[r].state==n.UPLOADSTATE.INIT){e.curIndex=r;break}if(null==e.curIndex)return void(this.options.state=n.VODSTATE.END);var i=e.uploadList[e.curIndex];e.onUploadstarted&&e.onUploadstarted(i),i.state=n.UPLOADSTATE.UPLOADING;var o,s=i.endpoint||"http://oss-cn-hangzhou.aliyuncs.com";o=new t(e.oss.securityToken?{bucket:i.bucket,endpoint:s,chunkSize:1048576,concurrency:1,stsToken:{Credentials:{AccessKeyId:e.oss.accessKeyId,AccessKeySecret:e.oss.accessKeySecret,SecurityToken:e.oss.securityToken}}}:{bucket:i.bucket,endpoint:s,chunkSize:1048576,concurrency:1,aliyunCredential:{accessKeyId:e.oss.accessKeyId,secretAccessKey:e.oss.accessKeySecret}}),e.ossUpload=o;var a=this;o.init({file:i.file,object:i.object,maxRetry:3,onerror:function(t){"SecurityTokenExpired"==t.code||"InvalidAccessKeyId"==t.code&&e.oss.secretToken&&e.oss.secretToken.length>0?(e.state=n.VODSTATE.EXPIRE,e.onUploadTokenExpired&&e.onUploadTokenExpired(a)):(i.state!=n.UPLOADSTATE.CANCELED&&(i.state=n.UPLOADSTATE.FAIlURE,e.onUploadFailed&&t&&t.code&&t.message&&e.onUploadFailed(i,t.code,t.message)),e.state=n.VODSTATE.FAILURE)},oncomplete:function(){i.state=n.UPLOADSTATE.SUCCESS,e.onUploadSucceed&&e.onUploadSucceed(i),setTimeout(function(){a.nextUpload()},100)},onprogress:function(t){e.onUploadProgress&&e.onUploadProgress(i,t.total,t.loaded)},headers:{Notification:i.userData}}),o.upload(),this.options.state=n.VODSTATE.START}},nextUpload:function(){var e=this.options;if(this.options.state==n.VODSTATE.START){e.curIndex=null;for(var r=0;r<e.uploadList.length;r++)if(e.uploadList[r].state==n.UPLOADSTATE.INIT){e.curIndex=r;break}if(null==e.curIndex)return void(this.options.state=n.VODSTATE.END);var i=e.uploadList[e.curIndex];e.onUploadstarted&&e.onUploadstarted(i),i.state=n.UPLOADSTATE.UPLOADING;var o,s=i.endpoint||"http://oss-cn-hangzhou.aliyuncs.com";o=new t(e.oss.securityToken?{bucket:i.bucket,endpoint:s,chunkSize:1048576,concurrency:1,stsToken:{Credentials:{AccessKeyId:e.oss.accessKeyId,AccessKeySecret:e.oss.accessKeySecret,SecurityToken:e.oss.securityToken}}}:{bucket:i.bucket,endpoint:s,chunkSize:1048576,concurrency:1,aliyunCredential:{accessKeyId:e.oss.accessKeyId,secretAccessKey:e.oss.accessKeySecret}}),e.ossUpload=o;var a=this;o.init({file:i.file,object:i.object,maxRetry:3,onerror:function(t){"SecurityTokenExpired"==t.code||"InvalidAccessKeyId"==t.code&&e.oss.secretToken&&e.oss.secretToken.length>0?e.onUploadTokenExpired&&(e.state=n.VODSTATE.EXPIRE,e.onUploadTokenExpired(a)):(i.state!=n.UPLOADSTATE.CANCELED&&(i.state=n.UPLOADSTATE.FAIlURE,e.onUploadFailed&&t&&t.code&&t.message&&e.onUploadFailed(i,t.code,t.message)),e.state=n.VODSTATE.FAILURE)},oncomplete:function(){i.state=n.UPLOADSTATE.SUCCESS,e.onUploadSucceed&&e.onUploadSucceed(i),setTimeout(function(){a.nextUpload()},100)},onprogress:function(t){e.onUploadProgress&&e.onUploadProgress(i,t.total,t.loaded)},headers:{Notification:i.userData}}),o.upload()}},clear:function(t){for(var e=this.options,r=0,i=0;i<e.uploadList.length;i++)e.uploadList[i].state==n.UPLOADSTATE.SUCCESS&&r++,e.uploadList[i].state==t&&(e.uploadList.splice(i,1),i--);e.onClear&&e.onClear(e.uploadList.length,r)},stopUpload:function(){this.options.state!=n.VODSTATE.START&&this.options.state!=n.VODSTATE.FAILURE||(this.options.ossUpload.cancelUpload(),this.options.state=n.VODSTATE.STOP,this.options.uploadList[this.options.curIndex].state=n.UPLOADSTATE.STOPED)},resumeUploadWithAuth:function(t){var e=this;if(!t)return!1;var n=JSON.parse(ALY.util.base64.decode(t));return!!(n.AccessKeyId&&n.AccessKeySecret&&n.SecurityToken&&n.Expiration)&&e.resumeUploadWithToken(n.AccessKeyId,n.AccessKeySecret,n.SecurityToken,n.Expiration)},resumeUploadWithToken:function(t,e,r,i){var o=this.options;return!!(t&&e&&r&&i)&&(this.options.state==n.VODSTATE.EXPIRE&&(this.init(t,e,r,i),o.ossUpload.resumeUploadWithToken(t,e,r),this.options.state=n.VODSTATE.START,!0))},setUploadAuthAndAddress:function(t,e,n){if(!t||!e||!n)return!1;var r=JSON.parse(ALY.util.base64.decode(e));if(!(r.AccessKeyId&&r.AccessKeySecret&&r.SecurityToken&&r.Expiration))return!1;var i=JSON.parse(ALY.util.base64.decode(n));if(!i.Endpoint||!i.Bucket||!i.FileName)return!1;var o=t;this.options.oss.accessKeyId=r.AccessKeyId,this.options.oss.accessKeySecret=r.AccessKeySecret,this.options.oss.securityToken=r.SecurityToken,this.options.oss.expireTime=r.Expiration,o.endpoint=i.Endpoint,o.bucket=i.Bucket,o.object=i.FileName}},window.VODUpload=n}(),function t(e,n,r){function i(s,a){if(!n[s]){if(!e[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(o)return o(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[s]={exports:{}};e[s][0].call(c.exports,function(t){return i(e[s][1][t]||t)},c,c.exports,t,e,n,r)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(t,e,n){!function(t,r){"object"==typeof n?e.exports=n=r():"function"==typeof define&&define.amd?define([],r):t.CryptoJS=r()}(this,function(){var t=t||function(t,e){var n=Object.create||function(){function t(){}return function(e){var n;return t.prototype=e,n=new t,t.prototype=null,n}}(),r={},i=r.lib={},o=i.Base=function(){return{extend:function(t){var e=n(this);return t&&e.mixIn(t),e.hasOwnProperty("init")&&this.init!==e.init||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),s=i.WordArray=o.extend({init:function(t,n){t=this.words=t||[],this.sigBytes=n!=e?n:4*t.length},toString:function(t){return(t||u).stringify(this)},concat:function(t){var e=this.words,n=t.words,r=this.sigBytes,i=t.sigBytes;if(this.clamp(),r%4)for(var o=0;o<i;o++){var s=n[o>>>2]>>>24-o%4*8&255;e[r+o>>>2]|=s<<24-(r+o)%4*8}else for(var o=0;o<i;o+=4)e[r+o>>>2]=n[o>>>2];return this.sigBytes+=i,this},clamp:function(){var e=this.words,n=this.sigBytes;e[n>>>2]&=4294967295<<32-n%4*8,e.length=t.ceil(n/4)},clone:function(){var t=o.clone.call(this);return t.words=this.words.slice(0),t},random:function(e){for(var n,r=[],i=function(e){var e=e,n=987654321,r=4294967295;return function(){n=36969*(65535&n)+(n>>16)&r,e=18e3*(65535&e)+(e>>16)&r;var i=(n<<16)+e&r;return i/=4294967296,(i+=.5)*(t.random()>.5?1:-1)}},o=0;o<e;o+=4){var a=i(4294967296*(n||t.random()));n=987654071*a(),r.push(4294967296*a()|0)}return new s.init(r,e)}}),a=r.enc={},u=a.Hex={stringify:function(t){for(var e=t.words,n=t.sigBytes,r=[],i=0;i<n;i++){var o=e[i>>>2]>>>24-i%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")},parse:function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n[r>>>3]|=parseInt(t.substr(r,2),16)<<24-r%8*4;return new s.init(n,e/2)}},l=a.Latin1={stringify:function(t){for(var e=t.words,n=t.sigBytes,r=[],i=0;i<n;i++){var o=e[i>>>2]>>>24-i%4*8&255;r.push(String.fromCharCode(o))}return r.join("")},parse:function(t){for(var e=t.length,n=[],r=0;r<e;r++)n[r>>>2]|=(255&t.charCodeAt(r))<<24-r%4*8;return new s.init(n,e)}},c=a.Utf8={stringify:function(t){try{return decodeURIComponent(escape(l.stringify(t)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(t){return l.parse(unescape(encodeURIComponent(t)))}},p=i.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new s.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=c.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var n=this._data,r=n.words,i=n.sigBytes,o=this.blockSize,a=4*o,u=i/a;u=e?t.ceil(u):t.max((0|u)-this._minBufferSize,0);var l=u*o,c=t.min(4*l,i);if(l){for(var p=0;p<l;p+=o)this._doProcessBlock(r,p);var d=r.splice(0,l);n.sigBytes-=c}return new s.init(d,c)},clone:function(){var t=o.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0}),d=(i.Hasher=p.extend({cfg:o.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){p.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,n){return new t.init(n).finalize(e)}},_createHmacHelper:function(t){return function(e,n){return new d.HMAC.init(t,n).finalize(e)}}}),r.algo={});return r}(Math);return t})},{}],2:[function(t,e,n){!function(r,i){"object"==typeof n?e.exports=n=i(t("./core")):"function"==typeof define&&define.amd?define(["./core"],i):i(r.CryptoJS)}(this,function(t){return function(){function e(t,e,n){for(var r=[],o=0,s=0;s<e;s++)if(s%4){var a=n[t.charCodeAt(s-1)]<<s%4*2,u=n[t.charCodeAt(s)]>>>6-s%4*2;r[o>>>2]|=(a|u)<<24-o%4*8,o++}return i.create(r,o)}var n=t,r=n.lib,i=r.WordArray;n.enc.Base64={stringify:function(t){var e=t.words,n=t.sigBytes,r=this._map;t.clamp();for(var i=[],o=0;o<n;o+=3)for(var s=e[o>>>2]>>>24-o%4*8&255,a=e[o+1>>>2]>>>24-(o+1)%4*8&255,u=e[o+2>>>2]>>>24-(o+2)%4*8&255,l=s<<16|a<<8|u,c=0;c<4&&o+.75*c<n;c++)i.push(r.charAt(l>>>6*(3-c)&63));var p=r.charAt(64);if(p)for(;i.length%4;)i.push(p);return i.join("")},parse:function(t){var n=t.length,r=this._map,i=this._reverseMap;if(!i){i=this._reverseMap=[];for(var o=0;o<r.length;o++)i[r.charCodeAt(o)]=o}var s=r.charAt(64);if(s){var a=t.indexOf(s);-1!==a&&(n=a)}return e(t,n,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),t.enc.Base64})},{"./core":1}],3:[function(t,e,n){!function(r,i){"object"==typeof n?e.exports=n=i(t("./core")):"function"==typeof define&&define.amd?define(["./core"],i):i(r.CryptoJS)}(this,function(t){return t.enc.Utf8})},{"./core":1}],4:[function(t,e,n){!function(r,i){"object"==typeof n?e.exports=n=i(t("./core"),t("./sha1"),t("./hmac")):"function"==typeof define&&define.amd?define(["./core","./sha1","./hmac"],i):i(r.CryptoJS)}(this,function(t){return t.HmacSHA1})},{"./core":1,"./hmac":5,"./sha1":6}],5:[function(t,e,n){!function(r,i){"object"==typeof n?e.exports=n=i(t("./core")):"function"==typeof define&&define.amd?define(["./core"],i):i(r.CryptoJS)}(this,function(t){!function(){var e=t,n=e.lib,r=n.Base,i=e.enc,o=i.Utf8;e.algo.HMAC=r.extend({init:function(t,e){t=this._hasher=new t.init,"string"==typeof e&&(e=o.parse(e));var n=t.blockSize,r=4*n;e.sigBytes>r&&(e=t.finalize(e)),e.clamp();for(var i=this._oKey=e.clone(),s=this._iKey=e.clone(),a=i.words,u=s.words,l=0;l<n;l++)a[l]^=1549556828,u[l]^=909522486;i.sigBytes=s.sigBytes=r,this.reset()},reset:function(){var t=this._hasher;t.reset(),t.update(this._iKey)},update:function(t){return this._hasher.update(t),this},finalize:function(t){var e=this._hasher,n=e.finalize(t);return e.reset(),e.finalize(this._oKey.clone().concat(n))}})}()})},{"./core":1}],6:[function(t,e,n){!function(r,i){"object"==typeof n?e.exports=n=i(t("./core")):"function"==typeof define&&define.amd?define(["./core"],i):i(r.CryptoJS)}(this,function(t){return function(){var e=t,n=e.lib,r=n.WordArray,i=n.Hasher,o=e.algo,s=[],a=o.SHA1=i.extend({_doReset:function(){this._hash=new r.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],a=n[3],u=n[4],l=0;l<80;l++){if(l<16)s[l]=0|t[e+l];else{var c=s[l-3]^s[l-8]^s[l-14]^s[l-16];s[l]=c<<1|c>>>31}var p=(r<<5|r>>>27)+u+s[l];p+=l<20?1518500249+(i&o|~i&a):l<40?1859775393+(i^o^a):l<60?(i&o|i&a|o&a)-1894007588:(i^o^a)-899497514,u=a,a=o,o=i<<30|i>>>2,i=r,r=p}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+o|0,n[3]=n[3]+a|0,n[4]=n[4]+u|0},_doFinalize:function(){var t=this._data,e=t.words,n=8*this._nDataBytes,r=8*t.sigBytes;return e[r>>>5]|=128<<24-r%32,e[14+(r+64>>>9<<4)]=Math.floor(n/4294967296),e[15+(r+64>>>9<<4)]=n,t.sigBytes=4*e.length,this._process(),this._hash},clone:function(){var t=i.clone.call(this);return t._hash=this._hash.clone(),t}});e.SHA1=i._createHelper(a),e.HmacSHA1=i._createHmacHelper(a)}(),t.SHA1})},{"./core":1}],7:[function(t,e){e.exports={domain:"g.alicdn.com",flashVersion:"2.2.0",h5Version:"2.2.0",logReportTo:"https://videocloud.cn-hangzhou.log.aliyuncs.com/logstores/newplayer/track"}},{}],8:[function(t,e,n){t("./lang/index").load();var r=t("./player/adaptivePlayer"),i=function(t){return r.create(t)},o=window.Aliplayer=i;i.players={},"function"==typeof define&&define.amd?define([],function(){return o}):"object"==typeof n&&"object"==typeof e&&(e.exports=o)},{"./lang/index":10,"./player/adaptivePlayer":27}],9:[function(t,e){var n=t("../lib/oo"),r=t("../lang/index"),i=n.extend({init:function(t){this._player=t,this._options=t.options()}});i.prototype.handle=function(t){if(this._options.autoPlayDelay){var e=this._options.autoPlayDelayDisplayText;e||(e=r.get("AutoPlayDelayDisplayText").replace("$$",this._options.autoPlayDelay)),this._player.trigger("info_show",e),this._player.trigger("h5_loading_hide"),this._player.trigger("play_btn_hide");var n=this;this._timeHandler=setTimeout(function(){n._player.trigger("info_hide"),n._options.autoPlayDelay=0,t&&t()},1e3*this._options.autoPlayDelay),this._player.on("play",function(){o(n)}),this._player.on("pause",function(){o(n)})}};var o=function(t){t._timeHandler&&(clearTimeout(t._timeHandler),t._timeHandler=null)};e.exports=i},{"../lang/index":10,"../lib/oo":20}],10:[function(t,e){var n=t("../config"),r=t("../lib/storage"),i=t("../lib/io"),o="aliplayer_lang_data",s="aliplayer_lang",a=function(){return window[s]||(window[s]=(navigator.language||navigator.browserLanguage).toLowerCase()),window[s]},u=function(e,n){var r=window[s];if(e||(e=a()),"en-us"!=e&&"zh-cn"!=e)throw new Error('language property should be "en-us" or "zh-cn"');window[s]=e,l(n),e!=r&&t("../lib/constants").updateByLanguage()},l=function(t){var e=h(t),o=r.get(e);if(o)c(t,JSON.parse(o));else{var s="//"+n.domain+"/de/prismplayer/"+n.h5Version+"/lang/"+("flash"==t?"flash/":"")+d()+".json";i.get(s,function(n){r.set(e,n),c(t,JSON.parse(n))},function(){console.log("fail to load language data")},!1)}},c=function(t,e){var n=h(t);window[n]=e},p=function(t){var e=h(t);return window[e]},d=function(){var t=a();return"en-us"!=t&&"zh-cn"!=t&&(t="en-us"),t},h=function(t){var e=d();return t||(t="h5"),o+"_"+t+"_"+n.h5Version.replace(/\./g,"_")+"_"+e},f=function(t){var e=h(),n=window[e];if(n)return n[t]};e.exports.setCurrentLanguage=u,e.exports.getCurrentLanguage=a,e.exports.getLanguageData=p,e.exports.load=l,e.exports.get=f},{"../config":7,"../lib/constants":11,"../lib/io":17,"../lib/storage":22}],11:[function(t,e){var n=t("../lang/index");e.exports.LOAD_START="loadstart",e.exports.LOADED_METADATA="loadedmetadata",e.exports.LOADED_DATA="loadeddata",e.exports.PROGRESS="progress",e.exports.CAN_PLAY="canplay",e.exports.CAN_PLYA_THROUGH="canplaythrough",e.exports.PLAY="play",e.exports.PAUSE="pause",e.exports.ENDED="ended",e.exports.PLAYING="playing",e.exports.WAITING="waiting",e.exports.ERROR="error",e.exports.SUSPEND="suspend",e.exports.STALLED="stalled",e.exports.AuthKeyExpiredEvent="authkeyexpired",e.exports.ErrorCode={InvalidParameter:4001,AuthKeyExpired:4002,InvalidSourceURL:4003,NotFoundSourceURL:4004,StartLoadData:4005,LoadedMetadata:4006,PlayingError:4007,LoadingTimeout:4008,RequestDataError:4009,EncrptyVideoNotSupport:4010,FormatNotSupport:4011,PlayauthDecode:4012,PlayDataDecode:4013,NetworkUnavaiable:4014,UserAbort:4015,NetworkError:4016,URLsIsEmpty:4017,CrossDomain:4027,OtherError:4400,ServerAPIError:4500},e.exports.AuthKeyExpired=7200,e.exports.AuthKeyRefreshExpired=7e3,e.exports.VideoErrorCode={1:4015,2:4016,3:4013,4:4400},e.exports.IconType={FontClass:"fontclass",Symbol:"symbol",Sprite:"Sprite"},e.exports.SelectedStreamLevel="selectedStreamLevel",e.exports.WidthMapToLevel={0:"OD",640:"FD",960:"LD",1280:"SD",1920:"HD",2580:"2K",3840:"4K"};var r=function(){e.exports.VideoErrorCodeText={1:n.get("Error_Load_Abort_Text"),2:n.get("Error_Network_Text"),3:n.get("Error_Decode_Text"),4:n.get("Error_Server_Network_NotSupport_Text")},e.exports.VideoLevels={0:n.get("Quality_OD_Text"),640:n.get("Quality_FD_Text"),960:n.get("Quality_LD_Text"),1280:n.get("Quality_SD_Text"),1920:n.get("Quality_HD_Text"),2580:n.get("Quality_2K_Text"),3840:n.get("Quality_4K_Text")},e.exports.QualityLevels={OD:n.get("Quality_OD_Text"),LD:n.get("Quality_LD_Text"),FD:n.get("Quality_FD_Text"),SD:n.get("Quality_SD_Text"),HD:n.get("Quality_HD_Text"),"2K":n.get("Quality_2K_Text"),"4K":n.get("Quality_4K_Text")},e.exports.SpeedLevels=[{key:1,text:n.get("Speed_1X_Text")},{key:1.25,text:n.get("Speed_125X_Text")},{key:1.5,text:n.get("Speed_15X_Text")},{key:2,text:n.get("Speed_2X_Text")}]};r(),e.exports.updateByLanguage=r},{"../lang/index":10}],12:[function(t,e){e.exports.get=function(t){for(var e=t+"",n=document.cookie.split(";"),r=0;r<n.length;r++){var i=n[r].trim();if(0==i.indexOf(e))return unescape(i.substring(e.length+1,i.length))}return""},e.exports.set=function(t,e,n){var r=new Date;r.setTime(r.getTime()+24*n*60*60*1e3);var i="expires="+r.toGMTString();document.cookie=t+"="+escape(e)+"; "+i}},{}],13:[function(t,e){var n=t("./object");e.exports.cache={},e.exports.guid=function(t,e){var n,r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),i=[];if(e=e||r.length,t)for(n=0;n<t;n++)i[n]=r[0|Math.random()*e];else{var o;for(i[8]=i[13]=i[18]=i[23]="-",i[14]="4",n=0;n<36;n++)i[n]||(o=0|16*Math.random(),i[n]=r[19==n?3&o|8:o])}return i.join("")},e.exports.expando="vdata"+(new Date).getTime(),e.exports.getData=function(t){var n=t[e.exports.expando];return n||(n=t[e.exports.expando]=e.exports.guid(),e.exports.cache[n]={}),e.exports.cache[n]},e.exports.hasData=function(t){var r=t[e.exports.expando];return!(!r||n.isEmpty(e.exports.cache[r]))},e.exports.removeData=function(t){var n=t[e.exports.expando];if(n){delete e.exports.cache[n];try{delete t[e.exports.expando]}catch(n){t.removeAttribute?t.removeAttribute(e.exports.expando):t[e.exports.expando]=null}}}},{"./object":19}],
14:[function(t,e){var n=t("./object");e.exports.el=function(t){return document.getElementById(t)},e.exports.createEl=function(t,e){var r;return t=t||"div",e=e||{},r=document.createElement(t),n.each(e,function(t,e){-1!==t.indexOf("aria-")||"role"==t?r.setAttribute(t,e):r[t]=e}),r},e.exports.addClass=function(t,e){-1==(" "+t.className+" ").indexOf(" "+e+" ")&&(t.className=""===t.className?e:t.className+" "+e)},e.exports.removeClass=function(t,e){var n,r;if(-1!=t.className.indexOf(e)){for(n=t.className.split(" "),r=n.length-1;r>=0;r--)n[r]===e&&n.splice(r,1);t.className=n.join(" ")}},e.exports.getElementAttributes=function(t){var e,n,r,i,o;if(e={},n=",autoplay,controls,loop,muted,default,",t&&t.attributes&&t.attributes.length>0){r=t.attributes;for(var s=r.length-1;s>=0;s--)i=r[s].name,o=r[s].value,"boolean"!=typeof t[i]&&-1===n.indexOf(","+i+",")||(o=null!==o),e[i]=o}return e},e.exports.insertFirst=function(t,e){e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)},e.exports.blockTextSelection=function(){document.body.focus(),document.onselectstart=function(){return!1}},e.exports.unblockTextSelection=function(){document.onselectstart=function(){return!0}},e.exports.css=function(t,e,r){return!(!t||!t.style)&&(e&&r?(t.style[e]=r,!0):r||"string"!=typeof e?!r&&"object"==typeof e&&(n.each(e,function(e,n){t.style[e]=n}),!0):t.style[e])}},{"./object":19}],15:[function(t,e){function n(t,e,n,i){r.each(n,function(n){t(e,n,i)})}var r=t("./object"),i=t("./data");e.exports.on=function(t,o,s){if(r.isArray(o))return n(e.exports.on,t,o,s);var a=i.getData(t);a.handlers||(a.handlers={}),a.handlers[o]||(a.handlers[o]=[]),s.guid||(s.guid=i.guid()),a.handlers[o].push(s),a.dispatcher||(a.disabled=!1,a.dispatcher=function(n){if(!a.disabled){n=e.exports.fixEvent(n);var r=a.handlers[n.type];if(r)for(var i=r.slice(0),o=0,s=i.length;o<s&&!n.isImmediatePropagationStopped();o++)i[o].call(t,n)}}),1==a.handlers[o].length&&(t.addEventListener?t.addEventListener(o,a.dispatcher,!1):t.attachEvent&&t.attachEvent("on"+o,a.dispatcher))},e.exports.off=function(t,o,s){if(i.hasData(t)){var a=i.getData(t);if(a.handlers){if(r.isArray(o))return n(e.exports.off,t,o,s);var u=function(n){a.handlers[n]=[],e.exports.cleanUpEvents(t,n)};if(o){var l=a.handlers[o];if(l){if(!s)return void u(o);if(s.guid)for(var c=0;c<l.length;c++)l[c].guid===s.guid&&l.splice(c--,1);e.exports.cleanUpEvents(t,o)}}else for(var p in a.handlers)u(p)}}},e.exports.cleanUpEvents=function(t,e){var n=i.getData(t);0===n.handlers[e].length&&(delete n.handlers[e],t.removeEventListener?t.removeEventListener(e,n.dispatcher,!1):t.detachEvent&&t.detachEvent("on"+e,n.dispatcher)),r.isEmpty(n.handlers)&&(delete n.handlers,delete n.dispatcher,delete n.disabled),r.isEmpty(n)&&i.removeData(t)},e.exports.fixEvent=function(t){function e(){return!0}function n(){return!1}if(!t||!t.isPropagationStopped){var r=t||window.event;t={};for(var i in r)"layerX"!==i&&"layerY"!==i&&"keyboardEvent.keyLocation"!==i&&("returnValue"==i&&r.preventDefault||(t[i]=r[i]));if(t.target||(t.target=t.srcElement||document),t.relatedTarget=t.fromElement===t.target?t.toElement:t.fromElement,t.preventDefault=function(){r.preventDefault&&r.preventDefault(),t.returnValue=!1,t.isDefaultPrevented=e,t.defaultPrevented=!0},t.isDefaultPrevented=n,t.defaultPrevented=!1,t.stopPropagation=function(){r.stopPropagation&&r.stopPropagation(),t.cancelBubble=!0,t.isPropagationStopped=e},t.isPropagationStopped=n,t.stopImmediatePropagation=function(){r.stopImmediatePropagation&&r.stopImmediatePropagation(),t.isImmediatePropagationStopped=e,t.stopPropagation()},t.isImmediatePropagationStopped=n,null!=t.clientX){var o=document.documentElement,s=document.body;t.pageX=t.clientX+(o&&o.scrollLeft||s&&s.scrollLeft||0)-(o&&o.clientLeft||s&&s.clientLeft||0),t.pageY=t.clientY+(o&&o.scrollTop||s&&s.scrollTop||0)-(o&&o.clientTop||s&&s.clientTop||0)}t.which=t.charCode||t.keyCode,null!=t.button&&(t.button=1&t.button?0:4&t.button?1:2&t.button?2:0)}return t},e.exports.trigger=function(t,n){var r=i.hasData(t)?i.getData(t):{},o=t.parentNode||t.ownerDocument;if("string"==typeof n){var s=null;t.paramData&&(s=t.paramData,t.paramData=null,t.removeAttribute(s)),n={type:n,target:t,paramData:s}}if(n=e.exports.fixEvent(n),r.dispatcher&&r.dispatcher.call(t,n),o&&!n.isPropagationStopped()&&!1!==n.bubbles)e.exports.trigger(o,n);else if(!o&&!n.defaultPrevented){var a=i.getData(n.target);n.target[n.type]&&(a.disabled=!0,"function"==typeof n.target[n.type]&&n.target[n.type](),a.disabled=!1)}return!n.defaultPrevented},e.exports.one=function(t,o,s){if(r.isArray(o))return n(e.exports.one,t,o,s);var a=function(){e.exports.off(t,o,a),s.apply(this,arguments)};a.guid=s.guid=s.guid||i.guid(),e.exports.on(t,o,a)}},{"./data":13,"./object":19}],16:[function(t,e){var n=t("./data");e.exports.bind=function(t,e,r){e.guid||(e.guid=n.guid());var i=function(){return e.apply(t,arguments)};return i.guid=r?r+"_"+e.guid:e.guid,i}},{"./data":13}],17:[function(t,e){var n=t("./url");e.exports.get=function(t,e,r,i,o){var s,a,u,l,c;r=r||function(){},"undefined"==typeof XMLHttpRequest&&(window.XMLHttpRequest=function(){try{return new window.ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(t){}try{return new window.ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(t){}try{return new window.ActiveXObject("Msxml2.XMLHTTP")}catch(t){}throw new Error("This browser does not support XMLHttpRequest.")}),a=new XMLHttpRequest,u=n.parseUrl(t),l=window.location,c=u.protocol+u.host!==l.protocol+l.host,!c||!window.XDomainRequest||"withCredentials"in a?(s="file:"==u.protocol||"file:"==l.protocol,a.onreadystatechange=function(){4===a.readyState&&(200===a.status||s&&0===a.status?e(a.responseText):r(a.responseText))}):(a=new window.XDomainRequest,a.onload=function(){e(a.responseText)},a.onerror=r,a.onprogress=function(){},a.ontimeout=r);try{void 0===i&&(i=!0),a.open("GET",t,i),o&&(a.withCredentials=!0)}catch(t){return void r(t)}try{a.send()}catch(t){r(t)}},e.exports.jsonp=function(t,e,n){var r="jsonp_callback_"+Math.round(1e5*Math.random()),i=document.createElement("script");t&&(i.src=t+(t.indexOf("?")>=0?"&":"?")+"callback="+r+"&cb="+r,i.onerror=function(){delete window[r],document.body.removeChild(i),n()},i.onload=function(){setTimeout(function(){window[r]&&(delete window[r],document.body.removeChild(i))},0)},window[r]=function(t){delete window[r],document.body.removeChild(i),e(t)},document.body.appendChild(i))},e.exports.loadJS=function(t,e){var n=document.getElementsByTagName("HEAD").item(0),r=document.createElement("script");r.type="text/javascript",r.src=t,r.onload=function(){e&&e()},n.appendChild(r)}},{"./url":24}],18:[function(t,e){var n=t("./dom");e.exports.render=function(t,e){var r=e.align?e.align:"tl",i=e.x?e.x:0,o=e.y?e.y:0;"tl"===r?n.css(t,{"float":"left","margin-left":i+"px","margin-top":o+"px"}):"tr"===r?n.css(t,{"float":"right","margin-right":i+"px","margin-top":o+"px"}):"tlabs"===r?n.css(t,{position:"absolute",left:i+"px",top:o+"px"}):"trabs"===r?n.css(t,{position:"absolute",right:i+"px",top:o+"px"}):"blabs"===r?n.css(t,{position:"absolute",left:i+"px",bottom:o+"px"}):"brabs"===r?n.css(t,{position:"absolute",right:i+"px",bottom:o+"px"}):"cc"===r&&n.css(t,{position:"absolute",left:"50%",top:"50%","margin-top":t.offsetHeight/-2+"px","margin-left":t.offsetWidth/-2+"px"})}},{"./dom":14}],19:[function(t,e){var n=Object.prototype.hasOwnProperty;e.exports.create=Object.create||function(t){function e(){}return e.prototype=t,new e},e.exports.isArray=function(){return"[object Array]"===Object.prototype.toString.call(arg)},e.exports.isEmpty=function(t){for(var e in t)if(null!==t[e])return!1;return!0},e.exports.each=function(t,r,i){if(e.exports.isArray(t))for(var o=0,s=t.length;o<s&&!1!==r.call(i||this,t[o],o);++o);else for(var a in t)if(n.call(t,a)&&!1===r.call(i||this,a,t[a]))break;return t},e.exports.merge=function(t,e){if(!e)return t;for(var r in e)n.call(e,r)&&(t[r]=e[r]);return t},e.exports.deepMerge=function(t,r){var i,o,s;t=e.exports.copy(t);for(i in r)n.call(r,i)&&(o=t[i],s=r[i],e.exports.isPlain(o)&&e.exports.isPlain(s)?t[i]=e.exports.deepMerge(o,s):t[i]=r[i]);return t},e.exports.copy=function(t){return e.exports.merge({},t)},e.exports.isPlain=function(t){return!!t&&"object"==typeof t&&"[object Object]"===t.toString()&&t.constructor===Object},e.exports.isArray=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},e.exports.unescape=function(t){return t.replace(/&([^;]+);/g,function(t,e){return{amp:"&",lt:"<",gt:">",quot:'"',"#x27":"'","#x60":"`"}[e.toLowerCase()]||t})}},{}],20:[function(t,e){var n=t("./object"),r=function(){},r=function(){};r.extend=function(t){var e,i;t=t||{},e=t.init||t.init||this.prototype.init||this.prototype.init||function(){},i=function(){e.apply(this,arguments)},i.prototype=n.create(this.prototype),i.prototype.constructor=i,i.extend=r.extend,i.create=r.create;for(var o in t)t.hasOwnProperty(o)&&(i.prototype[o]=t[o]);return i},r.create=function(){var t=n.create(this.prototype);return this.apply(t,arguments),t},e.exports=r},{"./object":19}],21:[function(t,e){var n=t("./object"),r=t("../config"),i=t("./dom"),o=t("./ua"),s={preload:!1,autoplay:!0,useNativeControls:!1,width:"100%",height:"300px",cover:"",from:"",trackLog:!0,isLive:!1,playsinline:!1,showBarTime:5e3,rePlay:!1,liveRetry:5,liveRetryInterval:1,liveRetryStep:0,format:"mp4",loadDataTimeout:60,controlBarForOver:!1,controlBarVisibility:"hover",enableSystemMenu:!1,qualitySort:"asc",x5_video_position:"normal",x5_type:"h5",x5_fullscreen:!1,x5_orientation:"portraint",autoPlayDelay:0,autoPlayDelayDisplayText:"",useHlsPluginForSafari:!1,language:"zh-cn",mediaType:"video",skinRes:"//"+r.domain+"/de/prismplayer-flash/"+r.flashVersion+"/atlas/defaultSkin"};e.exports.defaultH5Layout=[{name:"bigPlayButton",align:"blabs",x:30,y:80},{name:"H5Loading",align:"cc"},{name:"errorDisplay",align:"tlabs",x:0,y:0},{name:"infoDisplay",align:"cc"},{name:"controlBar",align:"blabs",x:0,y:0,children:[{name:"progress",align:"tlabs",x:0,y:0},{name:"playButton",align:"tl",x:15,y:26},{name:"timeDisplay",align:"tl",x:10,y:24},{name:"fullScreenButton",align:"tr",x:20,y:25},{name:"streamButton",align:"tr",x:10,y:23},{name:"speedButton",align:"tr",x:10,y:23},{name:"volume",align:"tr",x:20,y:25}]}],e.exports.defaultAudioLayout=[{name:"controlBar",align:"blabs",x:0,y:0,children:[{name:"progress",align:"tlabs",x:0,y:0},{name:"playButton",align:"tl",x:15,y:26},{name:"timeDisplay",align:"tl",x:10,y:24},{name:"volume",align:"tr",x:20,y:25}]}],e.exports.defaultFlashLayout=[{name:"bigPlayButton",align:"blabs",x:30,y:80},{name:"controlBar",align:"blabs",x:0,y:0,children:[{name:"progress",align:"tlabs",x:0,y:0},{name:"playButton",align:"tl",x:15,y:26},{name:"nextButton",align:"tl",x:10,y:26},{name:"timeDisplay",align:"tl",x:10,y:24},{name:"fullScreenButton",align:"tr",x:10,y:25},{name:"streamButton",align:"tr",x:10,y:23},{name:"volume",align:"tr",x:10,y:25}]},{name:"fullControlBar",align:"tlabs",x:0,y:0,children:[{name:"fullTitle",align:"tl",x:25,y:6},{name:"fullNormalScreenButton",align:"tr",x:24,y:13},{name:"fullTimeDisplay",align:"tr",x:10,y:12},{name:"fullZoom",align:"cc"}]}],e.exports.canPlayType=function(t){var e=document.createElement("video");return e.canPlayType?e.canPlayType(t):""},e.exports.canPlayHls=function(){return""!=e.exports.canPlayType("application/x-mpegURL")},e.exports.isSafariUsedHlsPlugin=function(t){return!!(o.os.pc&&o.browser.safari&&t&&"11.0"!=o.browser.version)},e.exports.validateSource=function(t){return!t||!!new RegExp(".m3u8|.mp4|.mp3|.flv|rtmp","i").test(t)},e.exports.supportH5Video=function(){return void 0!==document.createElement("video").canPlayType},e.exports.createWrapper=function(t){var n,r=t.id;if("string"==typeof r?(0===r.indexOf("#")&&(r=r.slice(1)),n=i.el(r)):n=r,!n||!n.nodeName)throw new TypeError("\u6ca1\u6709\u4e3a\u64ad\u653e\u5668\u6307\u5b9a\u5bb9\u5668");return e.exports.adjustContainerLayout(n,t),n},e.exports.adjustContainerLayout=function(t,e){e.width&&!t.style.width&&(t.style.width=e.width),e.height&&!t.style.height&&(t.style.height=e.height)},e.exports.isSupportHls=function(){var t=window.MediaSource=window.MediaSource||window.WebKitMediaSource,e=window.SourceBuffer=window.SourceBuffer||window.WebKitSourceBuffer,n=t&&"function"==typeof t.isTypeSupported&&t.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),r=!e||e.prototype&&"function"==typeof e.prototype.appendBuffer&&"function"==typeof e.prototype.remove;return n&&r},e.exports.isAudio=function(t){return t&&t.toLowerCase().indexOf(".mp3")>0},e.exports.isHls=function(t){return t&&t.toLowerCase().indexOf(".m3u8")>0},e.exports.isFlv=function(t){return t&&t.toLowerCase().indexOf(".flv")>0},e.exports.isRTMP=function(t){return t&&t.toLowerCase().indexOf("rtmp")>-1},e.exports.handleOption=function(t){var e=n.merge(n.copy(s),t),r=[{name:"liveDisplay",align:"tlabs",x:15,y:25},{name:"fullScreenButton",align:"tr",x:20,y:25},{name:"volume",align:"tr",x:20,y:25}];if(t.isLive)if(void 0===t.skinLayout)e.skinLayout=[{name:"errorDisplay",align:"tlabs",x:0,y:0},{name:"infoDisplay",align:"cc"},{name:"bigPlayButton",align:"blabs",x:30,y:80},{name:"H5Loading",align:"cc"},{name:"controlBar",align:"blabs",x:0,y:0,children:r}];else if(0!=t.skinLayout){for(var i=t.skinLayout.length,o=[],a=-1,u=0;u<i;u++)if("controlBar"==e.skinLayout[u].name){a=u;for(var l=e.skinLayout[u].children.length,c=0;c<l;c++){var p=e.skinLayout[u].children[c].name;"liveDisplay"!=p&&"fullScreenButton"!=p&&"volume"!=p&&"snapshot"!=p||o.push(e.skinLayout[u].children[c])}break}-1!=a&&(e.skinLayout[a].children=o)}return e}},{"../config":7,"./dom":14,"./object":19,"./ua":23}],22:[function(t,e){e.exports.set=function(t,e){try{window.localStorage&&localStorage.setItem(t,e)}catch(n){window[t+"_localStorage"]=e}},e.exports.get=function(t){try{if(window.localStorage)return localStorage.getItem(t)}catch(e){return window[t+"_localStorage"]}return""}},{}],23:[function(t,e){function n(){var t=navigator.userAgent,n="other",r=e.exports.os;if(r.ios)return"iOS";if(r.android)return"Android";var i="Win32"==navigator.platform||"Windows"==navigator.platform||t.indexOf("Windows")>-1,o="Mac68K"==navigator.platform||"MacPPC"==navigator.platform||"Macintosh"==navigator.platform||"MacIntel"==navigator.platform;return o&&(n="Mac"),"X11"==navigator.platform&&!i&&!o&&(n="Unix"),String(navigator.platform).indexOf("Linux")>-1&&(n="Linux"),i&&((t.indexOf("Windows NT 5.0")>-1||t.indexOf("Windows 2000")>-1)&&(n="Win2000"),(t.indexOf("Windows NT 5.1")>-1||t.indexOf("Windows XP")>-1)&&(n="WinXP"),(t.indexOf("Windows NT 5.2")>-1||t.indexOf("Windows 2003")>-1)&&(n="Win2003"),(t.indexOf("Windows NT 6.0")>-1||t.indexOf("Windows Vista")>-1)&&(n="WinVista"),(t.indexOf("Windows NT 6.1")>-1||t.indexOf("Windows 7")>-1)&&(n="Win7"),(t.indexOf("Windows NT 6.2")>-1||t.indexOf("Windows 8")>-1)&&(n="Win8"),(t.indexOf("Windows NT 6.3")>-1||t.indexOf("Windows 8.1")>-1)&&(n="Win8.1"),(t.indexOf("Windows NT 10")>-1||t.indexOf("Windows 10")>-1)&&(n="Win10")),n}function r(){var t=navigator.userAgent.toLowerCase(),n=e.exports.browser;return n.chrome?"Chrome":n.firefox?"Firefox":n.safari?"Safari":n.webview?"webview":n.ie?/Edge/.test(t)?"Edge":"IE":/Baiduspider/.test(t)?"Baiduspider":/ucweb/.test(t)||/UCBrowser/.test(t)?"UC":/opera/.test(t)?"Opera":/ucweb/.test(t)?"UC":/360se/.test(t)?"360\u6d4f\u89c8\u5668":/bidubrowser/.test(t)?"\u767e\u5ea6\u6d4f\u89c8\u5668":/metasr/.test(t)?"\u641c\u72d7\u6d4f\u89c8\u5668":/lbbrowser/.test(t)?"\u730e\u8c79\u6d4f\u89c8\u5668":/micromessenger/.test(t)?"\u5fae\u4fe1\u5185\u7f6e\u6d4f\u89c8\u5668":/qqbrowser/.test(t)?"QQ\u6d4f\u89c8\u5668":void 0}if(e.exports.USER_AGENT=navigator.userAgent,e.exports.IS_IPHONE=/iPhone/i.test(e.exports.USER_AGENT),e.exports.IS_IPAD=/iPad/i.test(e.exports.USER_AGENT),e.exports.IS_IPOD=/iPod/i.test(e.exports.USER_AGENT),e.exports.IS_MAC=/mac/i.test(e.exports.USER_AGENT),e.exports.IS_SAFARI=/Safari/i.test(e.exports.USER_AGENT),e.exports.IS_CHROME=/Chrome/i.test(e.exports.USER_AGENT),e.exports.IS_FIREFOX=/Firefox/i.test(e.exports.USER_AGENT),document.all)try{var i=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");e.exports.HAS_FLASH=!!i}catch(t){e.exports.HAS_FLASH=!1}else if(navigator.plugins&&navigator.plugins.length>0){var i=navigator.plugins["Shockwave Flash"];e.exports.HAS_FLASH=!!i}else e.exports.HAS_FLASH=!1;e.exports.IS_MAC_SAFARI=e.exports.IS_MAC&&e.exports.IS_SAFARI&&!e.exports.IS_CHROME&&!e.exports.HAS_FLASH,e.exports.IS_IOS=e.exports.IS_IPHONE||e.exports.IS_IPAD||e.exports.IS_IPOD||e.exports.IS_MAC_SAFARI,e.exports.IOS_VERSION=function(){var t=e.exports.USER_AGENT.match(/OS (\d+)_/i);if(t&&t[1])return t[1]}(),e.exports.IS_ANDROID=/Android/i.test(e.exports.USER_AGENT),e.exports.ANDROID_VERSION=function(){var t,n,r=e.exports.USER_AGENT.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);return r?(t=r[1]&&parseFloat(r[1]),n=r[2]&&parseFloat(r[2]),t&&n?parseFloat(r[1]+"."+r[2]):t||null):null}(),e.exports.IS_OLD_ANDROID=e.exports.IS_ANDROID&&/webkit/i.test(e.exports.USER_AGENT)&&e.exports.ANDROID_VERSION<2.3,e.exports.TOUCH_ENABLED=!!("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),e.exports.IS_MOBILE=e.exports.IS_IOS||e.exports.IS_ANDROID,e.exports.IS_H5=e.exports.IS_MOBILE||!e.exports.HAS_FLASH,e.exports.IS_PC=!e.exports.IS_H5,e.exports.is_X5=/micromessenger/i.test(e.exports.USER_AGENT)||/qqbrowser/i.test(e.exports.USER_AGENT),e.exports.getHost=function(t){var e="";if(void 0===t||null==t||""==t)return"";var n="^((https|http)?:?//)[^s]+/*",r=t.match(n);if(null!=r){e=r[0].replace(/https:\/\/|http:\/\/|\/\//g,"");var i=e.indexOf("/");i>0&&(e=e.substring(0,i))}return e},e.exports.inIFrame=function(){return self!=top},e.exports.getReferer=function(){return e.exports.inIFrame()?top.document.referrer:document.referrer},e.exports.getHref=function(){return e.exports.inIFrame()?top.location.href:location.href},function(t){function e(t,e){var i=this.os={},o=this.browser={},s=t.match(/Web[kK]it[\/]{0,1}([\d.]+)/),a=t.match(/(Android);?[\s\/]+([\d.]+)?/),u=!!t.match(/\(Macintosh\; Intel /),l=t.match(/(iPad).*OS\s([\d_]+)/),c=t.match(/(iPod)(.*OS\s([\d_]+))?/),p=!l&&t.match(/(iPhone\sOS)\s([\d_]+)/),d=t.match(/(webOS|hpwOS)[\s\/]([\d.]+)/),h=/Win\d{2}|Windows/.test(e),f=t.match(/Windows Phone ([\d.]+)/),m=d&&t.match(/TouchPad/),g=t.match(/Kindle\/([\d.]+)/),y=t.match(/Silk\/([\d._]+)/),v=t.match(/(BlackBerry).*Version\/([\d.]+)/),b=t.match(/(BB10).*Version\/([\d.]+)/),_=t.match(/(RIM\sTablet\sOS)\s([\d.]+)/),w=t.match(/PlayBook/),E=t.match(/Chrome\/([\d.]+)/)||t.match(/CriOS\/([\d.]+)/),T=t.match(/Firefox\/([\d.]+)/),x=t.match(/\((?:Mobile|Tablet); rv:([\d.]+)\).*Firefox\/[\d.]+/),S=t.match(/MSIE\s([\d.]+)/)||t.match(/Trident\/[\d](?=[^\?]+).*rv:([0-9.].)/),C=!E&&t.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/),A=C||t.match(/Version\/([\d.]+)([^S](Safari)|[^M]*(Mobile)[^S]*(Safari))/);if((o.webkit=!!s)&&(o.version=s[1]),a&&(i.android=!0,i.version=a[2]),p&&!c&&(i.ios=i.iphone=!0,i.version=p[2].replace(/_/g,".")),l&&(i.ios=i.ipad=!0,i.version=l[2].replace(/_/g,".")),c&&(i.ios=i.ipod=!0,i.version=c[3]?c[3].replace(/_/g,"."):null),f&&(i.wp=!0,i.version=f[1]),d&&(i.webos=!0,i.version=d[2]),m&&(i.touchpad=!0),v&&(i.blackberry=!0,i.version=v[2]),b&&(i.bb10=!0,i.version=b[2]),_&&(i.rimtabletos=!0,i.version=_[2]),w&&(o.playbook=!0),g&&(i.kindle=!0,i.version=g[1]),y&&(o.silk=!0,o.version=y[1]),!y&&i.android&&t.match(/Kindle Fire/)&&(o.silk=!0),E&&(o.chrome=!0,o.version=E[1]),T&&(o.firefox=!0,o.version=T[1]),x&&(i.firefoxos=!0,i.version=x[1]),S&&(o.ie=!0,o.version=S[1]),A&&(u||i.ios||h||a)&&(o.safari=!0,i.ios||(o.version=A[1])),C&&(o.webview=!0),u){var k=t.match(/[\d]*_[\d]*_[\d]*/);k&&k.length>0&&k[0]&&(i.version=k[0].replace(/_/g,"."))}i.tablet=!!(l||w||a&&!t.match(/Mobile/)||T&&t.match(/Tablet/)||S&&!t.match(/Phone/)&&t.match(/Touch/)),i.phone=!(i.tablet||i.ipod||!(a||p||d||v||b||E&&t.match(/Android/)||E&&t.match(/CriOS\/([\d.]+)/)||T&&t.match(/Mobile/)||S&&t.match(/Touch/))),i.pc=!i.tablet&&!i.phone,i.name=n(),o.name=r()}e.call(t,navigator.userAgent,navigator.platform)}(e.exports)},{}],24:[function(t,e){var n=t("./dom");e.exports.getAbsoluteURL=function(t){return t.match(/^https?:\/\//)||(t=n.createEl("div",{innerHTML:'<a href="'+t+'">x</a>'}).firstChild.href),t},e.exports.parseUrl=function(t){var e,r,i,o,s;o=["protocol","hostname","port","pathname","search","hash","host"],r=n.createEl("a",{href:t}),i=""===r.host&&"file:"!==r.protocol,i&&(e=n.createEl("div"),e.innerHTML='<a href="'+t+'"></a>',r=e.firstChild,e.setAttribute("style","display:none; position:absolute;"),document.body.appendChild(e)),s={};for(var a=0;a<o.length;a++)s[o[a]]=r[o[a]];return i&&document.body.removeChild(e),s}},{"./dom":14}],25:[function(t,e){var n=t("./dom");e.exports.formatTime=function(t){var e,n,r,i=Math.round(t);return e=Math.floor(i/3600),i%=3600,n=Math.floor(i/60),r=i%60,!(e===1/0||isNaN(e)||n===1/0||isNaN(n)||r===1/0||isNaN(r))&&(e=e>=10?e:"0"+e,n=n>=10?n:"0"+n,r=r>=10?r:"0"+r,("00"===e?"":e+":")+n+":"+r)},e.exports.parseTime=function(t){var e=t.split(":"),n=0,r=0,i=0;return 3===e.length?(n=e[0],r=e[1],i=e[2]):2===e.length?(r=e[0],i=e[1]):1===e.length&&(i=e[0]),n=parseInt(n,10),r=parseInt(r,10),i=Math.ceil(parseFloat(i)),3600*n+60*r+i},e.exports.formatDate=function(t,e){var n={"M+":t.getMonth()+1,"d+":t.getDate(),"H+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length)));for(var r in n)new RegExp("("+r+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?n[r]:("00"+n[r]).substr((""+n[r]).length)));return e},e.exports.sleep=function(t){for(var e=Date.now();Date.now()-e<=t;);},e.exports.htmlEncodeAll=function(t){return null==t?"":t.replace(/\</g,"&lt;").replace(/\>/g,"&gt;").replace(/\&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")},e.exports.toBinary=function(t){if(!window.atob)return"";for(var e=atob(t),n=e.length,r=new Uint8Array(n),i=0;i<n;i++)r[i]=e.charCodeAt(i);return r},e.exports.delayHide=function(t,e){t&&(void 0===e&&(e=1e3),t.delayHanlder&&clearTimeout(t.delayHanlder),t.delayHanlder=setTimeout(function(){n.css(t,"display","none")},e))}},{"./dom":14}],26:[function(t,e){var n,r,i=t("../lib/oo"),o=t("../lib/object"),s=t("../lib/cookie"),a=t("../lib/data"),u=t("../lib/io"),l=t("../lib/ua"),c=t("../config"),p=0,d={INIT:1001,CLOSE:1002,STARTFETCHDATA:1003,COMPLETEFETCHDATA:1004,STARTPLAY:1005,PLAY:2001,STOP:2002,PAUSE:2003,SEEK:2004,FULLSREEM:2005,QUITFULLSCREEM:2006,RESOLUTION:2007,RESOLUTION_DONE:2009,RECOVER:2010,SEEK_END:2011,LOADSTART:2015,LOADEDMETADATA:2016,LOADEDDATA:2017,CANPLAY:2018,CANPLAYTHROUGH:2019,FETCHEDIP:2020,CDNDETECT:2021,DETECT:2022,UNDERLOAD:3002,LOADED:3001,HEARTBEAT:9001,ERROR:4001},h=i.extend({init:function(t,e,n){void 0===n&&(n=!0),this.trackLog=n,this.player=t,this.requestId="",this.sessionId=a.guid(),this.playId=0,this.osName=l.os.name,this.osVersion=l.os.version||"",this.exName=l.browser.name,this.exVersion=l.browser.version||"";var r=this.player.getOptions(),i=e.from?e.from:"",o=(r.isLive,"player"),s=r.isLive?"live":"vod",p="pc";l.IS_IPAD?p="pad":l.IS_IPHONE?p="iphone":l.IS_ANDROID&&(p="android");var d=encodeURIComponent(l.getReferer()),h=l.getHref(),f=encodeURIComponent(h),m="";h&&(m=l.getHost(h));var g="h5",y=c.h5Version,v=this._getUuid(),b=r.source?encodeURIComponent(r.source):"",_=l.getHost(r.source),w="0",E=this.sessionId,T="0",x="0",S="custom",C="0.0.0.0",A="0.0.0.0",k=(new Date).getTime();this._userNetInfo={cdnIp:"",localIp:""};var I=this;try{var D=function(t){I._log("FETCHEDIP",{error:t||"\u83b7\u53d6IP\u51fa\u9519"})};!function(t){u.jsonp("https://cdn.dns-detect.alicdn.com/api/cdnDetectHttps?method=createDetectHttps",function(e){return u.jsonp(e.content,t,D)},D)}(function(t){C=I._userNetInfo.cdnIp=t.content.ldns,A=I._userNetInfo.localIp=t.content.localIp,I._log("FETCHEDIP",{cdn_ip:C,local_ip:A})})}catch(t){console.log(t)}this.opt={APIVersion:"0.6.0",t:k,ll:"info",lv:"1.0",pd:o,md:"saas_player",ui:"saas_player",sm:"play",os:this.osName,ov:this.osVersion,et:this.exName,ev:this.exVersion,uat:l.USER_AGENT,hn:"0.0.0.0",bi:i,ri:E,e:T,args:x,vt:s,tt:p,dm:g,av:y,uuid:v,vu:b,vd:_,ua:w,dn:S,cdn_ip:C,app_n:m,r:d,pu:f},this.bindEvent()},updateVideoInfo:function(t){var e=t.from?t.from:"";this.opt.bi=e,this.updateSourceInfo()},updateSourceInfo:function(){var t=this.player.getOptions(),e=t.source?encodeURIComponent(t.source):"",n=l.getHost(t.source);this.opt.vu=e,this.opt.vd=n},bindEvent:function(){var t=this;this.player.on("init",function(){t._onPlayerInit()}),window.addEventListener("beforeunload",function(){t._onPlayerClose()}),this.player.on("loadstart",function(){t.loadstartTime=(new Date).getTime(),t._onPlayerloadstart()}),this.player.on("loadedmetadata",function(){t._onPlayerLoadMetadata()}),this.player.on("loadeddata",function(){t._onPlayerLoaddata()}),this.player.on("play",function(){t._onPlayerPlay()}),this.player.on("ready",function(){t._onPlayerReady()}),this.player.on("ended",function(){t._onPlayerFinish()}),this.player.on("pause",function(){t._onPlayerPause()}),this.player.on("seekStart",function(e){t._onPlayerSeekStart(e)}),this.player.on("seekEnd",function(e){t._onPlayerSeekEnd(e)}),this.player.on("waiting",function(){t._onPlayerLoaded()}),this.player.on("canplaythrough",function(){t._onPlayerUnderload()}),this.player.on("canplay",function(){t._onPlayerCanplay()}),this.player.on("error",function(){t._onPlayerError()}),this.player.on("requestFullScreen",function(){t._onFullscreenChange(1)}),this.player.on("cancelFullScreen",function(){t._onFullscreenChange(0)}),n=setInterval(function(){2===t.player.readyState()||3===t.player.readyState()?t._onPlayerLoaded():4===t.player.readyState()&&t._onPlayerUnderload()},100),r=setInterval(function(){if(t.player.getCurrentTime()){var e=Math.floor(1e3*t.player.getCurrentTime());t.player.paused()||++p>=30&&(t._log("HEARTBEAT",{vt:e,interval:1e3*p}),p=0)}},1e3)},removeEvent:function(){this.player.off("init"),this.player.off("ready"),this.player.off("ended"),this.player.off("play"),this.player.off("pause"),this.player.off("seekStart"),this.player.off("seekEnd"),this.player.off("canplaythrough"),this.player.off("error"),this.player.off("fullscreenchange"),clearInterval(n)},_onFullscreenChange:function(t){t?this._log("FULLSREEM",{}):this._log("QUITFULLSCREEM",{})},_onPlayerloadstart:function(){this.playId=a.guid(),this._log("LOADSTART",{pt:(new Date).getTime()}),this._log("STARTPLAY",{})},_onPlayerLoadMetadata:function(){this._log("LOADEDMETADATA",{cost:(new Date).getTime()-this.loadstartTime})},_onPlayerLoaddata:function(){this._log("LOADEDDATA",{cost:(new Date).getTime()-this.loadstartTime})},_onPlayerCanplay:function(){this._log("CANPLAY",{pt:(new Date).getTime()-this.loadstartTime})},_onPlayerInit:function(){this._log("INIT",{}),this.buffer_flag=0,this.pause_flag=0},_onPlayerClose:function(){this._log("CLOSE",{vt:Math.floor(1e3*this.player.getCurrentTime())})},_onPlayerReady:function(){this.startTimePlay=(new Date).getTime()},_onPlayerFinish:function(){this._log("STOP",{vt:Math.floor(1e3*this.player.getCurrentTime())}),this.sessionId=a.guid(),this.playId=0},_onPlayerPlay:function(){if(0==this.playId&&(this.playId=a.guid()),0!=this.pause_flag||this.seeking||(this.sessionId=a.guid()),!this.buffer_flag&&this.player._options.autoplay)return this.first_play_time=(new Date).getTime(),this._log("PLAY",{dsm:"fix",vt:0,start_cost:this.first_play_time-this.player.getReadyTime()}),void(this.buffer_flag=1);this.buffer_flag&&this.pause_flag&&(this.pause_flag=0,this.pauseEndTime=(new Date).getTime(),this._log("RECOVER",{vt:Math.floor(1e3*this.player.getCurrentTime()),cost:this.pauseEndTime-this.pauseTime}))},_onPlayerPause:function(){this.buffer_flag&&this.startTimePlay&&(this.seeking||(this.pause_flag=1,this.pauseTime=(new Date).getTime(),this._log("PAUSE",{vt:Math.floor(1e3*this.player.getCurrentTime())})))},_onPlayerSeekStart:function(t){this.seekStartTime=t.paramData.fromTime,this.seeking=!0,this.seekStartStamp=(new Date).getTime()},_onPlayerSeekEnd:function(t){this.seekEndStamp=(new Date).getTime(),this._log("SEEK",{drag_from_timestamp:Math.floor(1e3*this.seekStartTime),drag_to_timestamp:Math.floor(1e3*t.paramData.toTime)}),this._log("SEEK_END",{vt:Math.floor(1e3*this.player.getCurrentTime()),cost:this.seekEndStamp-this.seekStartStamp}),this.seeking=!1},_onPlayerLoaded:function(){this.buffer_flag&&this.startTimePlay&&(this.stucking||this.seeking||(this.stuckStartTime=(new Date).getTime(),this.stuckStartTime-this.startTimePlay<=1e3||(this.stucking=!0,this._log("UNDERLOAD",{vt:Math.floor(1e3*this.player.getCurrentTime())}),this.stuckStartTime=(new Date).getTime())))},_onPlayerUnderload:function(){if(!this.buffer_flag&&!this.player._options.autoplay)return this.first_play_time=(new Date).getTime(),this._log("PLAY",{play_mode:"fix",vt:0,start_cost:this.first_play_time-this.player.getReadyTime()}),void(this.buffer_flag=1);if((this.buffer_flag||!this.player._options.autoplay)&&this.stucking&&!this.seeking){var t=Math.floor(1e3*this.player.getCurrentTime()),e=this.stuckStartTime||(new Date).getTime(),n=Math.floor((new Date).getTime()-e);n<0&&(n=0),this._log("LOADED",{vt:t,cost:n}),this.stucking=!1}},_onPlayerHeartBeat:function(){if(!this.seeking){var t=Math.floor(1e3*this.player.getCurrentTime()),e=this;this.timer||(this.timer=setTimeout(function(){!e.seeking&&e._log("HEARTBEAT",{progress:t}),clearTimeout(e.timer),e.timer=null},6e4)),console.log("timeupdate")}},_onPlayerError:function(){this.playId=0},_log:function(t,e){this.updateSourceInfo();var n=o.copy(this.opt);if(this.requestId=a.guid(),"ERROR"==t&&"FETCHEDIP"!=t&&"CDNDETECT"!=t){var r=this;u.jsonp("https://cdn.dns-detect.alicdn.com/api/cdnDetectHttps?method=createDetectHttps",function(){r._log("CDNDETECT",{flag:0,error:"",eri:r.requestId})},function(t){r._log("CDNDETECT",{flag:1,error:t||"\u8bbf\u95eeCDN\u9519\u8bef",eri:r.requestId})})}var i=c.logReportTo;n.e=d[t],n.ri=this.sessionId,n.t=(new Date).getTime(),n.cdn_ip=this._userNetInfo.cdnIp,n.hn=this._userNetInfo.localIp;var s=this.player.getCurrentQuality();""!=s&&(n.definition=s.definition);var l=[];o.each(e,function(t,e){l.push(t+"="+e)});var p="",h=this.player.getOptions();h&&h.vid&&(p=h.vid),l.push("vid="+p),l=l.join("&"),""==l&&(l="0"),n.args=encodeURIComponent(l);var f=[];return o.each(n,function(t,e){f.push(t+"="+e)}),f=f.join("&"),this.trackLog&&u.jsonp(i+"?"+f,function(){},function(){}),this.sessionId},_getUuid:function(){var t=s.get("p_h5_u");return t||(t=a.guid(),s.set("p_h5_u",t,730)),t}});e.exports=h},{"../config":7,"../lib/cookie":12,"../lib/data":13,"../lib/io":17,"../lib/object":19,"../lib/oo":20,"../lib/ua":23}],27:[function(t,e){var n=t("./base/player"),r=t("./flash/flashplayer"),i=t("./saas/mtsplayer"),o=t("./saas/vodplayer"),s=t("./taotv/taotvplayer"),a=t("./audio/audioplayer"),u=t("./hls/hlsplayer"),l=t("../lib/ua"),c=t("../lib/playerutil"),p=(t("../lib/dom"),t("../lang/index"));e.exports.create=function(t){p.setCurrentLanguage(t.language);var e=c.handleOption(t),d=e.source,h=c.isAudio(d);h&&(e.height="auto");var f=c.createWrapper(e);return f.player?f.player:h?new a(f,e):e.useFlashPrism||c.isFlv(d)||c.isRTMP(d)?new r(f,e):e.vid&&!e.source?e.authInfo?new i(f,e):e.playauth?new o(f,e):new s(f,e):l.os.pc&&c.isHls(d)?c.canPlayHls()?c.isSafariUsedHlsPlugin(e.useHlsPluginForSafari)?new u(f,e):new n(f,e):c.isSupportHls()?new u(f,e):e.userH5Prism||e.useH5Prism?void 0:new r(f,e):new n(f,e)}},{"../lang/index":10,"../lib/dom":14,"../lib/playerutil":21,"../lib/ua":23,"./audio/audioplayer":28,"./base/player":29,"./flash/flashplayer":31,"./hls/hlsplayer":33,"./saas/mtsplayer":36,"./saas/vodplayer":41,"./taotv/taotvplayer":42}],28:[function(t,e){var n=t("../base/player"),r=t("../../ui/component"),i=t("../../lib/dom"),o=t("../../lib/object"),s=n.extend({init:function(t,e){this._isAudio=!0,void 0===e.skinLayout&&(e.skinLayout=playerUtil.defaultAudioLayout),n.call(this,t,e)}});s.prototype.createEl=function(){"AUDIO"!==this.tag.tagName&&(this._el=this.tag,this.tag=r.prototype.createEl.call(this,"audio"));var t=this._el,e=this.tag;e.player=this;var n=i.getElementAttributes(e);return o.each(n,function(e){t.setAttribute(e,n[e])}),this.setVideoAttrs(),e.parentNode&&e.parentNode.insertBefore(t,e),i.insertFirst(e,t),t},e.exports=s},{"../../lib/dom":14,"../../lib/object":19,"../../ui/component":43,"../base/player":29}],29:[function(t,e){var n=t("../../ui/component"),r=t("../../lib/object"),i=t("../../lib/dom"),o=t("../../lib/event"),s=(t("../../lib/io"),t("../../ui/exports")),a=(t("../../ui/component/error-display"),t("../../ui/component/info-display"),
t("../../monitor/monitor")),u=t("../../lib/ua"),l=t("../../lib/constants"),c=t("../../lib/util"),p=(t("../../config"),t("../../lib/playerutil")),d=t("./x5play"),h=t("../../lib/cookie"),f=t("../../lang/index"),m=t("../../feature/autoPlayDelay"),g=0,y=n.extend({init:function(t,e){if(this.tag=t,this.loaded=!1,this.played=!1,this.waiting=!1,this._urls=[],this._currentPlayIndex=0,this._retrySwitchUrlCount=0,this._isError=!1,this._isHls=!1,this._liveRetryCount=0,this._seeking=!1,this._serverRequestId=0,void 0===e.skinLayout&&(e.skinLayout=p.defaultH5Layout),n.call(this,this,e),this.addClass("prism-player"),e.plugins&&r.each(e.plugins,function(t,e){this[t](e)},this),this.UI={},e.useNativeControls?this.tag.setAttribute("controls","controls"):this.UI=s,this.initChildren(),this.bindVideoEvent(),this._monitor=new a(this,{video_id:0,album_id:0,from:this._options.from,source:this._options.source},this._options.trackLog),this.checkOnline()){if(this._options.source)if(this._options.autoPlayDelay){var i=new m(this),o=this;i.handle(function(){o.initPlay()})}else this.initPlay();if(this._options.extraInfo){var u=this._options.extraInfo;u.liveRetry&&(this._options.liveRetry=u.liveRetry)}this.on("readyState",function(){this.trigger("ready"),g&&console.log("ready")}),this._overrideNativePlay()}}});y.prototype.initPlay=function(t){this._checkSupportVideoType()||this._initPlayBehavior(t,this._options.source)},y.prototype.initChildren=function(){var t=this.options(),e=t.skinLayout;if(!1!==e&&!r.isArray(e))throw new Error("PrismPlayer Error: skinLayout should be false or type of array!");!1!==e&&0!==e.length&&(this.options({children:e}),n.prototype.initChildren.call(this)),this.trigger("uiH5Ready"),g&&console.log("uiH5ready")},y.prototype.createEl=function(){"VIDEO"!==this.tag.tagName&&(this._el=this.tag,this.tag=n.prototype.createEl.call(this,"video"),this._options.playsinline&&(this.tag.setAttribute("webkit-playsinline",""),this.tag.setAttribute("playsinline",""),this.tag.setAttribute("x-webkit-airplay","")));var t=this._el,e=this.tag;this._options.enableSystemMenu||(e.addEventListener?e.addEventListener("contextmenu",function(t){t.preventDefault()},!1):e.attachEvent("oncontextmenu",function(){window.event.returnValue=!1})),e.player=this;var o=i.getElementAttributes(e);return r.each(o,function(e){t.setAttribute(e,o[e])}),this.setVideoAttrs(),e.parentNode&&e.parentNode.insertBefore(t,e),i.insertFirst(e,t),this.cover=i.createEl("div"),i.addClass(this.cover,"prism-cover"),t.appendChild(this.cover),this.options().cover&&(this.cover.style.backgroundImage="url("+this.options().cover+")"),u.IS_IOS&&i.css(e,"display","none"),t},y.prototype.setVideoAttrs=function(){var t=this._options.preload,e=this._options.autoplay;if(this.tag.style.width="100%",this.tag.style.height="100%",t&&this.tag.setAttribute("preload","preload"),e&&this.tag.setAttribute("autoplay","autoplay"),this._options.extraInfo)for(var n in this._options.extraInfo)this.tag.setAttribute(n,this._options.extraInfo[n]);d.adaptX5Play(this)},y.prototype.checkOnline=function(){if(0==navigator.onLine){var t={mediaId:this._options.vid?this._options.vid:"",error_code:l.ErrorCode.NetworkUnavaiable,error_msg:f.get("Error_Offline_Text")};return this.logError(t),t.display_msg=f.get("Error_Offline_Text"),this.trigger("error",t),!1}return!0},y.prototype.id=function(){return this.el().id},y.prototype.renderUI=function(){},y.prototype.switchUrl=function(){if(0!=this._urls.length){this._currentPlayIndex=this._currentPlayIndex+1,this._urls.length<=this._currentPlayIndex&&(this._currentPlayIndex=0,this._retrySwitchUrlCount++);var t=this._urls[this._currentPlayIndex];h.set(l.SelectedStreamLevel,t.definition,365),this.trigger("qualitychange",f.get("Quality_Change_Fail_Switch_Text")),this.getCurrentTime(),this._options.source=t.Url,this.tag.setAttribute("src",this._options.source),this.tag.play()}},y.prototype.setControls=function(){var t=this.options();if(t.useNativeControls)this.tag.setAttribute("controls","controls");else if("object"==typeof t.controls){var e=this._initControlBar(t.controls);this.addChild(e)}},y.prototype._initControlBar=function(t){return new ControlBar(this,t)},y.prototype.getMetaData=function(){var t=this,e=null,n=this.tag;e=window.setInterval(function(){if(!t.tag)return void clearInterval(e);if(n.readyState>0){var r=Math.round(n.duration);t.tag.duration=r,t.trigger("readyState"),g&&console.log("readystate"),clearInterval(e)}},100)},y.prototype.getReadyTime=function(){return this.readyTime},y.prototype.readyState=function(){return this.tag.readyState},y.prototype.getError=function(){return this.tag.error},y.prototype.getRecentOccuredEvent=function(){return this._eventState},y.prototype.getSourceUrl=function(){return this._options?this._options.source:""},y.prototype.getMonitorInfo=function(){return this._monitor?this._monitor.opt:{}},y.prototype.getCurrentQuality=function(){if(this._urls>0){var t=this._urls[this._currentPlayIndex];return{width:t.width,url:t.Url,definition:t.definition}}return""},y.prototype.setSpeed=function(t){this.tag&&(this.tag.playbackRate=t)},y.prototype.play=function(){var t=this;return(this._options.preload||this.loaded)&&this.tag.src||this._initLoad(this._options.source),t.cover&&!t._options.autoplay&&(i.css(t.cover,"display","none"),delete t.cover),this.tag.play(),this},y.prototype.replay=function(){return this.seek(0),this.tag.play(),this},y.prototype.pause=function(){return this.tag.pause(),this},y.prototype.stop=function(){return this.tag.setAttribute("src",null),this},y.prototype.paused=function(){return!1!==this.tag.paused},y.prototype.getDuration=function(){var t=0;return this.tag&&(t=this.tag.duration),t},y.prototype.getCurrentTime=function(){return this.tag?this.tag.currentTime:0},y.prototype.seek=function(t){t===this.tag.duration&&t--;try{this.tag.currentTime=t}catch(t){console.log(t)}return this},y.prototype.firstNewUrlloadByUrl=function(t,e){this._clearLiveErrorHandle(),this._options.vid=0,this._options.source=t,this._monitor&&this._monitor.updateVideoInfo({video_id:0,album_id:0,source:t,from:this._options.from}),this.initPlay(),this.cover&&(this._options.preload||this._options.autoplay)&&(i.css(this.cover,"display","none"),delete this.cover),this._options.autoplay?this.trigger("play"):this.trigger("pause"),e||(e=0),!e&&0!=e||isNaN(e)||this.seek(e)},y.prototype.loadByUrl=function(t,e,n){this._clearLiveErrorHandle(),this.trigger("error_hide"),this._options.vid=0,this._options.source=t,this._monitor&&this._monitor.updateVideoInfo({video_id:0,album_id:0,source:t,from:this._options.from}),this.initPlay(),this.cover&&(this._options.preload||this._options.autoplay)&&(i.css(this.cover,"display","none"),delete this.cover),this._options.autoplay||n?this.trigger("play"):this.trigger("pause");var r=this;o.one(this.tag,"canplay",function(){!e&&0!=e||isNaN(e)||r.seek(e)})},y.prototype.dispose=function(){this.tag.pause();var t=this.tag;o.off(t,"timeupdate"),o.off(t,"play"),o.off(t,"pause"),o.off(t,"canplay"),o.off(t,"waiting"),o.off(t,"playing"),o.off(t,"ended"),o.off(t,"error"),o.off(t,"suspend"),o.off(t,"stalled"),o.off(t,"loadstart"),o.off(t,"durationchange"),o.off(t,"loadedmetadata"),o.off(t,"loadeddata"),o.off(t,"progress"),o.off(t,"canplaythrough"),o.off(t,"contextmenu"),o.off(t,"webkitfullscreenchange"),this.off("timeupdate"),this.off("durationchange"),this.off("play_btn_show"),this.off("init"),this.off("ready"),this.off("uiH5Ready"),this.off("error_hide"),this.off("error_show"),this.off("info_hide"),this.off("info_show"),this.off("h5_loading_show"),this.off("h5_loading_hide"),this.off("hideProgress"),this.off("cancelHideProgress"),this.off("requestFullScreen"),this.off("cancelFullScreen"),this.off("play"),this.off("pause"),this.off("click"),this.off("mouseover"),this.off("mouseout"),this.off("hideBar"),this.off("showBar"),this.off("readyState"),this.off("sourceloaded"),this.off("qualitychange"),this.off("play_btn_hide"),this.off("snapshoted"),this.tag=null,this._options=null,this._monitor&&(this._monitor.removeEvent(),this._monitor=null)},y.prototype.mute=function(){return this.tag.muted=!0,this},y.prototype.unMute=function(){return this.tag.muted=!1,this},y.prototype.muted=function(){return this.tag.muted},y.prototype.getVolume=function(){return this.tag.volume},y.prototype.getOptions=function(){return this._options},y.prototype.setVolume=function(t){this.tag.volume=t},y.prototype.hideProgress=function(){this.trigger("hideProgress")},y.prototype.cancelHideProgress=function(){this.trigger("cancelHideProgress")},y.prototype.setPlayerSize=function(t,e){this._el.style.width=t,this._el.style.height=e};var v=function(){var t;i.createEl("div"),t={};var e=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullScreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","webkitfullScreen"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","webkitIsFullScreen"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror","mozfullScreen"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError","MSFullScreen"]];if(u.IS_IOS)t.requestFn="webkitEnterFullscreen",t.cancelFn="webkitExitFullscreen",t.eventName="webkitfullscreenchange",t.isFullScreen="webkitDisplayingFullscreen";else{for(var n=5,r=0;r<n;r++)if(e[r][1]in document){t.requestFn=e[r][0],t.cancelFn=e[r][1],t.eventName=e[r][4],t.isFullScreen=e[r][6];break}"requestFullscreen"in document?t.requestFn="requestFullscreen":"webkitRequestFullscreen"in document?t.requestFn="webkitRequestFullscreen":"webkitRequestFullScreen"in document?t.requestFn="webkitRequestFullScreen":"webkitEnterFullscreen"in document?t.requestFn="webkitEnterFullscreen":"mozRequestFullScreen"in document?t.requestFn="mozRequestFullScreen":"msRequestFullscreen"in document&&(t.requestFn="msRequestFullscreen"),"fullscreenchange"in document?t.eventName="fullscreenchange":"webkitfullscreenchange"in document?t.eventName="webkitfullscreenchange":"webkitfullscreenchange"in document?t.eventName="webkitfullscreenchange":"webkitfullscreenchange"in document?t.eventName="webkitfullscreenchange":"mozfullscreenchange"in document?t.eventName="mozfullscreenchange":"MSFullscreenChange"in document&&(t.eventName="MSFullscreenChange"),"fullScreen"in document?t.isFullScreen="fullScreen":"webkitfullScreen"in document?t.isFullScreen="webkitfullScreen":"webkitIsFullScreen"in document?t.isFullScreen="webkitIsFullScreen":"webkitDisplayingFullscreen"in document?t.isFullScreen="webkitDisplayingFullscreen":"mozfullScreen"in document?t.isFullScreen="mozfullScreen":"MSFullScreen"in document&&(t.isFullScreen="MSFullScreen")}return t.requestFn?t:null}();y.prototype._enterFullWindow=function(){this.isFullWindow=!0,this.docOrigOverflow=document.documentElement.style.overflow,document.documentElement.style.overflow="hidden",i.addClass(document.getElementsByTagName("body")[0],"prism-full-window")},y.prototype._exitFullWindow=function(){this.isFullWindow=!1,document.documentElement.style.overflow=this.docOrigOverflow,i.removeClass(document.getElementsByTagName("body")[0],"prism-full-window")},y.prototype.requestFullScreen=function(){var t=v,e=this.el(),n=this;if(u.IS_IOS)return e=this.tag,e[t.requestFn](),this;this.isFullScreen=!0,this.isFullScreenChanged=!1,this._requestFullScreenTimer=null,this._cancelFullScreenTimer||clearTimeout(this._cancelFullScreenTimer);var n=this;return t?(e[t.requestFn](),this._requestFullScreenTimer=setTimeout(function(){n.isFullScreenChanged||(n._enterFullWindow(),n.trigger("requestFullScreen")),n._requestFullScreenTimer=null},500)):(this._enterFullWindow(),this.trigger("requestFullScreen")),this},y.prototype.cancelFullScreen=function(){var t=v,e=this;this.isFullScreen=!1,this.isFullScreenChanged=!1,this._cancelFullScreenTimer=null,this._requestFullScreenTimer||clearTimeout(this._requestFullScreenTimer);var e=this;return t?(document[t.cancelFn](),e._cancelFullScreenTimer=setTimeout(function(){e.isFullScreenChanged||(e._exitFullWindow(),e.trigger("cancelFullScreen")),e._cancelFullScreenTimer=null},500),this.tag.paused||this.trigger("play")):(this._exitFullWindow(),this.trigger("cancelFullScreen"),this.tag.paused||this.trigger("play")),this},y.prototype.getIsFullScreen=function(){return this.isFullScreen},y.prototype.getBuffered=function(){return this.tag.buffered},y.prototype.bindVideoEvent=function(){var t=this.tag,e=this;o.on(t,"loadstart",function(){e.trigger("loadstart"),g&&console.log("loadstart")}),o.on(t,"durationchange",function(){e.trigger("durationchange"),g&&console.log("durationchange")}),o.on(t,"loadedmetadata",function(){e.trigger("loadedmetadata"),g&&console.log("loadedmetadata")}),o.on(t,"loadeddata",function(){e.trigger("loadeddata"),g&&console.log("loadeddata")}),o.on(t,"progress",function(){e.trigger("progress"),g&&console.log("progress")}),o.on(t,"canplay",function(){e._retrySwitchUrlCount=0,e._liveRetryCount=0,e._clearLiveErrorHandle();var t=(new Date).getTime()-e.readyTime;e.trigger("canplay",{loadtime:t}),g&&console.log("canplay")}),o.on(t,"canplaythrough",function(){e.cover&&e._options.autoplay&&(i.css(e.cover,"display","none"),delete e.cover),"none"===t.style.display&&u.IS_IOS&&setTimeout(function(){i.css(t,"display","block")},100),e.trigger("canplaythrough"),g&&console.log("canplaythrough")}),o.on(t,"play",function(){console.log("--play"),e.trigger("play"),e.trigger("error_hide");var t=document.querySelector(".prism-cover");i.css(t,"display","none"),e.waiting=!1,g&&console.log("play")}),o.on(t,"play",function(){e.trigger("videoRender"),g&&console.log("videoRender"),e.waiting=!0}),o.on(t,"pause",function(){e.trigger("pause"),e.waiting=!1,g&&console.log("pause")}),o.on(t,"ended",function(){e.waiting=!1,e._options.rePlay&&(e.seek(0),e.tag.play()),e.trigger("ended"),g&&console.log("ended")}),o.on(t,"stalled",function(){e.trigger("stalled"),g&&console.log("stalled")}),o.on(t,"waiting",function(){e.trigger("waiting"),e.trigger("h5_loading_show"),e.waiting=!0,e._checkTimeoutHandle&&clearTimeout(e._checkTimeoutHandle),e._checkTimeoutHandle=setTimeout(function(){if(e.waiting||e.player){e.pause();var t={mediaId:e._options.vid||"",error_code:l.ErrorCode.LoadingTimeout,error_msg:f.get("Error_Waiting_Timeout_Text")};e.logError(t),e.trigger("error",t)}},1e3*e._options.loadDataTimeout),g&&console.log("waiting")}),o.on(t,"playing",function(){e.trigger("playing"),console.log("--playing"),e.trigger("h5_loading_hide"),e.waiting=!1,e._checkTimeoutHandle&&clearTimeout(e._checkTimeoutHandle),g&&console.log("playing")}),o.on(t,"error",function(t){if(e.waiting=!1,e._checkTimeoutHandle&&clearTimeout(e._checkTimeoutHandle),e.checkOnline()){var n,r="",i=t.srcElement.error.message,r="OTHER_ERR_MSG";if(t.srcElement.error.code&&(n=t.srcElement.error.code,r=l.VideoErrorCode[t.srcElement.error.code]),i=r+" || "+i,e._options.isLive)e._options.liveRetry>e._liveRetryCount?e._reloadAndPlayForM3u8():(e._liveRetryCount=0,e.trigger("liveStreamStop"),e._liveErrorHandle=setTimeout(function(){var t={mediaId:"ISLIVE",error_code:r,error_msg:f.get("Error_Play_Text")+"\uff0c"+f.get("Error_Retry_Text")};e.logError(t),e.trigger("error",t)},500));else{var o=f.get("Error_Play_Text"),s=!1;n<4?o=l.VideoErrorCodeText[n]:e._eventState==l.SUSPEND?(o=f.get("Error_Load_Abort_Text"),r=l.ErrorCode.RequestDataError):e._eventState==l.LOAD_START?(o=f.get("Error_Network_Text"),e._options.source.indexOf("auth_key")>0&&(o=o+"\uff0c"+f.get("Error_AuthKey_Text")),r=l.ErrorCode.StartLoadData):e._eventState==l.LOADED_METADATA&&(o=f.get("Error_Play_Text"),r=l.ErrorCode.PlayingError),o=o+"\uff0c"+f.get("Error_Retry_Text"),e._options.source&&(e._options.source.indexOf("flv")>0||e._options.source.indexOf("m3u8")>0&&!p.isSupportHls())&&!u.IS_MOBILE?(o=f.get("Error_H5_Not_Support_Text"),r=l.ErrorCode.FormatNotSupport):e._urls.length>1&&e._retrySwitchUrlCount<3&&(e.switchUrl(),s=!0);var a={mediaId:e._options.vid?e._options.vid:"",error_code:r,error_msg:i};e.logError(a),a.display_msg=o,s||e.trigger("error",a)}}}),o.on(t,"seeking",function(){e.trigger("seeking"),g&&console.log("seeking")}),o.on(t,"seeked",function(){e.trigger("seeked"),g&&console.log("seeked")}),o.on(t,"ratechange",function(){e.trigger("ratechange"),g&&console.log("ratechange")}),o.on(t,"timeupdate",function(){e.trigger("timeupdate"),g&&console.log("timeupdate")}),o.on(t,"webkitfullscreenchange",function(){e.trigger("fullscreenchange"),g&&console.log("fullscreenchange")}),this.on("requestFullScreen",function(){i.addClass(e.el(),"prism-fullscreen"),g&&console.log("request-fullscreen")}),this.on("cancelFullScreen",function(){i.removeClass(e.el(),"prism-fullscreen"),g&&console.log("cancel-fullscreen")}),this.on("seekStart",function(){e._seeking=!0}),this.on("seekEnd",function(){e._seeking=!1}),o.on(t,"suspend",function(){e.trigger("suspend"),g&&console.log("sudpend")}),o.on(t,"abort",function(){e.trigger("abort"),g&&console.log("abort")}),o.on(t,"volumechange",function(){e.trigger("volumechange"),g&&console.log("volumechange")}),o.on(t,"drag",function(){e.trigger("drag"),g&&console.log("drag")}),o.on(t,"dragstart",function(){e.trigger("dragstart"),g&&console.log("dragstart")}),o.on(t,"dragover",function(){e.trigger("dragover"),g&&console.log("dragover")}),o.on(t,"dragenter",function(){e.trigger("dragenter"),g&&console.log("dragenter")}),o.on(t,"dragleave",function(){e.trigger("dragleave"),g&&console.log("dragleave")}),o.on(t,"ondrag",function(){e.trigger("ondrag"),g&&console.log("ondrag")}),o.on(t,"ondragstart",function(){e.trigger("ondragstart"),g&&console.log("ondragstart")}),o.on(t,"ondragover",function(){e.trigger("ondragover"),g&&console.log("ondragover")}),o.on(t,"ondragenter",function(){e.trigger("ondragenter"),g&&console.log("ondragenter")}),o.on(t,"ondragleave",function(){e.trigger("ondragleave"),g&&console.log("ondragleave")}),o.on(t,"drop",function(){e.trigger("drop"),g&&console.log("drop")}),o.on(t,"dragend",function(){e.trigger("dragend"),g&&console.log("dragend")}),o.on(t,"onscroll",function(){e.trigger("onscroll"),g&&console.log("onscroll")}),this.on("error",function(t){var n=t.paramData,r=document.querySelector(".prism-cover");i.css(r,"display","none"),e.trigger("h5_loading_hide"),e.trigger("play_btn_hide"),n=n||{},e._monitor&&(n.uuid=e._monitor._getUuid(),n.requestId=e._serverRequestId,n.cdnIp=e._monitor._userNetInfo.cdnIp,n.localIp=e._monitor._userNetInfo.localIp),e._isError=!0,e.trigger("error_show",n)});var n=v;n&&o.on(document,n.eventName,function(){e.isFullScreen=document[n.isFullScreen],e.isFullScreenChanged=!0,!0===e.isFullScreen?e.trigger("requestFullScreen"):e.trigger("cancelFullScreen")})},y.prototype._initPlayBehavior=function(t,e){if(!p.validateSource(e)){var n={mediaId:this._options.vid?this._options.vid:"",error_code:l.ErrorCode.InvalidSourceURL,error_msg:"InvalidSourceURL"};return this.logError(n),n.display_msg=f.get("Error_Invalidate_Source"),void this.trigger("error",n)}this.trigger("h5_loading_hide"),void 0===t&&(t=!1),this.loaded||this.trigger("init"),(this._options.autoplay||this._options.preload||t)&&(this._initLoad(e),this._options.autoplay?this.tag.play():this.trigger("play_btn_show"))},y.prototype._initLoad=function(t){this._options.autoplay&&this.trigger("h5_loading_show"),this.getMetaData(),t&&this.tag.setAttribute("src",t),this.readyTime=(new Date).getTime(),this.loaded=!0},y.prototype._clearLiveErrorHandle=function(){this._liveErrorHandle&&clearTimeout(this._liveErrorHandle)},y.prototype._reloadAndPlayForM3u8=function(){0==this._liveRetryCount&&this.trigger("onM3u8Retry");var t=this._options,e=t.liveRetryInterval+t.liveRetryStep*player._liveRetryCount;c.sleep(1e3*e),this._liveRetryCount++,this.tag.load(this._options.source),this.tag.play()},y.prototype._checkSupportVideoType=function(){if(!this.tag.canPlayType||!this._options.source||!u.IS_MOBILE)return"";var t=this._options.source,e="";if(t.indexOf("m3u8")>0?""!=this.tag.canPlayType("application/x-mpegURL")||p.isSupportHls()||(e=f.get("Error_Not_Support_M3U8_Text")):t.indexOf("mp4")>0&&""==this.tag.canPlayType("video/mp4")&&(e=f.get("Error_Not_Support_MP4_Text")),e){var n={mediaId:this._options.vid?this._options.vid:"",error_code:l.ErrorCode.FormatNotSupport,error_msg:e};this.logError(n),n.display_msg=e,this.trigger("error",n)}return e},y.prototype.logError=function(t){t||(t={}),t.vt=this.getCurrentTime(),this._serverRequestId=this.log("ERROR",t)},y.prototype.log=function(t,e){var n=0,r=0;if(this._monitor)return this._options&&(n=this._options.vid||"0",r=this._options.from||"0"),this._monitor.updateVideoInfo({video_id:n,album_id:0,source:this._options.source,from:r}),this._monitor._log(t,e)},y.prototype.setSanpshotProperties=function(t,e,n){if(this._snapshotMatric||(this._snapshotMatric={}),this._snapshotMatric.width=t,this._snapshotMatric.height=e,n>1)throw new Error("rate doesn't allow more than 1");this._snapshotMatric.rate=n},y.prototype._getSanpshotMatric=function(){return this._snapshotMatric||(this._snapshotMatric={}),this._snapshotMatric},y.prototype._overrideNativePlay=function(){var t=this.tag.play,e=this;this.tag.play=function(){var n=t.apply(e.tag);void 0!==n&&n["catch"](function(){e.trigger("play_btn_show"),e.trigger("autoPlayPrevented")}).then(function(){})}},e.exports=y},{"../../config":7,"../../feature/autoPlayDelay":9,"../../lang/index":10,"../../lib/constants":11,"../../lib/cookie":12,"../../lib/dom":14,"../../lib/event":15,"../../lib/io":17,"../../lib/object":19,"../../lib/playerutil":21,"../../lib/ua":23,"../../lib/util":25,"../../monitor/monitor":26,"../../ui/component":43,"../../ui/component/error-display":46,"../../ui/component/info-display":49,"../../ui/exports":58,"./x5play":30}],30:[function(t,e){var n=t("../../lib/ua"),r=t("../../lib/dom"),i=function(t,e){var n=t.el().style.height,r=t.el().style.width;t.originalLayout={container:{height:n,width:r},video:{width:t.tag.style.width,height:t.tag.style.height}};var i=document.body.clientHeight+"px",o=document.body.clientWidth+"px";e?(height=i,width=o):(height=n.indexOf("%")?n:n+"px",width=r.indexOf("%")?r:r+"px"),t.tag.style.width=o,t.tag.style.height=i,t.el().style.height=e?i:height},o=function(t){if(t.originalLayout){var e=t.originalLayout;t.el().style.height=e.container.height,t.el().style.width=e.container.width,t.tag.style.width=e.video.width,t.tag.style.height=e.video.height}};e.exports.adaptX5Play=function(t){n.os.android&&n.is_X5&&("h5"==t._options.x5_type&&(t.tag.setAttribute("x5-video-player-type",t._options.x5_type),window.onresize=function(){i(t,t._options.x5_fullscreen||"center"==t._options.x5_video_position)},t.tag.addEventListener("x5videoenterfullscreen",function(){i(t,t._options.x5_fullscreen||"center"==t._options.x5_video_position),t.trigger("x5requestFullScreen")}),t.tag.addEventListener("x5videoexitfullscreen",function(){o(t),t.trigger("x5cancelFullScreen")}),t.on("requestFullScreen",function(){"center"!=t._options.x5_video_position&&r.removeClass(t.tag,"x5-top-left")}),t.on("cancelFullScreen",function(){"center"!=t._options.x5_video_position&&r.addClass(t.tag,"x5-top-left")})),void 0!==t._options.x5_fullscreen&&t._options.x5_fullscreen&&(t.tag.setAttribute("x5-video-player-fullscreen",t._options.x5_fullscreen),r.addClass(t.tag,"x5-full-screen")),"center"!=t._options.x5_video_position&&r.addClass(t.tag,"x5-top-left"),void 0!==t._options.x5_orientation&&t.tag.setAttribute("x5-video-orientation",t._options.x5_orientation))}},{"../../lib/dom":14,"../../lib/ua":23}],31:[function(t,e){var n=t("../../ui/component"),r=t("../../lib/data"),i=t("../../lib/ua"),o=t("../../lib/object"),s=t("../../config"),a=t("../../lang/index"),u=t("../../lib/playerutil"),l=t("../../lib/util"),c=t("../../ui/component/info-display"),p=t("../../feature/autoPlayDelay"),d=n.extend({init:function(t,e){if(void 0===e.skinLayout&&(e.skinLayout=u.defaultFlashLayout),n.call(this,this,e),this._id="prism-player-"+r.guid(),this.tag=t,this._el=this.tag,this.initChildren(),this.id=this._id,window[this.id]=this,this._options.autoPlayDelay){var i=new p(this),o=this;i.handle(function(){o._options.autoplay=!0,o._initPlayer()})}else this._initPlayer()},_initPlayer:function(){var t="100%",e="100%",n="//"+s.domain+"/de/prismplayer-flash/"+s.flashVersion+"/PrismPlayer.swf",r=this._comboFlashVars(),i=this._options.wmode?this._options.wmode:"opaque";this.tag.innerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="//download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=5,0,0,0" width="'+t+'" height="'+e+'" id="'+this.id+'"><param name=movie value="'+n+'"><param name=quality value=High><param name="FlashVars" value="'+r+'"><param name="WMode" value="'+i+'"><param name="AllowScriptAccess" value="always"><param name="AllowFullScreen" value="true"><param name="AllowFullScreenInteractive" value="true"><embed name="'+this.id+'" src="'+n+'" quality=high pluginspage="//www.macromedia.com/shockwave/download/index.cgi?P1_Prod_Version=ShockwaveFlash" type="application/x-shockwave-flash" width="'+t+'" height="'+e+'" AllowScriptAccess="always" AllowFullScreen="true" AllowFullScreenInteractive="true" WMode="'+i+'" FlashVars="'+r+'"></embed></object>'},_getPlayer:function(t){return-1!=navigator.appName.indexOf("Microsoft")?document.getElementById(t):document[t]},_comboFlashVars:function(){var t=encodeURIComponent(i.getReferer()),e=i.getHref(),n=encodeURIComponent(e),r="";e&&(r=i.getHost(e));var u=this._options,l={autoPlay:u.autoplay?1:0,isInner:0,actRequest:1,vid:u.vid,domain:u.domain?u.domain:"//tv.taobao.com",statisticService:u.statisticService?u.statisticService:s.logReportTo,videoInfoService:u.videoInfoService?u.videoInfoService:"/player/json/getBaseVideoInfo.do",disablePing:u.trackLog?0:1,namespace:this.id,barMode:0!=u.barMode?1:0,isLive:u.isLive?1:0,waterMark:u.waterMark,environment:u.environment,vurl:u.source?encodeURIComponent(u.source):"",plugins:u.plugins?u.plugins:"",snapShotShow:u.snapshot?1:0,accessId:u.accId?u.accId:"",accessKey:u.accSecret?u.accSecret:"",apiKey:u.apiKey?u.apiKey:"",flashApiKey:u.flashApiKey?u.flashApiKey:"",disableSeek:u.disableSeek?1:0,disableFullScreen:u.disableFullScreen?1:0,stsToken:u.stsToken?u.stsToken:"",domainRegion:u.domainRegion?u.domainRegion:"",authInfo:u.authInfo?encodeURIComponent(u.authInfo):"",playDomain:u.playDomain?u.playDomain:"",stretcherZoomType:u.stretcherZoomType?u.stretcherZoomType:"",playauth:u.playauth?u.playauth.replace(/\+/g,"%2B"):"",prismType:u.prismType?u.prismType:0,formats:u.formats?u.formats:"",notShowTips:u.notShowTips?1:0,showBarTime:u.showBarTime?u.showBarTime:0,showBuffer:0==u.showBuffer?0:1,rePlay:u.rePlay?1:0,encryp:u.encryp?u.encryp:"",secret:u.secret?u.secret:"",mediaType:"video",logInfo:{ud:i.getHost(u.source),os:i.os.name,ov:i.os.version||"",et:i.browser.name,ev:i.browser.version||"",uat:i.USER_AGENT,r:t,pu:n,app_n:r}},c=[];return u.cover&&(l.cover=u.cover),u.extraInfo&&(l.extraInfo=encodeURIComponent(JSON.stringify(u.extraInfo))),l.logInfo&&(l.logInfo=encodeURIComponent(JSON.stringify(l.logInfo))),a.setCurrentLanguage(u.language,"flash"),l.languageData=encodeURIComponent(JSON.stringify(a.getLanguageData("flash"))),l.language=a.getCurrentLanguage(),o.each(l,function(t,e){c.push(t+"="+e)}),c.join("&")},initChildren:function(){var t=new c(this,this._options),e=t.el();e.id=t.id(),this.contentEl().appendChild(e),t.bindEvent()},flashReady:function(){this.flashPlayer=this._getPlayer(this.id),this._isReady=!0;var t,e=this._options.skinRes,n=this._options.skinLayout;if(!1!==n&&!o.isArray(n))throw new Error("PrismPlayer Error: skinLayout should be false or type of array!");if("string"!=typeof e)throw new Error("PrismPlayer Error: skinRes should be string!");t=0!=n&&0!==n.length&&{skinRes:e,skinLayout:n},this.flashPlayer.setPlayerSkin(t),this.trigger("ready");var r=this;window.addEventListener("beforeunload",function(){try{r.flashPlayer.setPlayerCloseStatus()}catch(t){}})},jsReady:function(){return!0},snapshoted:function(t){var e=l.toBinary(t),n="data:image/jpeg;base64,"+t;this.trigger("snapshoted",{time:this.getCurrentTime(),base64:n,binary:e})},uiReady:function(){this.trigger("uiReady")},loadedmetadata:function(){this.trigger("loadedmetadata")},onPlay:function(){this.trigger("play")},onEnded:function(){this.trigger("ended")},onPause:function(){this.trigger("pause")},onBulletScreenReady:function(){this.trigger("bSReady")},onBulletScreenMsgSend:function(t){this.trigger("bSSendMsg",t)},onVideoRender:function(t){this.trigger("videoRender"),this.trigger("canplay",{loadtime:t})},onVideoError:function(t){this.trigger("error",{errortype:t})},onM3u8Retry:function(){this.trigger("m3u8Retry")},hideBar:function(){this.trigger("hideBar")},showBar:function(){this.trigger("showBar")},liveStreamStop:function(){this.trigger("liveStreamStop")},stsTokenExpired:function(){this.trigger("stsTokenExpired")},onVideoBuffer:function(){this.trigger("waiting")},_invoke:function(){var t=arguments[0],e=arguments;if(Array.prototype.shift.call(e),!this.flashPlayer)throw new Error("PrismPlayer Error: flash player is not ready\uff0cplease use api after ready event occured!");if("function"!=typeof this.flashPlayer[t])throw new Error("PrismPlayer Error: function "+t+" is not found!");return this.flashPlayer[t].apply(this.flashPlayer,e)},play:function(){this._invoke("playVideo")},replay:function(){this._invoke("replayVideo")},pause:function(){this._invoke("pauseVideo")},stop:function(){this._invoke("stopVideo")},seek:function(t){this._invoke("seekVideo",t)},getCurrentTime:function(){return this._invoke("getCurrentTime")},getDuration:function(){return this._invoke("getDuration")},mute:function(){this.setVolume(0)},unMute:function(){this.setVolume(.5)},getVolume:function(){return this._invoke("getVolume")},setVolume:function(t){this._invoke("setVolume",t)},loadByVid:function(t){this._invoke("loadByVid",t,!1)},loadByUrl:function(t,e){this._invoke("loadByUrl",t,e)},dispose:function(){this._invoke("pauseVideo")},showBSMsg:function(t){this._invoke("showBSMsg",t)},setToastEnabled:function(t){this._invoke("setToastEnabled",t)},setLoadingInvisible:function(){this._invoke("setLoadingInvisible")},setPlayerSize:function(t,e){this._el.style.width=t,this._el.style.height=e}});e.exports=d},{"../../config":7,"../../feature/autoPlayDelay":9,"../../lang/index":10,"../../lib/data":13,"../../lib/object":19,"../../lib/playerutil":21,"../../lib/ua":23,"../../lib/util":25,"../../ui/component":43,"../../ui/component/info-display":49}],32:[function(t,e){var n=t("../../lib/io"),r=t("../../config"),i=t("../../lib/constants"),o=t("../../lib/util"),s=t("../../lib/playerutil"),a=t("../../lib/dom"),u=t("../../lang/index"),l=function(t,e,n){return!(t._hls||!s.isHls(e)||s.canPlayHls()&&!s.isSafariUsedHlsPlugin(n))},c=function(t){var e="//"+r.domain+"/de/prismplayer/"+r.h5Version+"/hls/aliplayer-hls-min.js";n.loadJS(e,function(){t()})};e.exports.inject=function(t,e,n,r,s,p){var d=r.source,h=r.useHlsPluginForSafari;if(p||l(t,d,h)){e.prototype._checkHlsReady=function(){if(null==t._hls)throw new Error("please invoke this method after ready event")},t._isHls=!0,t._hls=null,t._isLoadedHls=!1,e.prototype.play=function(){this._checkHlsReady();var t=this;t.cover&&!t._options.autoplay&&(a.css(t.cover,"display","none"),delete t.cover);var e=this.getCurrentTime();return this._hls.startLoad(e),this.tag.paused&&this.tag.play(),this},e.prototype.replay=function(){return this._checkHlsReady(),this.seek(0),this._hls.startLoad(),this.tag.paused&&this.tag.play(),this},e.prototype.pause=function(){return this._checkHlsReady(),this.tag.pause(),this._hls.stopLoad(),this},e.prototype.stop=function(){return this._checkHlsReady(),this.tag.setAttribute("src",null),this._hls.stopLoad(),this},e.prototype._reloadAndPlayForM3u8=function(){0==this._liveRetryCount&&this.trigger("onM3u8Retry"),this._liveRetryCount++},e.prototype.initPlay=function(t){function e(t,e){t.destroy(),t._hls=new Hls({xhrSetup:function(e){e.withCredentials=t._options.withCredentials||!1}}),s&&(s(t._hls),f(t,t._hls)),t._hls.loadSource(t._options.source),t._hls.attachMedia(t.tag),t._hls.on(Hls.Events.MANIFEST_PARSED,function(){t._initPlayBehavior(e)})}that=this,this._isLoadedHls?e(this,t):(this.trigger("h5_loading_show"),c(function(){that.trigger("h5_loading_hide"),that._isLoadedHls=!0,e(that,t)}))},e.prototype.destroy=function(){this._hls&&this._hls.destroy(),this._hls=null},e.prototype.dispose=function(){n.dispose.call(this),this.destroy()}
;var f=function(t,e){e.on(Hls.Events.ERROR,function(e,n){if(n.details!=Hls.ErrorDetails.FRAG_LOOP_LOADING_ERROR&&1!=t._seeking&&(0!=n.fatal||n.type==Hls.ErrorTypes.NETWORK_ERROR)){var r=i.ErrorCode.LoadedMetadata,s=u.get("Error_Play_Text"),a=!1;n.details==Hls.ErrorDetails.MANIFEST_LOAD_ERROR?(a=!0,s=u.get("Error_Load_M3U8_Failed_Text")):n.details==Hls.ErrorDetails.MANIFEST_LOAD_TIMEOUT?(a=!0,s=u.get("Error_Load_M3U8_Timeout_Text")):n.details==Hls.ErrorDetails.MANIFEST_PARSING_ERROR||n.details==Hls.ErrorDetails.MANIFEST_INCOMPATIBLE_CODECS_ERROR?(a=!0,s=u.get("Error_M3U8_Decode_Text")):n.type==Hls.ErrorTypes.NETWORK_ERROR?(r=i.ErrorCode.NetworkError,s=u.get("Error_Network_Text")):n.type!=Hls.ErrorTypes.MUX_ERROR&&n.type!=Hls.ErrorTypes.MEDIA_ERROR||(r=i.ErrorCode.PlayDataDecode,s=u.get("Error_TX_Decode_Text")),s=s+"("+n.details+")";var l=function(){if(t.pause(),setTimeout(function(){t.trigger("play_btn_hide")}),t.checkOnline()){var e={mediaId:t._options.vid?t._options.vid:"",error_code:r,error_msg:n.details};t.logError(e),e.display_msg=s,t.trigger("error",e)}};if(t._options.isLive){var c=t._options;if(c.liveRetry>t._liveRetryCount){0==t._liveRetryCount&&t.trigger("onM3u8Retry");var p=c.liveRetryInterval+c.liveRetryStep*t._liveRetryCount;o.sleep(1e3*p),a&&t.loadByUrl(c.source),t._liveRetryCount++}else t._liveRetryCount=0,t.trigger("liveStreamStop"),t._liveErrorHandle=setTimeout(l,500)}else l()}})}}}},{"../../config":7,"../../lang/index":10,"../../lib/constants":11,"../../lib/dom":14,"../../lib/io":17,"../../lib/playerutil":21,"../../lib/util":25}],33:[function(t,e){var n=t("../base/player"),r=t("./hlsinjector"),i=n.extend({init:function(t,e){r.inject(this,i,n.prototype,e,function(){}),n.call(this,t,e)}});e.exports=i},{"../base/player":29,"./hlsinjector":32}],34:[function(t,e){var n=t("../../lib/constants"),r=t("../../lib/oo"),i=r.extend({init:function(t){this.player=t,this.tickhandle=null}});i.prototype.tick=function(t,e){var r=this;this.tickhandle=setTimeout(function(){r.player&&r.player.trigger(n.AuthKeyExpiredEvent),e&&e()},1e3*t)},i.prototype.clearTick=function(){this.tickhandle&&clearTimeout(this.tickhandle)},e.exports=i},{"../../lib/constants":11,"../../lib/oo":20}],35:[function(t,e){function n(t,e,n,u){var l=(s.returnUTCDate(),s.randomUUID()),c=s.randomUUID(),p="HMAC-SHA1",d={AccessKeyId:t.accessId,Action:"PlayInfo",MediaId:t.vid,Formats:t.format,AuthInfo:t.authInfo,AuthTimeout:o.AuthKeyExpired,Rand:l,SecurityToken:t.stsToken,PlayDomain:t.playDomain,Format:"JSON",Version:"2014-06-18",SignatureMethod:p,SignatureVersion:"1.0",SignatureNonce:c},h=s.makeUTF8sort(d,"=","&")+"&Signature="+s.AliyunEncodeURI(s.makeChangeSiga(d,t.accessSecret)),f="https://mts."+t.domainRegion+".aliyuncs.com/?"+h;i.get(f,function(t){if(t){var i=JSON.parse(t),o=i.PlayInfoList.PlayInfo;urls=r(o,e),n&&n({requestId:i.RequestId,urls:urls})}else u&&u(a.createError("MST\u83b7\u53d6\u53d6\u6570\u5931\u8d25"))},function(t){if(u){var e=JSON.parse(t);u({Code:o.ErrorCode.ServerAPIError,Message:e.Code+"|"+e.Message,sri:e.requestId})}})}function r(t,e){for(var n=[],r=[],i=t.length-1;i>=0;i--){var s=t[i];s.width=1*s.width,s.height=1*s.height,s.width<=s.height&&(s.width=s.height),s.definition=o.WidthMapToLevel[s.width],"mp4"==s.format?r.push(s):n.push(s)}return u(r,e),u(n,e),r.length>0?r:n}var i=t("../../lib/io"),o=t("../../lib/constants"),s=t("./signature"),a=t("./util"),u=function(t,e){var n=-1;t.sort(function(t,n){var r=parseInt(t.width),i=parseInt(n.width);if("desc"==e){if(r>i)return-1;if(r<i)return 1}else{if(r<i)return-1;if(r>i)return 1}});for(var r=t.length,i=0;i<r;i++){var s=t[i],a=o.VideoLevels[s.width];void 0===s.width?a="\u672a\u77e5":void 0===a?a=s.width:n==s.width&&(a+=s.width),s.desc=a,n=s.width}};e.exports.getDataByAuthInfo=n},{"../../lib/constants":11,"../../lib/io":17,"./signature":38,"./util":39}],36:[function(t,e){var n=t("./saasplayer"),r=(t("../../lib/constants"),t("./mts")),i=n.extend({init:function(t,e){n.call(this,t,e),this.service=r,this.loadByMts()}});i.prototype.loadByMts=function(){var t={vid:this._options.vid,accessId:this._options.accId,accessSecret:this._options.accSecret,stsToken:this._options.stsToken,domainRegion:this._options.domainRegion,authInfo:this._options.authInfo,playDomain:this._options.domainRegion,format:this._options.format};this.loadData(t)},i.prototype.replayByVidAndAuthInfo=function(t,e,n,r,i,o,s){this.reloadNewVideoInfo(t,e,n,r,i,o,s)},i.prototype.reloadNewVideoInfo=function(t,e,n,r,i,o,s){if(this.trigger("error_hide"),this._options.source="",t&&(this._options.vid=t,this._options.accId=e,this._options.accessSecret=n,this._options.stsToken=i,this._options.domainRegion=s,this._options.authInfo=o),!(this._options.vid&&this._options.accId&&this._options.accessSecret&&this._options.stsToken&&this._options.domainRegion&&this._options.authInfo))throw new Error("\u9700\u8981\u63d0\u4f9bvid\u3001accId\u3001accessSecret\u3001stsToken\u3001domainRegion\u548cauthInfo\u53c2\u6570");this.loadByMts()},e.exports=i},{"../../lib/constants":11,"./mts":35,"./saasplayer":37}],37:[function(t,e){function n(t){var e=a.get(i.SelectedStreamLevel);if(!e)return a.set(i.SelectedStreamLevel,t[0].definition,365),0;for(var n=0;n<t.length;n++)if(t[n].definition==e)return n;return 0}var r=t("../base/player"),i=(t("../../lib/event"),t("../../lib/io"),t("../../lib/constants")),o=(t("./signature"),t("./authkeyexpiredhandle")),s=t("../hls/hlsinjector"),a=t("../../lib/cookie"),u=t("../../lang/index"),l=r.extend({init:function(t,e){this._authKeyExpiredHandle=new o(this),r.call(this,t,e)}});l.prototype.loadData=function(t){var e=(new Date).getTime();this.log("STARTFETCHDATA",{});var o=this;this._urls=[],this._currentPlayIndex=0,this._retrySwitchUrlCount=0,this._authKeyExpiredHandle.clearTick(),this.service.getDataByAuthInfo(t,this._options.qualitySort,function(t){if(t.urls&&0==t.urls.length)return void o._mtsError_message(o,{Code:i.ErrorCode.URLsIsEmpty,Message:u.get("Error_Vod_URL_Is_Empty_Text")},"");o._urls=t.urls,o._currentPlayIndex=n(o._urls);var a=t.urls[o._currentPlayIndex],c=a.Url;o._options.source=c,s.inject(o,l,r.prototype,o._options),o.log("COMPLETEFETCHDATA",{cost:(new Date).getTime()-e}),o._authKeyExpiredHandle.tick(i.AuthKeyRefreshExpired),o.trigger("sourceloaded",a),o.initPlay()},function(t){o._mtsError_message(o,t,"")})},l.prototype._mtsError_message=function(t,e,n){var r=t;r.trigger("h5_loading_hide");var o=e.Code?e.Code:"OTHER_ERR_CODE",s=e.Message?e.Message:"OTHER_ERR_MSG",a=(i.ErrorCode.ServerAPIError,"");s.indexOf("InvalidParameter.Rand")>-1?(i.ErrorCode.EncrptyVideoNotSupport,a=u.get("Error_Not_Support_encrypt_Text")):s.indexOf("SecurityToken.Expired")>-1?(i.ErrorCode.AuthKeyExpired,a=u.get("Error_Playauth_Expired_Text")):s.indexOf("InvalidVideo.NoneStream")>-1&&(i.ErrorCode.URLsIsEmpty,a=u.get("Error_Fetch_NotStream"));var l=r._options.vid?r._options.vid:"0",c=(r._options.from&&r._options.from,{mediaId:l,error_code:o,error_msg:s});r.logError(c),c.display_msg=a||"\u83b7\u53d6\u5730\u5740\u51fa\u9519\u5566\uff0c\u8bf7\u5c1d\u8bd5\u9000\u51fa\u91cd\u8bd5\u6216\u5237\u65b0",r.trigger("error",c),console.log("PrismPlayer Error: "+n+"! error_msg :"+s+";")},e.exports=l},{"../../lang/index":10,"../../lib/constants":11,"../../lib/cookie":12,"../../lib/event":15,"../../lib/io":17,"../base/player":29,"../hls/hlsinjector":32,"./authkeyexpiredhandle":34,"./signature":38}],38:[function(t,e){var n=t("crypto-js/hmac-sha1"),r=t("crypto-js/enc-base64"),i=t("crypto-js/enc-utf8");e.exports.randomUUID=function(){for(var t=[],e="0123456789abcdef",n=0;n<36;n++)t[n]=e.substr(Math.floor(16*Math.random()),1);return t[14]="4",t[19]=e.substr(3&t[19]|8,1),t[8]=t[13]=t[18]=t[23]="-",t.join("")},e.exports.returnUTCDate=function(){var t=new Date,e=t.getUTCFullYear(),n=t.getUTCMonth(),r=t.getUTCDate(),i=t.getUTCHours(),o=t.getUTCMinutes(),s=t.getUTCSeconds(),a=t.getUTCMilliseconds();return Date.UTC(e,n,r,i,o,s,a)},e.exports.AliyunEncodeURI=function(t){var e=encodeURIComponent(t);return e=e.replace("+","%2B"),e=e.replace("*","%2A"),e=e.replace("%7E","~")},e.exports.makesort=function(t,e,n){if(!t)throw new Error("PrismPlayer Error: vid should not be null!");var r=Object.keys(t).sort(),i="";for(var o in r)""==i?i=r[o]+e+t[r[o]]:i+=n+r[o]+e+t[r[o]];return i},e.exports.makeUTF8sort=function(t,n,r){if(!t)throw new Error("PrismPlayer Error: vid should not be null!");var i=Object.keys(t).sort(),o="";for(var s in i){var a=e.exports.AliyunEncodeURI(i[s]),u=e.exports.AliyunEncodeURI(t[i[s]]);""==o?o=a+n+u:o+=r+a+n+u}return o},e.exports.makeChangeSiga=function(t,i){if(!t)throw new Error("PrismPlayer Error: vid should not be null!");return r.stringify(n("GET&"+e.exports.AliyunEncodeURI("/")+"&"+e.exports.AliyunEncodeURI(e.exports.makeUTF8sort(t,"=","&")),i+"&"))},e.exports.ISODateString=function(t){function e(t){return t<10?"0"+t:t}return t.getUTCFullYear()+"-"+e(t.getUTCMonth()+1)+"-"+e(t.getUTCDate())+"T"+e(t.getUTCHours())+":"+e(t.getUTCMinutes())+":"+e(t.getUTCSeconds())+"Z"},e.exports.encPlayAuth=function(t){var t=i.stringify(r.parse(t));if(!t)throw new Error("playuth\u53c2\u6570\u89e3\u6790\u4e3a\u7a7a");return JSON.parse(t)},e.exports.encRsa=function(){}},{"crypto-js/enc-base64":2,"crypto-js/enc-utf8":3,"crypto-js/hmac-sha1":4}],39:[function(t,e){e.exports.createError=function(t,e){return{requestId:"",code:e||"",message:t}}},{}],40:[function(t,e){function n(t,e,n,l){var c=(s.returnUTCDate(),s.randomUUID()),p=s.randomUUID(),d="HMAC-SHA1",h={AccessKeyId:t.accessId,Action:"GetPlayInfo",VideoId:t.vid,Formats:t.format,AuthInfo:t.authInfo,AuthTimeout:o.AuthKeyExpired,Rand:c,SecurityToken:t.stsToken,StreamType:t.mediaType,Format:"JSON",Version:"2017-03-21",SignatureMethod:d,SignatureVersion:"1.0",SignatureNonce:p,PlayerVersion:u.h5Version,Channel:"HTML5"},f=s.makeUTF8sort(h,"=","&")+"&Signature="+s.AliyunEncodeURI(s.makeChangeSiga(h,t.accessSecret)),m="http://vod.cn-shanghai.aliyuncs.com/?Action=GetPlayInfo&"+f;i.get(m,function(t){if(t){var i=JSON.parse(t),o=i.PlayInfoList.PlayInfo;urls=r(o,e),n&&n({requestId:i.RequestId,urls:urls})}else l&&l(a.createError("\u70b9\u64ad\u670d\u52a1\u83b7\u53d6\u53d6\u6570\u5931\u8d25"))},function(t){if(l){var e=JSON.parse(t);l({Code:o.ErrorCode.ServerAPIError,Message:e.Code+"|"+e.Message,sri:e.requestId})}})}function r(t,e){var n=[];"desc"==e&&t.reverse();for(var r=t.length-1;r>=0;r--){var i={};i.width=t[r].Width,i.height=t[r].Height,i.definition=t[r].Definition,i.Url=t[r].PlayURL,i.desc=o.QualityLevels[i.definition],n.push(i)}return n}var i=t("../../lib/io"),o=t("../../lib/constants"),s=t("./signature"),a=t("./util"),u=t("../../config");e.exports.getDataByAuthInfo=n},{"../../config":7,"../../lib/constants":11,"../../lib/io":17,"./signature":38,"./util":39}],41:[function(t,e){var n=t("./saasplayer"),r=t("../../lib/constants"),i=t("./vod"),o=t("./signature"),s=(t("./authkeyexpiredhandle"),n.extend({init:function(t,e){n.call(this,t,e),this.service=i,this.loadByVod()}}));s.prototype.loadByVod=function(){try{var t=o.encPlayAuth(this._options.playauth)}catch(t){var e={Code:r.ErrorCode.PlayauthDecode,Message:"playauth decoded failed.",displayMessage:"playauth\u89e3\u6790\u9519\u8bef"};return void this._mtsError_message(this,e,this._options.playauth)}this._options.from=t.CustomerId?t.CustomerId:"";var n=t.VideoMeta.CoverURL;this.cover&&n&&!this._options.cover&&(this.cover.style.backgroundImage="url("+n+")");var i={vid:this._options.vid,accessId:t.AccessKeyId,accessSecret:t.AccessKeySecret,stsToken:t.SecurityToken,domainRegion:t.Region,authInfo:t.AuthInfo,playDomain:t.PlayDomain,format:this._options.format,mediaType:this._options.mediaType};this.loadData(i)},s.prototype.replayByVidAndPlayAuth=function(t,e){this.trigger("error_hide"),this._options.source="",this._options.vid=t,this._options.playauth=e,this.loadByVod()},s.prototype.updateSourcesByVidAndPlayAuth=function(t,e){if(t!=this._options.vid)return void console.log("\u4e0d\u80fd\u66f4\u65b0\u5730\u5740\uff0cvid\u548c\u64ad\u653e\u4e2d\u7684\u4e0d\u4e00\u81f4");this._options.vid=t,this._options.playauth=e;try{var n=o.encPlayAuth(this._options.playauth)}catch(t){return void console.log("playauth\u89e3\u6790\u9519\u8bef")}var i={vid:t,accessId:n.AccessKeyId,accessSecret:n.AccessKeySecret,stsToken:n.SecurityToken,domainRegion:n.Region,authInfo:n.AuthInfo,playDomain:n.PlayDomain,format:this._options.format,mediaType:this._options.mediaTyp};this._authKeyExpiredHandle.clearTick();var s=this;this.service.loadData(i,this._options.qualitySort,function(t){s._serverRequestId=t.requestId,0!=t.urls.length&&(s._urls=t.urls),s._authKeyExpiredHandle.tick(r.AuthKeyRefreshExpired)},function(t){console.log(t)})},s.prototype.reloaduserPlayInfoAndVidRequestMts=function(t,e){this.replayByVidAndPlayAuth(t,e)},e.exports=s},{"../../lib/constants":11,"./authkeyexpiredhandle":34,"./saasplayer":37,"./signature":38,"./vod":40}],42:[function(t,e){var n=t("../base/player"),r=t("../hls/hlsinjector"),i=t("../../lib/io"),o=n.extend({init:function(t,e){n.call(this,t,e),this.loadVideoInfo()}});o.prototype.loadVideoInfo=function(t){this.trigger("error_hide");var e=this._options.vid,o=this;if(!e)throw new Error("PrismPlayer Error: vid should not be null!");i.jsonp("//tv.taobao.com/player/json/getBaseVideoInfo.do?vid="+e+"&playerType=3",function(i){if(1!==i.status||!i.data.source)throw new Error("PrismPlayer Error: #vid:"+e+" cannot find video resource!");var s,a=-1;_.each(i.data.source,function(t){var e=+t.substring(1);e>a&&(a=e)}),s=i.data.source["v"+a],s=_.unescape(s),o._options.source=s,r.inject(o,TaobaoTVPlayer,n.prototype,o._options),o.initPlay(),t&&t()},function(){throw new Error("PrismPlayer Error: network error!")})},o.prototype.loadByVid=function(t){this._options.vid=t;var e=this;if(!t)throw new Error("PrismPlayer Error: vid should not be null!");this._monitor&&this._monitor.updateVideoInfo({video_id:t,album_id:data.data.baseInfo.aid,source:src,from:e._options.from}),this._options.autoplay=!0,this.loadVideoInfo(function(){e.cover&&e._options.autoplay&&(Dom.css(e.cover,"display","none"),delete e.cover),e.tag.play()})},e.exports=o},{"../../lib/io":17,"../base/player":29,"../hls/hlsinjector":32}],43:[function(t,e){var n=t("../lib/oo"),r=t("../lib/data"),i=t("../lib/object"),o=t("../lib/dom"),s=t("../lib/event"),a=t("../lib/function"),u=t("../lib/layout"),l=(t("../lib/constants"),t("../lib/util"),n.extend({init:function(t,e){var n=this;this._player=t,this._eventState="",this._options=i.copy(e),this._el=this.createEl(),this._id=t.id()+"_component_"+r.guid(),this._children=[],this._childIndex={},this._player.on("uiH5Ready",function(){n.renderUI(),n.syncUI(),n.bindEvent()})}}));l.prototype.renderUI=function(){u.render(this.el(),this.options()),this.el().id=this.id()},l.prototype.syncUI=function(){},l.prototype.bindEvent=function(){},l.prototype.createEl=function(t,e){return o.createEl(t,e)},l.prototype.options=function(t){return void 0===t?this._options:this._options=i.merge(this._options,t)},l.prototype.el=function(){return this._el},l.prototype._contentEl,l.prototype.player=function(){return this._player},l.prototype.contentEl=function(){return this._contentEl||this._el},l.prototype._id,l.prototype.id=function(){return this._id},l.prototype.addChild=function(t,e){var n;if("string"==typeof t){if(!this._player.UI[t])return;n=new this._player.UI[t](this._player,e)}else n=t;if(this._children.push(n),"function"==typeof n.id&&(this._childIndex[n.id()]=n),"function"==typeof n.el&&n.el()){var r=n.el();r.id=n.id(),this.contentEl().appendChild(r)}return n},l.prototype.removeChild=function(t){if(t&&this._children){for(var e=!1,n=this._children.length-1;n>=0;n--)if(this._children[n]===t){e=!0,this._children.splice(n,1);break}if(e){this._childIndex[t.id]=null;var r=t.el();r&&r.parentNode===this.contentEl()&&this.contentEl().removeChild(t.el())}}},l.prototype.initChildren=function(){var t,e,n,r,o;if(t=this,e=this.options().children)if(i.isArray(e))for(var s=0;s<e.length;s++)n=e[s],"string"==typeof n?(r=n,o={}):(r=n.name,o=n),t.addChild(r,o);else i.each(e,function(e,n){!1!==n&&t.addChild(e,n)})},l.prototype.on=function(t,e){return s.on(this._el,t,a.bind(this,e)),this},l.prototype.off=function(t,e){return s.off(this._el,t,e),this},l.prototype.one=function(t,e){return s.one(this._el,t,a.bind(this,e)),this},l.prototype.trigger=function(t,e){return e&&(this._el.paramData=e),this._eventState=t,s.trigger(this._el,t),this},l.prototype.off=function(t){return s.off(this._el,t),this},l.prototype.addClass=function(t){return o.addClass(this._el,t),this},l.prototype.removeClass=function(t){return o.removeClass(this._el,t),this},l.prototype.show=function(){return this._el.style.display="block",this},l.prototype.hide=function(){return this._el.style.display="none",this},l.prototype.destroy=function(){if(this.trigger({type:"destroy",bubbles:!1}),this._children)for(var t=this._children.length-1;t>=0;t--)this._children[t].destroy&&this._children[t].destroy();this.children_=null,this.childIndex_=null,this.off(),this._el.parentNode&&this._el.parentNode.removeChild(this._el),r.removeData(this._el),this._el=null},e.exports=l},{"../lib/constants":11,"../lib/data":13,"../lib/dom":14,"../lib/event":15,"../lib/function":16,"../lib/layout":18,"../lib/object":19,"../lib/oo":20,"../lib/util":25}],44:[function(t,e){var n=t("../component"),r=t("../../lib/dom"),i=n.extend({init:function(t,e){n.call(this,t,e),this.addClass(e.className||"prism-big-play-btn")},bindEvent:function(){var t=this;this._player.on("play",function(){t.addClass("playing"),r.css(t.el(),"display","none")}),this._player.on("pause",function(){t.removeClass("playing"),r.css(t.el(),"display","block")}),this.on("click",function(){t._player.paused()&&(t._player.play(),r.css(t.el(),"display","none"))}),this._player.on("play_btn_show",function(){t.removeClass("playing"),r.css(t.el(),"display","block")}),this._player.on("play_btn_hide",function(){t.removeClass("playing"),r.css(t.el(),"display","none")})}});e.exports=i},{"../../lib/dom":14,"../component":43}],45:[function(t,e){var n=t("../component"),r=n.extend({init:function(t,e){n.call(this,t,e),this.addClass(e.className||"prism-controlbar"),this.initChildren(),this.onEvent()},createEl:function(){var t=n.prototype.createEl.call(this);return t.innerHTML='<div class="prism-controlbar-bg"></div>',t},onEvent:function(){var t=this.player(),e=t.options(),n=this;this.timer=null;var r=e.controlBarVisibility;1==e.controlBarForOver&&(r="hover"),"hover"==r?(n.hide(),t.on("mouseover",function(){n._show()}),t.on("mouseout",function(){n.hide(),t.trigger("hideBar")})):"click"==r?(t.on("click",function(e){t._isError||(e.preventDefault(),e.stopPropagation(),n._show(),n._hide())}),t.on("ready",function(){n._hide()}),t.on("touchstart",function(){n._show()}),t.on("touchmove",function(){n._show()}),t.on("touchend",function(){n._hide()})):n._show()},_show:function(){this.show(),this._player.trigger("showBar"),this.timer&&(clearTimeout(this.timer),this.timer=null)},_hide:function(){var t=this,e=this.player(),n=e.options(),r=n.showBarTime;this.timer=setTimeout(function(){t.hide(),t._player.trigger("hideBar")},r)}});e.exports=r},{"../component":43}],46:[function(t,e){var n=t("../component"),r=t("../../lib/util"),i=t("../../lib/dom"),o=t("../../lib/event"),s=t("../../lib/ua"),a=t("../../lang/index"),u=n.extend({init:function(t,e){n.call(this,t,e),this.className=e.className?e.className:"prism-ErrorMessage",this.addClass(this.className)},createEl:function(){var t=n.prototype.createEl.call(this,"div");return t.innerHTML="<div class='prism-error-content'><p></p></div><div class='prism-error-operation'><a class='prism-button prism-button-refresh' type='button'>"+a.get("Refresh_Text")+"</a><a class='prism-button prism-button-orange'  target='_blank'>"+a.get("Detection_Text")+"</a></div><div class='prism-detect-info prism-center'><p class='errorCode'><span class='info-label'>code\uff1a</span><span class='info-content'></span></p><p class='vid'><span class='info-label'>vid\uff1a</span><span class='info-content'></span></p><p class='uuid'><span class='info-label'>uuid\uff1a</span><span class='info-content'></span></p><p class='requestId'><span class='info-label'>requestId\uff1a</span><span class='info-content'></span></p><p class='dateTime'><span class='info-label'>"+a.get("Play_DateTime")+"\uff1a</span><span class='info-content'></span></p></div>",t},bindEvent:function(){var t=this;t._player.on("error_show",function(e){var n=t._player.getMonitorInfo();t._show(e,n)}),t._player.on("error_hide",t._hide);var e=document.querySelector("#"+t.id()+" .prism-button-refresh");if(o.on(e,"click",function(){location.reload(!0)}),s.IS_MOBILE){var e=document.querySelector("#"+t.id()+" .prism-detect-info");i.addClass(e,"prism-width90")}},_show:function(t,e){var n=t.paramData,o="",s="";n.mediaId&&(o=n.mediaId),e.vu&&(s=decodeURIComponent(e.vu));var u=document.querySelector("#"+this.id()+" .prism-button-orange"),l="http://player.alicdn.com/detection.html?from=h5&vid="+o+"&source="+s+"&pd="+e.pd+"&vt="+e.vt+"&tt="+e.tt+"&uuid="+e.uuid+"&av="+e.av+"&bi="+e.bi+"&md="+e.md+"&vu="+s+"&lang="+a.getCurrentLanguage();u.href=l;var c=n.display_msg||n.error_msg;document.querySelector("#"+this.id()+" .prism-error-content p").innerText=c,document.querySelector("#"+this.id()+" .errorCode .info-content").innerText=n.error_code;var p=document.querySelector("#"+this.id()+" .vid");n.mediaId?(i.css(p,"display","block"),document.querySelector("#"+this.id()+" .vid .info-content").innerText=n.mediaId):i.css(p,"display","none"),document.querySelector("#"+this.id()+" .uuid .info-content").innerText=n.uuid,document.querySelector("#"+this.id()+" .requestId .info-content").innerText=n.requestId,document.querySelector("#"+this.id()+" .dateTime .info-content").innerText=r.formatDate(new Date,"yyyy-MM-dd HH:mm:ss");var d=document.querySelector(".prism-ErrorMessage");i.css(d,"display","block"),this._player.trigger("play_btn_hide")},_hide:function(){var t=document.querySelector(".prism-ErrorMessage");i.css(t,"display","none")}});e.exports=u},{"../../lang/index":10,"../../lib/dom":14,"../../lib/event":15,"../../lib/ua":23,"../../lib/util":25,"../component":43}],47:[function(t,e){var n=t("../component"),r=n.extend({init:function(t,e){n.call(this,t,e),this.addClass(e.className||"prism-fullscreen-btn")},bindEvent:function(){var t=this;this._player.on("requestFullScreen",function(){t.addClass("fullscreen")}),this._player.on("cancelFullScreen",function(){t.removeClass("fullscreen")}),this.on("click",function(){this._player.getIsFullScreen()?this._player.cancelFullScreen():this._player.requestFullScreen()})}});e.exports=r},{"../component":43}],48:[function(t,e){"use strict";var n=t("../component"),r=(t("../../lib/dom"),n.extend({init:function(t,e){n.call(this,t,e),this.addClass(e.className||"prism-hide")},createEl:function(){var t=n.prototype.createEl.call(this,"div");return t.innerHTML='<div class="circle"></div> <div class="circle1"></div>',t},_loading_hide:function(){var t=this,e=document.querySelector("#"+t.id()+" .prism-loading");e&&(e.className="prism-hide")},_loading_show:function(){var t=this,e=document.querySelector("#"+t.id()+" .prism-hide");e&&(e.className="prism-loading")},bindEvent:function(){var t=this;t._player.on("h5_loading_show",t._loading_show),t._player.on("h5_loading_hide",t._loading_hide)}}));e.exports=r},{"../../lib/dom":14,"../component":43}],49:[function(t,e){var n=t("../component"),r=(t("../../lib/util"),t("../../lib/dom")),i=(t("../../lib/event"),t("../../lib/ua"),t("../../lang/index"),n.extend({init:function(t,e){n.call(this,t,e),this.className=e.className?e.className:"prism-info-display",this.addClass(this.className)},bindEvent:function(){var t=this;t._player.on("info_show",function(t){var e=document.querySelector(".prism-info-display"),n=t.paramData;n&&(e.innerText=n,r.css(e,"display","block"))}),t._player.on("info_hide",function(){var t=document.querySelector(".prism-info-display");r.css(t,"display","none")})}}));e.exports=i},{"../../lang/index":10,"../../lib/dom":14,"../../lib/event":15,"../../lib/ua":23,"../../lib/util":25,"../component":43}],50:[function(t,e){var n=t("../component"),r=(t("../../lib/util"),n.extend({init:function(t,e){n.call(this,t,e),this.className=e.className?e.className:"prism-live-display",this.addClass(this.className)}}));e.exports=r},{"../../lib/util":25,"../component":43}],51:[function(t,e){var n=t("../component"),r=n.extend({init:function(t,e){n.call(this,t,e),this.addClass(e.className||"prism-play-btn")},bindEvent:function(){var t=this;this._player.on("play",function(){t.addClass("playing")}),this._player.on("pause",function(){t.removeClass("playing")}),this.on("click",function(){t._player.paused()?(t._player.play(),t.addClass("playing")):(t._player.pause(),t.removeClass("playing"))})}});e.exports=r},{"../component":43}],52:[function(t,e){var n=t("../component"),r=t("../../lib/dom"),i=t("../../lib/event"),o=t("../../lib/ua"),s=t("../../lib/function"),a=n.extend({init:function(t,e){n.call(this,t,e),this.className=e.className?e.className:"prism-progress",this.addClass(this.className)},createEl:function(){var t=n.prototype.createEl.call(this);return t.innerHTML='<div class="prism-progress-loaded"></div><div class="prism-progress-played"></div><div class="prism-progress-cursor"></div>',t},bindEvent:function(){var t=this;this.loadedNode=document.querySelector("#"+this.id()+" .prism-progress-loaded"),this.playedNode=document.querySelector("#"+this.id()+" .prism-progress-played"),this.cursorNode=document.querySelector("#"+this.id()+" .prism-progress-cursor"),this.controlNode=document.getElementsByClassName("prism-controlbar")[0],i.on(this.cursorNode,"mousedown",function(e){t._onMouseDown(e)}),i.on(this.cursorNode,"touchstart",function(e){t._onMouseDown(e)}),i.on(this._el,"click",function(e){t._onMouseClick(e)}),this._player.on("hideProgress",function(e){t._hideProgress(e)}),this._player.on("cancelHideProgress",function(e){t._cancelHideProgress(e)}),this.bindTimeupdate=s.bind(this,this._onTimeupdate),this._player.on("timeupdate",this.bindTimeupdate),o.IS_IPAD?this.interval=setInterval(function(){t._onProgress()},500):this._player.on("progress",function(){t._onProgress()})},_hideProgress:function(){i.off(this.cursorNode,"mousedown"),i.off(this.cursorNode,"touchstart")},_cancelHideProgress:function(){var t=this;i.on(this.cursorNode,"mousedown",function(e){t._onMouseDown(e)}),i.on(this.cursorNode,"touchstart",function(e){t._onMouseDown(e)})},_onMouseClick:function(t){for(var e=this,n=this.el().offsetLeft,r=this.el();r=r.offsetParent;)n+=r.offsetLeft;var i=t.touches?t.touches[0].pageX:t.pageX,o=i-n,s=this.el().offsetWidth,a=this._player.getDuration()?o/s*this._player.getDuration():0;a<0&&(a=0),a>this._player.getDuration()&&(a=this._player.getDuration()),this._player.trigger("seekStart",{fromTime:this._player.getCurrentTime()}),this._player.seek(a);var e=this;setTimeout(function(){e._player.play()}),this._player.trigger("seekEnd",{toTime:this._player.getCurrentTime()})},_onMouseDown:function(t){var e=this;t.preventDefault(),this._player.pause(),this._player.trigger("seekStart",{fromTime:this._player.getCurrentTime()}),i.on(this.controlNode,"mousemove",function(t){e._onMouseMove(t)}),i.on(this.controlNode,"touchmove",function(t){e._onMouseMove(t)}),i.on(this._player.tag,"mouseup",function(t){e._onPlayerMouseUp(t)}),i.on(this._player.tag,"touchend",function(t){e._onPlayerMouseUp(t)}),i.on(this.controlNode,"mouseup",function(t){e._onControlBarMouseUp(t)}),i.on(this.controlNode,"touchend",function(t){e._onControlBarMouseUp(t)})},_onMouseUp:function(t){t.preventDefault(),i.off(this.controlNode,"mousemove"),i.off(this.controlNode,"touchmove"),i.off(this._player.tag,"mouseup"),i.off(this._player.tag,"touchend"),i.off(this.controlNode,"mouseup"),i.off(this.controlNode,"touchend");var e=this.playedNode.offsetWidth/this.el().offsetWidth*this._player.getDuration();this._player.getDuration(),this._player.seek(e),this._player.play(),this._player.trigger("seekEnd",{toTime:this._player.getCurrentTime()})},_onControlBarMouseUp:function(t){t.preventDefault(),i.off(this.controlNode,"mousemove"),i.off(this.controlNode,"touchmove"),i.off(this._player.tag,"mouseup"),i.off(this._player.tag,"touchend"),i.off(this.controlNode,"mouseup"),i.off(this.controlNode,"touchend");var e=this.playedNode.offsetWidth/this.el().offsetWidth*this._player.getDuration();this._player.getDuration(),this._player.seek(e),this._player.play(),this._player.trigger("seekEnd",{toTime:this._player.getCurrentTime()})},_onPlayerMouseUp:function(t){t.preventDefault(),i.off(this.controlNode,"mousemove"),i.off(this.controlNode,"touchmove"),i.off(this._player.tag,"mouseup"),i.off(this._player.tag,"touchend"),i.off(this.controlNode,"mouseup"),i.off(this.controlNode,"touchend");var e=this.playedNode.offsetWidth/this.el().offsetWidth*this._player.getDuration();this._player.getDuration(),isNaN(e)||(this._player.seek(e),this._player.play()),this._player.trigger("seekEnd",{toTime:this._player.getCurrentTime()})},_onMouseMove:function(t){t.preventDefault();for(var e=this.el().offsetLeft,n=this.el();n=n.offsetParent;)e+=n.offsetLeft;var r=t.touches?t.touches[0].pageX:t.pageX,i=r-e,o=this.el().offsetWidth,s=this._player.getDuration()?i/o*this._player.getDuration():0;s<0&&(s=0),s>this._player.getDuration()&&(s=this._player.getDuration()),this._player._hls||(this._player.seek(s),this._player.play()),this._updateProgressBar(this.playedNode,s),this._updateCursorPosition(s)},_onTimeupdate:function(){this._updateProgressBar(this.playedNode,this._player.getCurrentTime()),this._updateCursorPosition(this._player.getCurrentTime()),this._player.trigger("updateProgressBar",{time:this._player.getCurrentTime()})},_onProgress:function(){this._player.getDuration()&&this._player.getBuffered().length>=1&&this._updateProgressBar(this.loadedNode,this._player.getBuffered().end(this._player.getBuffered().length-1))},_updateProgressBar:function(t,e){if(1!=this._player._switchSourcing){var n=this._player.getDuration()?e/this._player.getDuration():0;t&&r.css(t,"width",100*n+"%")}},_updateCursorPosition:function(t){if(1!=this._player._switchSourcing){var e=this._player.getDuration()?t/this._player.getDuration():0;e>1-1.5*this.cursorNode.clientWidth/this.el().clientWidth||this.cursorNode&&r.css(this.cursorNode,"left",100*e+"%")}}});e.exports=a},{"../../lib/dom":14,"../../lib/event":15,"../../lib/function":16,"../../lib/ua":23,"../component":43}],53:[function(t,e){var n=t("../component"),r=(t("../../lib/dom"),t("../../lib/util")),i=t("../../lang/index"),o=n.extend({init:function(t,e){n.call(this,t,e),this.addClass(e.className||"prism-snapshot-btn")},createEl:function(){var t=n.prototype.createEl.call(this,"div");return t.innerText=i.get("Snapshot"),t},bindEvent:function(){var t=this;this.on("click",function(){t.trigger("snapshoting");var e=document.createElement("canvas"),n=t._player.tag,i=n.videoWidth,o=n.videoHeight,s=t._player._getSanpshotMatric();e.width=s.width||i,e.height=s.height||o;var a=t._player.getCurrentTime();e.getContext("2d").drawImage(n,0,0,i,o);var u=e.toDataURL("image/jpeg",s.rate||1),l=u.substr(u.indexOf(",")+1),c=r.toBinary(l);t.trigger("snapshoted",{time:a,base64:u,binary:c})})}});e.exports=o},{"../../lang/index":10,"../../lib/dom":14,"../../lib/util":25,"../component":43}],54:[function(t,e){var n=t("../component"),r=t("../../lib/object"),i=t("../../lib/util"),o=(t("../../lib/cookie"),t("../../lib/dom")),s=t("../../lib/event"),a=t("../../lib/constants"),u=t("../../lang/index"),l=n.extend({init:function(t,e){this._hasGeneratedList=!1,this._previousSelection=null,this._isShown=!1,n.call(this,t,e),this.className=e.className?e.className:"prism-speed-selector",this.addClass(this.className)},createEl:function(){var t=n.prototype.createEl.call(this,"div");return t.innerHTML='<div class="current-speed-selector" key="1">'+u.get("Speed_1X_Text")+'</div><ul class="speed-selector-list"></ul>',t},bindEvent:function(){var t=this,e=document.querySelector("#"+t.id()+"  .current-speed-selector"),n=document.querySelector("#"+t.id()+" .speed-selector-list");s.on(n,"mouseleave",function(){o.css(n,"display","none"),t._isShown=!1}),s.on(e,"click",function(){if(t._hasGeneratedList)o.css(n,"display",0==t._isShown?"block":"none"),t._isShown=!t._isShown;else{var i=a.SpeedLevels;r.each(i,function(r){var i=o.createEl.call(t,"li",{key:r.key,text:r.text});e.getAttribute("key")==r.key&&(o.addClass(i,"current"),t._previousSelection=i);var s=o.createEl.call(t,"span",{key:r.key,text:r.text});s.innerText=r.text,i.appendChild(s),n.appendChild(i)}),t._hasGeneratedList=!0,o.css(n,"display","block")}}),s.on(n,"click",function(e){var r=e.srcElement?e.srcElement:e.target,s=r.key,a=r.text
;void 0!==a&&(t._previousSelection&&o.removeClass(t._previousSelection,"current"),t._previousSelection=r,o.addClass(r,"current"),document.querySelector("#"+t.id()+" .current-speed-selector").innerText=a,t._player.setSpeed(s),i.delayHide(n))})}});e.exports=l},{"../../lang/index":10,"../../lib/constants":11,"../../lib/cookie":12,"../../lib/dom":14,"../../lib/event":15,"../../lib/object":19,"../../lib/util":25,"../component":43}],55:[function(t,e){var n=t("../component"),r=t("../../lib/object"),i=t("../../lib/util"),o=t("../../lib/cookie"),s=t("../../lib/dom"),a=t("../../lib/event"),u=t("../../lib/constants"),l=t("../../lang/index"),c=n.extend({init:function(t,e){this._hasGeneratedList=!1,this._previousSelection=null,this._isShown=!1,n.call(this,t,e),this.className=e.className?e.className:"prism-stream-selector",this.addClass(this.className)},createEl:function(){var t=n.prototype.createEl.call(this,"div");return t.innerHTML='<div class="current-stream-selector">'+l.get("Quality_SD_Text")+'</div><ul class="stream-selector-list"></ul>',t},showTip:function(t,e){this._player.trigger("info_show",t);var n=this;setTimeout(function(){n._player.trigger("info_hide",t)},e)},bindEvent:function(){var t=this,e=document.querySelector("#"+t.id()+"  .current-stream-selector"),n=document.querySelector("#"+t.id()+" .stream-selector-list");a.on(n,"mouseleave",function(){s.css(n,"display","none"),t._isShown=!1}),this._player.on("qualitychange",function(e){var n=document.querySelectorAll("#"+t.id()+" .stream-selector-list li"),r="",i="";if(n.length>t._player._currentPlayIndex){var o=n[t._player._currentPlayIndex];r=l.get("Quality_The_Url"),t._previousSelection&&(s.removeClass(t._previousSelection,"current"),r=t._previousSelection.text),s.addClass(o,"current"),i=o.text,document.querySelector("#"+t.id()+" .current-stream-selector").innerText=i,t._previousSelection=o}else if(t._player._currentPlayIndex>0){var a=t._player._urls,u=t._player._currentPlayIndex;r=a[u-1].desc,i=a[u].desc}t.showTip(r+e.paramData+i,1e3)}),this._player.on("sourceloaded",function(e){var n=e.paramData.desc,r=document.querySelector("#"+t.id()+" .current-stream-selector");r.innerText=n,s.css(r,"display","block")}),a.on(e,"click",function(){if(t._hasGeneratedList)s.css(n,"display",0==t._isShown?"block":"none"),t._isShown=!t._isShown;else{var e=t._player._urls;e.length>0&&r.each(e,function(e,r){var i=s.createEl.call(t,"li",{url:e.Url,index:r,text:e.desc});t._player._currentPlayIndex==r&&(s.addClass(i,"current"),t._previousSelection=i);var o=s.createEl.call(t,"span",{url:e.Url,index:r,text:e.desc});o.innerText=e.desc,i.appendChild(o),n.appendChild(i),t._hasGeneratedList=!0,s.css(n,"display","block")})}}),a.on(n,"click",function(e){var r=e.srcElement?e.srcElement:e.target,a=r.url,c=r.index,p=r.text;void 0!==p&&(t._player._switchSourcing=!0,t._previousSelection&&s.removeClass(t._previousSelection,"current"),t._previousSelection=r,s.addClass(r,"current"),t._player._currentPlayIndex=c,o.set(u.SelectedStreamLevel,t._player._urls[c].definition,365),t._player._urls.length>c&&(a=t._player._urls[c].Url),document.querySelector("#"+t.id()+" .current-stream-selector").innerText=p,t._player.loadByUrl(a,t._player.getCurrentTime(),!t._player.paused()),s.css(n,"display","none"),t._isShown=!1,t.showTip(l.get("Quality_Change_Text")+p,2e3),setTimeout(function(){t._player._switchSourcing=!1}),i.delayHide(n))})}});e.exports=c},{"../../lang/index":10,"../../lib/constants":11,"../../lib/cookie":12,"../../lib/dom":14,"../../lib/event":15,"../../lib/object":19,"../../lib/util":25,"../component":43}],56:[function(t,e){var n=t("../component"),r=t("../../lib/util"),i=n.extend({init:function(t,e){n.call(this,t,e),this.className=e.className?e.className:"prism-time-display",this.addClass(this.className)},createEl:function(){var t=n.prototype.createEl.call(this,"div");return t.innerHTML='<span class="current-time">00:00</span> <span class="time-bound">/</span> <span class="duration">00:00</span>',t},bindEvent:function(){var t=this;this._player.on("durationchange",function(){var e=r.formatTime(t._player.getDuration());e?(document.querySelector("#"+t.id()+" .time-bound").style.display="inline",document.querySelector("#"+t.id()+" .duration").style.display="inline",document.querySelector("#"+t.id()+" .duration").innerText=e):(document.querySelector("#"+t.id()+" .duration").style.display="none",document.querySelector("#"+t.id()+" .time-bound").style.display="none")}),this._player.on("timeupdate",function(){var e=r.formatTime(t._player.getCurrentTime());document.querySelector("#"+t.id()+" .current-time")&&(e?(document.querySelector("#"+t.id()+" .current-time").style.display="inline",document.querySelector("#"+t.id()+" .current-time").innerText=e):document.querySelector("#"+t.id()+" .current-time").style.display="none")})}});e.exports=i},{"../../lib/util":25,"../component":43}],57:[function(t,e){var n=t("../component"),r=n.extend({init:function(t,e){n.call(this,t,e),this.addClass(e.className||"prism-volume")},bindEvent:function(){var t=this;this.on("click",function(){t._player.muted()?(t._player.unMute(),t.removeClass("mute")):(t._player.mute(),t.addClass("mute"))})}});e.exports=r},{"../component":43}],58:[function(t,e){e.exports={H5Loading:t("./component/h5-loading"),bigPlayButton:t("./component/big-play-button"),controlBar:t("./component/controlbar"),progress:t("./component/progress"),playButton:t("./component/play-button"),liveDisplay:t("./component/live-display"),timeDisplay:t("./component/time-display"),fullScreenButton:t("./component/fullscreen-button"),volume:t("./component/volume"),streamButton:t("./component/stream-selector"),speedButton:t("./component/speed-selector"),snapshot:t("./component/snapshot"),errorDisplay:t("./component/error-display"),infoDisplay:t("./component/info-display")}},{"./component/big-play-button":44,"./component/controlbar":45,"./component/error-display":46,"./component/fullscreen-button":47,"./component/h5-loading":48,"./component/info-display":49,"./component/live-display":50,"./component/play-button":51,"./component/progress":52,"./component/snapshot":53,"./component/speed-selector":54,"./component/stream-selector":55,"./component/time-display":56,"./component/volume":57}]},{},[8]),function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.ClipboardJS=e():t.ClipboardJS=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=3)}([function(t,e,n){var r,i,o;!function(s,a){i=[t,n(7)],r=a,void 0!==(o="function"==typeof r?r.apply(e,i):r)&&(t.exports=o)}(0,function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(t){return t&&t.__esModule?t:{"default":t}}(e),i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=function(){function t(e){n(this,t),this.resolveOptions(e),this.initSelection()}return o(t,[{key:"resolveOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=t.action,this.container=t.container,this.emitter=t.emitter,this.target=t.target,this.text=t.text,this.trigger=t.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var t=this,e="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return t.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[e?"right":"left"]="-9999px";var n=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=n+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=(0,r["default"])(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=(0,r["default"])(this.target),this.copyText()}},{key:"copyText",value:function(){var t=void 0;try{t=document.execCommand(this.action)}catch(e){t=!1}this.handleResult(t)}},{key:"handleResult",value:function(t){this.emitter.emit(t?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=t,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(t){if(void 0!==t){if(!t||"object"!==(void 0===t?"undefined":i(t))||1!==t.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&t.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(t.hasAttribute("readonly")||t.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=t}},get:function(){return this._target}}]),t}();t.exports=s})},function(t,e,n){function r(t,e,n){if(!t&&!e&&!n)throw new Error("Missing required arguments");if(!a.string(e))throw new TypeError("Second argument must be a String");if(!a.fn(n))throw new TypeError("Third argument must be a Function");if(a.node(t))return i(t,e,n);if(a.nodeList(t))return o(t,e,n);if(a.string(t))return s(t,e,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function i(t,e,n){return t.addEventListener(e,n),{destroy:function(){t.removeEventListener(e,n)}}}function o(t,e,n){return Array.prototype.forEach.call(t,function(t){t.addEventListener(e,n)}),{destroy:function(){Array.prototype.forEach.call(t,function(t){t.removeEventListener(e,n)})}}}function s(t,e,n){return u(document.body,t,e,n)}var a=n(6),u=n(5);t.exports=r},function(t){function e(){}e.prototype={on:function(t,e,n){var r=this.e||(this.e={});return(r[t]||(r[t]=[])).push({fn:e,ctx:n}),this},once:function(t,e,n){function r(){i.off(t,r),e.apply(n,arguments)}var i=this;return r._=e,this.on(t,r,n)},emit:function(t){var e=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),r=0,i=n.length;for(r;r<i;r++)n[r].fn.apply(n[r].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),r=n[t],i=[];if(r&&e)for(var o=0,s=r.length;o<s;o++)r[o].fn!==e&&r[o].fn._!==e&&i.push(r[o]);return i.length?n[t]=i:delete n[t],this}},t.exports=e},function(t,e,n){var r,i,o;!function(s,a){i=[t,n(0),n(2),n(1)],r=a,void 0!==(o="function"==typeof r?r.apply(e,i):r)&&(t.exports=o)}(0,function(t,e,n,r){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t,e){var n="data-clipboard-"+t;if(e.hasAttribute(n))return e.getAttribute(n)}var l=i(e),c=i(n),p=i(r),d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),f=function(t){function e(t,n){o(this,e);var r=s(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.resolveOptions(n),r.listenClick(t),r}return a(e,t),h(e,[{key:"resolveOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof t.action?t.action:this.defaultAction,this.target="function"==typeof t.target?t.target:this.defaultTarget,this.text="function"==typeof t.text?t.text:this.defaultText,this.container="object"===d(t.container)?t.container:document.body}},{key:"listenClick",value:function(t){var e=this;this.listener=(0,p["default"])(t,"click",function(t){return e.onClick(t)})}},{key:"onClick",value:function(t){var e=t.delegateTarget||t.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new l["default"]({action:this.action(e),target:this.target(e),text:this.text(e),container:this.container,trigger:e,emitter:this})}},{key:"defaultAction",value:function(t){return u("action",t)}},{key:"defaultTarget",value:function(t){var e=u("target",t);if(e)return document.querySelector(e)}},{key:"defaultText",value:function(t){return u("text",t)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],e="string"==typeof t?[t]:t,n=!!document.queryCommandSupported;return e.forEach(function(t){n=n&&!!document.queryCommandSupported(t)}),n}}]),e}(c["default"]);t.exports=f})},function(t){function e(t,e){for(;t&&t.nodeType!==n;){if("function"==typeof t.matches&&t.matches(e))return t;t=t.parentNode}}var n=9;if("undefined"!=typeof Element&&!Element.prototype.matches){var r=Element.prototype;r.matches=r.matchesSelector||r.mozMatchesSelector||r.msMatchesSelector||r.oMatchesSelector||r.webkitMatchesSelector}t.exports=e},function(t,e,n){function r(t,e,n,r,i){var s=o.apply(this,arguments);return t.addEventListener(n,s,i),{destroy:function(){t.removeEventListener(n,s,i)}}}function i(t,e,n,i,o){return"function"==typeof t.addEventListener?r.apply(null,arguments):"function"==typeof n?r.bind(null,document).apply(null,arguments):("string"==typeof t&&(t=document.querySelectorAll(t)),Array.prototype.map.call(t,function(t){return r(t,e,n,i,o)}))}function o(t,e,n,r){return function(n){n.delegateTarget=s(n.target,e),n.delegateTarget&&r.call(t,n)}}var s=n(4);t.exports=i},function(t,e){e.node=function(t){return void 0!==t&&t instanceof HTMLElement&&1===t.nodeType},e.nodeList=function(t){var n=Object.prototype.toString.call(t);return void 0!==t&&("[object NodeList]"===n||"[object HTMLCollection]"===n)&&"length"in t&&(0===t.length||e.node(t[0]))},e.string=function(t){return"string"==typeof t||t instanceof String},e.fn=function(t){return"[object Function]"===Object.prototype.toString.call(t)}},function(t){function e(t){var e;if("SELECT"===t.nodeName)t.focus(),e=t.value;else if("INPUT"===t.nodeName||"TEXTAREA"===t.nodeName){var n=t.hasAttribute("readonly");n||t.setAttribute("readonly",""),t.select(),t.setSelectionRange(0,t.value.length),n||t.removeAttribute("readonly"),e=t.value}else{t.hasAttribute("contenteditable")&&t.focus();var r=window.getSelection(),i=document.createRange();i.selectNodeContents(t),r.removeAllRanges(),r.addRange(i),e=r.toString()}return e}t.exports=e}])}),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){(function(){(function(){var e=[].slice;this.ActionCable={INTERNAL:{message_types:{welcome:"welcome",ping:"ping",confirmation:"confirm_subscription",rejection:"reject_subscription"},default_mount_path:"/cable",protocols:["actioncable-v1-json","actioncable-unsupported"]},WebSocket:window.WebSocket,logger:window.console,createConsumer:function(e){var n;return null==e&&(e=null!=(n=this.getConfig("url"))?n:this.INTERNAL.default_mount_path),new t.Consumer(this.createWebSocketURL(e))},getConfig:function(t){var e;return e=document.head.querySelector("meta[name='action-cable-"+t+"']"),null!=e?e.getAttribute("content"):void 0},createWebSocketURL:function(t){var e;return t&&!/^wss?:/i.test(t)?(e=document.createElement("a"),e.href=t,e.href=e.href,e.protocol=e.protocol.replace("http","ws"),e.href):t},startDebugging:function(){return this.debugging=!0},stopDebugging:function(){return this.debugging=null},log:function(){var t,n;if(t=1<=arguments.length?e.call(arguments,0):[],this.debugging)return t.push(Date.now()),(n=this.logger).log.apply(n,["[ActionCable]"].concat(e.call(t)))}}}).call(this)}).call(this);var t=this.ActionCable;(function(){(function(){var e=function(t,e){return function(){return t.apply(e,arguments)}};t.ConnectionMonitor=function(){function n(t){this.connection=t,this.visibilityDidChange=e(this.visibilityDidChange,this),this.reconnectAttempts=0}var r,i,o;return n.pollInterval={min:3,max:30},n.staleThreshold=6,n.prototype.start=function(){if(!this.isRunning())return this.startedAt=i(),delete this.stoppedAt,this.startPolling(),document.addEventListener("visibilitychange",this.visibilityDidChange),t.log("ConnectionMonitor started. pollInterval = "+this.getPollInterval()+" ms")},n.prototype.stop=function(){if(this.isRunning())return this.stoppedAt=i(),this.stopPolling(),document.removeEventListener("visibilitychange",this.visibilityDidChange),t.log("ConnectionMonitor stopped")},n.prototype.isRunning=function(){return null!=this.startedAt&&null==this.stoppedAt},n.prototype.recordPing=function(){return this.pingedAt=i()},n.prototype.recordConnect=function(){return this.reconnectAttempts=0,this.recordPing(),delete this.disconnectedAt,t.log("ConnectionMonitor recorded connect")},n.prototype.recordDisconnect=function(){return this.disconnectedAt=i(),t.log("ConnectionMonitor recorded disconnect")},n.prototype.startPolling=function(){return this.stopPolling(),this.poll()},n.prototype.stopPolling=function(){return clearTimeout(this.pollTimeout)},n.prototype.poll=function(){return this.pollTimeout=setTimeout(function(t){return function(){return t.reconnectIfStale(),t.poll()}}(this),this.getPollInterval())},n.prototype.getPollInterval=function(){var t,e,n,i;return i=this.constructor.pollInterval,n=i.min,e=i.max,t=5*Math.log(this.reconnectAttempts+1),Math.round(1e3*r(t,n,e))},n.prototype.reconnectIfStale=function(){if(this.connectionIsStale())return t.log("ConnectionMonitor detected stale connection. reconnectAttempts = "+this.reconnectAttempts+", pollInterval = "+this.getPollInterval()+" ms, time disconnected = "+o(this.disconnectedAt)+" s, stale threshold = "+this.constructor.staleThreshold+" s"),this.reconnectAttempts++,this.disconnectedRecently()?t.log("ConnectionMonitor skipping reopening recent disconnect"):(t.log("ConnectionMonitor reopening"),this.connection.reopen())},n.prototype.connectionIsStale=function(){var t;return o(null!=(t=this.pingedAt)?t:this.startedAt)>this.constructor.staleThreshold},n.prototype.disconnectedRecently=function(){return this.disconnectedAt&&o(this.disconnectedAt)<this.constructor.staleThreshold},n.prototype.visibilityDidChange=function(){if("visible"===document.visibilityState)return setTimeout(function(e){return function(){if(e.connectionIsStale()||!e.connection.isOpen())return t.log("ConnectionMonitor reopening stale connection on visibilitychange. visbilityState = "+document.visibilityState),e.connection.reopen()}}(this),200)},i=function(){return(new Date).getTime()},o=function(t){return(i()-t)/1e3},r=function(t,e,n){return Math.max(e,Math.min(n,t))},n}()}).call(this),function(){var e,n,r,i,o,s=[].slice,a=function(t,e){return function(){return t.apply(e,arguments)}},u=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1};i=t.INTERNAL,n=i.message_types,r=i.protocols,o=2<=r.length?s.call(r,0,e=r.length-1):(e=0,[]),r[e++],t.Connection=function(){function e(e){this.consumer=e,this.open=a(this.open,this),this.subscriptions=this.consumer.subscriptions,this.monitor=new t.ConnectionMonitor(this),this.disconnected=!0}return e.reopenDelay=500,e.prototype.send=function(t){return!!this.isOpen()&&(this.webSocket.send(JSON.stringify(t)),!0)},e.prototype.open=function(){return this.isActive()?(t.log("Attempted to open WebSocket, but existing socket is "+this.getState()),!1):(t.log("Opening WebSocket, current state is "+this.getState()+", subprotocols: "+r),null!=this.webSocket&&this.uninstallEventHandlers(),this.webSocket=new t.WebSocket(this.consumer.url,r),this.installEventHandlers(),this.monitor.start(),!0)},e.prototype.close=function(t){var e,n;if(e=(null!=t?t:{allowReconnect:!0}).allowReconnect,e||this.monitor.stop(),this.isActive())return null!=(n=this.webSocket)?n.close():void 0},e.prototype.reopen=function(){var e;if(t.log("Reopening WebSocket, current state is "+this.getState()),!this.isActive())return this.open();try{return this.close()}catch(n){return e=n,t.log("Failed to reopen WebSocket",e)}finally{t.log("Reopening WebSocket in "+this.constructor.reopenDelay+"ms"),setTimeout(this.open,this.constructor.reopenDelay)}},e.prototype.getProtocol=function(){var t;return null!=(t=this.webSocket)?t.protocol:void 0},e.prototype.isOpen=function(){return this.isState("open")},e.prototype.isActive=function(){return this.isState("open","connecting")},e.prototype.isProtocolSupported=function(){var t;return t=this.getProtocol(),u.call(o,t)>=0},e.prototype.isState=function(){var t,e;return e=1<=arguments.length?s.call(arguments,0):[],t=this.getState(),u.call(e,t)>=0},e.prototype.getState=function(){var t,e;for(e in WebSocket)if(WebSocket[e]===(null!=(t=this.webSocket)?t.readyState:void 0))return e.toLowerCase();return null},e.prototype.installEventHandlers=function(){var t,e;for(t in this.events)e=this.events[t].bind(this),this.webSocket["on"+t]=e},e.prototype.uninstallEventHandlers=function(){var t;for(t in this.events)this.webSocket["on"+t]=function(){}},e.prototype.events={message:function(t){var e,r,i,o;if(this.isProtocolSupported())switch(i=JSON.parse(t.data),e=i.identifier,r=i.message,o=i.type,o){case n.welcome:return this.monitor.recordConnect(),this.subscriptions.reload();case n.ping:return this.monitor.recordPing();case n.confirmation:return this.subscriptions.notify(e,"connected");case n.rejection:return this.subscriptions.reject(e);default:return this.subscriptions.notify(e,"received",r)}},open:function(){if(t.log("WebSocket onopen event, using '"+this.getProtocol()+"' subprotocol"),this.disconnected=!1,!this.isProtocolSupported())return t.log("Protocol is unsupported. Stopping monitor and disconnecting."),this.close({allowReconnect:!1})},close:function(){if(t.log("WebSocket onclose event"),!this.disconnected)return this.disconnected=!0,this.monitor.recordDisconnect(),this.subscriptions.notifyAll("disconnected",{willAttemptReconnect:this.monitor.isRunning()})},error:function(){return t.log("WebSocket onerror event")}},e}()}.call(this),function(){var e=[].slice;t.Subscriptions=function(){function n(t){this.consumer=t,this.subscriptions=[]}return n.prototype.create=function(e,n){var r,i,o;return r=e,i="object"==typeof r?r:{channel:r},o=new t.Subscription(this.consumer,i,n),this.add(o)},n.prototype.add=function(t){return this.subscriptions.push(t),this.consumer.ensureActiveConnection(),this.notify(t,"initialized"),this.sendCommand(t,"subscribe"),t},n.prototype.remove=function(t){return this.forget(t),this.findAll(t.identifier).length||this.sendCommand(t,"unsubscribe"),t},n.prototype.reject=function(t){var e,n,r,i,o;for(r=this.findAll(t),i=[],e=0,n=r.length;e<n;e++)o=r[e],this.forget(o),this.notify(o,"rejected"),i.push(o);return i},n.prototype.forget=function(t){var e;return this.subscriptions=function(){var n,r,i,o;for(i=this.subscriptions,o=[],n=0,r=i.length;n<r;n++)(e=i[n])!==t&&o.push(e);return o}.call(this),t},n.prototype.findAll=function(t){var e,n,r,i,o;for(r=this.subscriptions,i=[],e=0,n=r.length;e<n;e++)o=r[e],o.identifier===t&&i.push(o);return i},n.prototype.reload=function(){var t,e,n,r,i;for(n=this.subscriptions,r=[],t=0,e=n.length;t<e;t++)i=n[t],r.push(this.sendCommand(i,"subscribe"));return r},n.prototype.notifyAll=function(){var t,n,r,i,o,s,a;for(n=arguments[0],t=2<=arguments.length?e.call(arguments,1):[],o=this.subscriptions,s=[],r=0,i=o.length;r<i;r++)a=o[r],s.push(this.notify.apply(this,[a,n].concat(e.call(t))));return s},n.prototype.notify=function(){var t,n,r,i,o,s,a;for(s=arguments[0],n=arguments[1],t=3<=arguments.length?e.call(arguments,2):[],a="string"==typeof s?this.findAll(s):[s],o=[],r=0,i=a.length;r<i;r++)s=a[r],o.push("function"==typeof s[n]?s[n].apply(s,t):void 0);return o},n.prototype.sendCommand=function(t,e){var n;return n=t.identifier,this.consumer.send({command:e,identifier:n})},n}()}.call(this),function(){t.Subscription=function(){function t(t,n,r){this.consumer=t,null==n&&(n={}),this.identifier=JSON.stringify(n),e(this,r)}var e;return t.prototype.perform=function(t,e){return null==e&&(e={}),e.action=t,this.send(e)},t.prototype.send=function(t){return this.consumer.send({command:"message",identifier:this.identifier,data:JSON.stringify(t)})},t.prototype.unsubscribe=function(){return this.consumer.subscriptions.remove(this)},e=function(t,e){var n,r;if(null!=e)for(n in e)r=e[n],t[n]=r;return t},t}()}.call(this),function(){t.Consumer=function(){function e(e){this.url=e,this.subscriptions=new t.Subscriptions(this),this.connection=new t.Connection(this)}return e.prototype.send=function(t){return this.connection.send(t)},e.prototype.connect=function(){return this.connection.open()},e.prototype.disconnect=function(){return this.connection.close({allowReconnect:!1})},e.prototype.ensureActiveConnection=function(){if(!this.connection.isActive())return this.connection.open()},e}()}.call(this)}).call(this),"object"==typeof module&&module.exports?module.exports=t:"function"==typeof define&&define.amd&&define(t)}.call(this),function(){this.App||(this.App={}),App.cable=ActionCable.createConsumer()}.call(this),function(){}.call(this),$(function(){$("#category").change(function(){changeSelect($("#category").val(),"#subject")})}),function(){}.call(this),function(){}.call(this);var _hmt=_hmt||[];!function(){var t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?58ffbf238453efce70b94041cc437e5b";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}(),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),$(function(){$("#select-video-modal .pagination a").attr("data-remote","true")}),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),$(function(){$(".video-item").click(function(){var t=$(this).data("video-id"),e=$(this).data("video-title"),n=$("#select-video-modal"),r=n.data("chapter_id"),i=n.data("section_id");$("#course_chapters_attributes_"+r+"_sections_attributes_"+i+"_video_id").val(t),$("#course_chapters_attributes_"+r+"_sections_attributes_"+i+"_video_title").html(e),n.modal("hide")})}),function(){}.call(this);